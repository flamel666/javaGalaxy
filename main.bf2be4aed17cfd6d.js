"use strict";(self.webpackChunkjavaGalaxy=self.webpackChunkjavaGalaxy||[]).push([[179],{487:(dn,tt,z)=>{z.d(tt,{b:()=>nE,s:()=>jS});var D=z(2313),X=z(5797),c=z(7587);const $e=[{path:"**",redirectTo:"home"},{path:"",loadChildren:()=>Promise.resolve().then(z.bind(z,1147)).then(o=>o.HomeModule)},{path:"auth",loadChildren:()=>Promise.resolve().then(z.bind(z,3401)).then(o=>o.AuthenticationModule)},{path:"code",loadChildren:()=>Promise.resolve().then(z.bind(z,4493)).then(o=>o.TutorialContentModule)},{path:"home",loadChildren:()=>Promise.resolve().then(z.bind(z,1147)).then(o=>o.HomeModule)}];let J=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=c.oAB({type:o}),o.\u0275inj=c.cJS({imports:[[X.Bz.forRoot($e)],X.Bz]}),o})();var ae=z(1062),ee=z(7579);let xe=(()=>{class o{constructor(){var t,n,i;this.theme=new ee.x,this.innerWidth=new ee.x,this.innerHeight=new ee.x,this.animationGlowSun=new ee.x,this.themeChanged$=null===(t=this.theme)||void 0===t?void 0:t.asObservable(),this.innerWidth$=null===(n=this.innerWidth)||void 0===n?void 0:n.asObservable(),this.startAnimationGlowSun$=null===(i=this.animationGlowSun)||void 0===i?void 0:i.asObservable()}changeTheme(t){var n;null===(n=this.theme)||void 0===n||n.next(t)}resizeWindow(t,n){var i,a;this.innerWidthDimension=t,this.innerHeightDimension=n,null===(i=this.innerWidth)||void 0===i||i.next(t),null===(a=this.innerHeight)||void 0===a||a.next(n)}startAnimationGlowSun(t){var n;console.log("nel service: "+t),null===(n=this.animationGlowSun)||void 0===n||n.next(t)}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275prov=c.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var me=z(9808);let oe=(()=>{class o{constructor(t,n){this.document=t,this.platformId=n,this.documentIsAccessible=(0,me.NF)(this.platformId)}static getCookieRegExp(t){const n=t.replace(/([\[\]\{\}\(\)\|\=\;\+\?\,\.\*\^\$])/gi,"\\$1");return new RegExp("(?:^"+n+"|;\\s*"+n+")=(.*?)(?:;|$)","g")}static safeDecodeURIComponent(t){try{return decodeURIComponent(t)}catch(n){return t}}check(t){return!!this.documentIsAccessible&&(t=encodeURIComponent(t),o.getCookieRegExp(t).test(this.document.cookie))}get(t){if(this.documentIsAccessible&&this.check(t)){t=encodeURIComponent(t);const i=o.getCookieRegExp(t).exec(this.document.cookie);return i[1]?o.safeDecodeURIComponent(i[1]):""}return""}getAll(){if(!this.documentIsAccessible)return{};const t={},n=this.document;return n.cookie&&""!==n.cookie&&n.cookie.split(";").forEach(i=>{const[a,u]=i.split("=");t[o.safeDecodeURIComponent(a.replace(/^ /,""))]=o.safeDecodeURIComponent(u)}),t}set(t,n,i,a,u,h,g){if(!this.documentIsAccessible)return;if("number"==typeof i||i instanceof Date||a||u||h||g)return void this.set(t,n,{expires:i,path:a,domain:u,secure:h,sameSite:g||"Lax"});let p=encodeURIComponent(t)+"="+encodeURIComponent(n)+";";const C=i||{};C.expires&&(p+="number"==typeof C.expires?"expires="+new Date((new Date).getTime()+1e3*C.expires*60*60*24).toUTCString()+";":"expires="+C.expires.toUTCString()+";"),C.path&&(p+="path="+C.path+";"),C.domain&&(p+="domain="+C.domain+";"),!1===C.secure&&"None"===C.sameSite&&(C.secure=!0,console.warn(`[ngx-cookie-service] Cookie ${t} was forced with secure flag because sameSite=None.More details : https://github.com/stevermeister/ngx-cookie-service/issues/86#issuecomment-597720130`)),C.secure&&(p+="secure;"),C.sameSite||(C.sameSite="Lax"),p+="sameSite="+C.sameSite+";",this.document.cookie=p}delete(t,n,i,a,u="Lax"){if(!this.documentIsAccessible)return;const h=new Date("Thu, 01 Jan 1970 00:00:01 GMT");this.set(t,"",{expires:h,path:n,domain:i,secure:a,sameSite:u})}deleteAll(t,n,i,a="Lax"){if(!this.documentIsAccessible)return;const u=this.getAll();for(const h in u)u.hasOwnProperty(h)&&this.delete(h,t,n,i,a)}}return o.\u0275fac=function(t){return new(t||o)(c.LFG(me.K0),c.LFG(c.Lbi))},o.\u0275prov=c.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var de=z(5861);const Sn=1e3,yn=1001,Dn=1003,fi=1006,Ji=1008,is=1009,mt=1014,kt=1015,Fn=1016,gr=1020,_r=1023,Fr=1026,vr=1027,ea=2300,ta=2301,Co=3e3,Ii=3001,ss="srgb",Ao="srgb-linear";class kn{addEventListener(e,t){void 0===this._listeners&&(this._listeners={});const n=this._listeners;void 0===n[e]&&(n[e]=[]),-1===n[e].indexOf(t)&&n[e].push(t)}hasEventListener(e,t){if(void 0===this._listeners)return!1;const n=this._listeners;return void 0!==n[e]&&-1!==n[e].indexOf(t)}removeEventListener(e,t){if(void 0===this._listeners)return;const i=this._listeners[e];if(void 0!==i){const a=i.indexOf(t);-1!==a&&i.splice(a,1)}}dispatchEvent(e){if(void 0===this._listeners)return;const n=this._listeners[e.type];if(void 0!==n){e.target=this;const i=n.slice(0);for(let a=0,u=i.length;a<u;a++)i[a].call(this,e);e.target=null}}}const vi=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let wi=1234567;const Pi=Math.PI/180,Qi=180/Math.PI;function qi(){const o=4294967295*Math.random()|0,e=4294967295*Math.random()|0,t=4294967295*Math.random()|0,n=4294967295*Math.random()|0;return(vi[255&o]+vi[o>>8&255]+vi[o>>16&255]+vi[o>>24&255]+"-"+vi[255&e]+vi[e>>8&255]+"-"+vi[e>>16&15|64]+vi[e>>24&255]+"-"+vi[63&t|128]+vi[t>>8&255]+"-"+vi[t>>16&255]+vi[t>>24&255]+vi[255&n]+vi[n>>8&255]+vi[n>>16&255]+vi[n>>24&255]).toLowerCase()}function Oi(o,e,t){return Math.max(e,Math.min(t,o))}function Cs(o,e){return(o%e+e)%e}function _o(o,e,t){return(1-t)*o+t*e}function Ic(o){return 0==(o&o-1)&&0!==o}function Xi(o){return Math.pow(2,Math.ceil(Math.log(o)/Math.LN2))}function Fl(o){return Math.pow(2,Math.floor(Math.log(o)/Math.LN2))}var Bu=Object.freeze({__proto__:null,DEG2RAD:Pi,RAD2DEG:Qi,generateUUID:qi,clamp:Oi,euclideanModulo:Cs,mapLinear:function Ws(o,e,t,n,i){return n+(o-e)*(i-n)/(t-e)},inverseLerp:function Ka(o,e,t){return o!==e?(t-o)/(e-o):0},lerp:_o,damp:function Gn(o,e,t,n){return _o(o,e,1-Math.exp(-t*n))},pingpong:function rC(o,e=1){return e-Math.abs(Cs(o,2*e)-e)},smoothstep:function Qf(o,e,t){return o<=e?0:o>=t?1:(o=(o-e)/(t-e))*o*(3-2*o)},smootherstep:function Nu(o,e,t){return o<=e?0:o>=t?1:(o=(o-e)/(t-e))*o*o*(o*(6*o-15)+10)},randInt:function Xf(o,e){return o+Math.floor(Math.random()*(e-o+1))},randFloat:function Fu(o,e){return o+Math.random()*(e-o)},randFloatSpread:function Ac(o){return o*(.5-Math.random())},seededRandom:function eg(o){void 0!==o&&(wi=o);let e=wi+=1831565813;return e=Math.imul(e^e>>>15,1|e),e^=e+Math.imul(e^e>>>7,61|e),((e^e>>>14)>>>0)/4294967296},degToRad:function Pt(o){return o*Pi},radToDeg:function ai(o){return o*Qi},isPowerOfTwo:Ic,ceilPowerOfTwo:Xi,floorPowerOfTwo:Fl,setQuaternionFromProperEuler:function kl(o,e,t,n,i){const a=Math.cos,u=Math.sin,h=a(t/2),g=u(t/2),p=a((e+n)/2),C=u((e+n)/2),A=a((e-n)/2),v=u((e-n)/2),b=a((n-e)/2),E=u((n-e)/2);switch(i){case"XYX":o.set(h*C,g*A,g*v,h*p);break;case"YZY":o.set(g*v,h*C,g*A,h*p);break;case"ZXZ":o.set(g*A,g*v,h*C,h*p);break;case"XZX":o.set(h*C,g*E,g*b,h*p);break;case"YXY":o.set(g*b,h*C,g*E,h*p);break;case"ZYZ":o.set(g*E,g*b,h*C,h*p);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}},normalize:function ku(o,e){switch(e.constructor){case Float32Array:return o;case Uint16Array:return Math.round(65535*o);case Uint8Array:return Math.round(255*o);case Int16Array:return Math.round(32767*o);case Int8Array:return Math.round(127*o);default:throw new Error("Invalid component type.")}},denormalize:function As(o,e){switch(e.constructor){case Float32Array:return o;case Uint16Array:return o/65535;case Uint8Array:return o/255;case Int16Array:return Math.max(o/32767,-1);case Int8Array:return Math.max(o/127,-1);default:throw new Error("Invalid component type.")}}});class vt{constructor(e=0,t=0){vt.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,n=this.y,i=e.elements;return this.x=i[0]*t+i[3]*n+i[6],this.y=i[1]*t+i[4]*n+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,n=this.y-e.y;return t*t+n*n}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const n=Math.cos(t),i=Math.sin(t),a=this.x-e.x,u=this.y-e.y;return this.x=a*n-u*i+e.x,this.y=a*i+u*n+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Ns{constructor(){Ns.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1]}set(e,t,n,i,a,u,h,g,p){const C=this.elements;return C[0]=e,C[1]=i,C[2]=h,C[3]=t,C[4]=a,C[5]=g,C[6]=n,C[7]=u,C[8]=p,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],this}extractBasis(e,t,n){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const n=e.elements,i=t.elements,a=this.elements,u=n[0],h=n[3],g=n[6],p=n[1],C=n[4],A=n[7],v=n[2],b=n[5],E=n[8],S=i[0],T=i[3],B=i[6],V=i[1],$=i[4],U=i[7],Q=i[2],ne=i[5],Ie=i[8];return a[0]=u*S+h*V+g*Q,a[3]=u*T+h*$+g*ne,a[6]=u*B+h*U+g*Ie,a[1]=p*S+C*V+A*Q,a[4]=p*T+C*$+A*ne,a[7]=p*B+C*U+A*Ie,a[2]=v*S+b*V+E*Q,a[5]=v*T+b*$+E*ne,a[8]=v*B+b*U+E*Ie,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],n=e[1],i=e[2],a=e[3],u=e[4],h=e[5],g=e[6],p=e[7],C=e[8];return t*u*C-t*h*p-n*a*C+n*h*g+i*a*p-i*u*g}invert(){const e=this.elements,t=e[0],n=e[1],i=e[2],a=e[3],u=e[4],h=e[5],g=e[6],p=e[7],C=e[8],A=C*u-h*p,v=h*g-C*a,b=p*a-u*g,E=t*A+n*v+i*b;if(0===E)return this.set(0,0,0,0,0,0,0,0,0);const S=1/E;return e[0]=A*S,e[1]=(i*p-C*n)*S,e[2]=(h*n-i*u)*S,e[3]=v*S,e[4]=(C*t-i*g)*S,e[5]=(i*a-h*t)*S,e[6]=b*S,e[7]=(n*g-p*t)*S,e[8]=(u*t-n*a)*S,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,n,i,a,u,h){const g=Math.cos(a),p=Math.sin(a);return this.set(n*g,n*p,-n*(g*u+p*h)+u+e,-i*p,i*g,-i*(-p*u+g*h)+h+t,0,0,1),this}scale(e,t){const n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=t,n[4]*=t,n[7]*=t,this}rotate(e){const t=Math.cos(e),n=Math.sin(e),i=this.elements,a=i[0],u=i[3],h=i[6],g=i[1],p=i[4],C=i[7];return i[0]=t*a+n*g,i[3]=t*u+n*p,i[6]=t*h+n*C,i[1]=-n*a+t*g,i[4]=-n*u+t*p,i[7]=-n*h+t*C,this}translate(e,t){const n=this.elements;return n[0]+=e*n[2],n[3]+=e*n[5],n[6]+=e*n[8],n[1]+=t*n[2],n[4]+=t*n[5],n[7]+=t*n[8],this}equals(e){const t=this.elements,n=e.elements;for(let i=0;i<9;i++)if(t[i]!==n[i])return!1;return!0}fromArray(e,t=0){for(let n=0;n<9;n++)this.elements[n]=e[n+t];return this}toArray(e=[],t=0){const n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e}clone(){return(new this.constructor).fromArray(this.elements)}}function Bl(o){for(let e=o.length-1;e>=0;--e)if(o[e]>65535)return!0;return!1}function Fs(o){return document.createElementNS("http://www.w3.org/1999/xhtml",o)}function aa(o){return o<.04045?.0773993808*o:Math.pow(.9478672986*o+.0521327014,2.4)}function vo(o){return o<.0031308?12.92*o:1.055*Math.pow(o,.41666)-.055}Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array;const ro={[ss]:{[Ao]:aa},[Ao]:{[ss]:vo}},so={legacyMode:!0,get workingColorSpace(){return Ao},set workingColorSpace(o){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(o,e,t){if(this.legacyMode||e===t||!e||!t)return o;if(ro[e]&&void 0!==ro[e][t]){const n=ro[e][t];return o.r=n(o.r),o.g=n(o.g),o.b=n(o.b),o}throw new Error("Unsupported color space conversion.")},fromWorkingColorSpace:function(o,e){return this.convert(o,this.workingColorSpace,e)},toWorkingColorSpace:function(o,e){return this.convert(o,e,this.workingColorSpace)}},Vu={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},br={r:0,g:0,b:0},oo={h:0,s:0,l:0},Da={h:0,s:0,l:0};function vc(o,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?o+6*(e-o)*t:t<.5?e:t<2/3?o+6*(e-o)*(2/3-t):o}function Ja(o,e){return e.r=o.r,e.g=o.g,e.b=o.b,e}let Pa,$t=(()=>{class o{constructor(t,n,i){return this.isColor=!0,this.r=1,this.g=1,this.b=1,void 0===n&&void 0===i?this.set(t):this.setRGB(t,n,i)}set(t){return t&&t.isColor?this.copy(t):"number"==typeof t?this.setHex(t):"string"==typeof t&&this.setStyle(t),this}setScalar(t){return this.r=t,this.g=t,this.b=t,this}setHex(t,n=ss){return t=Math.floor(t),this.r=(t>>16&255)/255,this.g=(t>>8&255)/255,this.b=(255&t)/255,so.toWorkingColorSpace(this,n),this}setRGB(t,n,i,a=Ao){return this.r=t,this.g=n,this.b=i,so.toWorkingColorSpace(this,a),this}setHSL(t,n,i,a=Ao){if(t=Cs(t,1),n=Oi(n,0,1),i=Oi(i,0,1),0===n)this.r=this.g=this.b=i;else{const u=i<=.5?i*(1+n):i+n-i*n,h=2*i-u;this.r=vc(h,u,t+1/3),this.g=vc(h,u,t),this.b=vc(h,u,t-1/3)}return so.toWorkingColorSpace(this,a),this}setStyle(t,n=ss){function i(u){void 0!==u&&parseFloat(u)<1&&console.warn("THREE.Color: Alpha component of "+t+" will be ignored.")}let a;if(a=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(t)){let u;const g=a[2];switch(a[1]){case"rgb":case"rgba":if(u=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(g))return this.r=Math.min(255,parseInt(u[1],10))/255,this.g=Math.min(255,parseInt(u[2],10))/255,this.b=Math.min(255,parseInt(u[3],10))/255,so.toWorkingColorSpace(this,n),i(u[4]),this;if(u=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(g))return this.r=Math.min(100,parseInt(u[1],10))/100,this.g=Math.min(100,parseInt(u[2],10))/100,this.b=Math.min(100,parseInt(u[3],10))/100,so.toWorkingColorSpace(this,n),i(u[4]),this;break;case"hsl":case"hsla":if(u=/^\s*(\d*\.?\d+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(g)){const p=parseFloat(u[1])/360,C=parseInt(u[2],10)/100,A=parseInt(u[3],10)/100;return i(u[4]),this.setHSL(p,C,A,n)}}}else if(a=/^\#([A-Fa-f\d]+)$/.exec(t)){const u=a[1],h=u.length;if(3===h)return this.r=parseInt(u.charAt(0)+u.charAt(0),16)/255,this.g=parseInt(u.charAt(1)+u.charAt(1),16)/255,this.b=parseInt(u.charAt(2)+u.charAt(2),16)/255,so.toWorkingColorSpace(this,n),this;if(6===h)return this.r=parseInt(u.charAt(0)+u.charAt(1),16)/255,this.g=parseInt(u.charAt(2)+u.charAt(3),16)/255,this.b=parseInt(u.charAt(4)+u.charAt(5),16)/255,so.toWorkingColorSpace(this,n),this}return t&&t.length>0?this.setColorName(t,n):this}setColorName(t,n=ss){const i=Vu[t.toLowerCase()];return void 0!==i?this.setHex(i,n):console.warn("THREE.Color: Unknown color "+t),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(t){return this.r=t.r,this.g=t.g,this.b=t.b,this}copySRGBToLinear(t){return this.r=aa(t.r),this.g=aa(t.g),this.b=aa(t.b),this}copyLinearToSRGB(t){return this.r=vo(t.r),this.g=vo(t.g),this.b=vo(t.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(t=ss){return so.fromWorkingColorSpace(Ja(this,br),t),Oi(255*br.r,0,255)<<16^Oi(255*br.g,0,255)<<8^Oi(255*br.b,0,255)<<0}getHexString(t=ss){return("000000"+this.getHex(t).toString(16)).slice(-6)}getHSL(t,n=Ao){so.fromWorkingColorSpace(Ja(this,br),n);const i=br.r,a=br.g,u=br.b,h=Math.max(i,a,u),g=Math.min(i,a,u);let p,C;const A=(g+h)/2;if(g===h)p=0,C=0;else{const v=h-g;switch(C=A<=.5?v/(h+g):v/(2-h-g),h){case i:p=(a-u)/v+(a<u?6:0);break;case a:p=(u-i)/v+2;break;case u:p=(i-a)/v+4}p/=6}return t.h=p,t.s=C,t.l=A,t}getRGB(t,n=Ao){return so.fromWorkingColorSpace(Ja(this,br),n),t.r=br.r,t.g=br.g,t.b=br.b,t}getStyle(t=ss){return so.fromWorkingColorSpace(Ja(this,br),t),t!==ss?`color(${t} ${br.r} ${br.g} ${br.b})`:`rgb(${255*br.r|0},${255*br.g|0},${255*br.b|0})`}offsetHSL(t,n,i){return this.getHSL(oo),oo.h+=t,oo.s+=n,oo.l+=i,this.setHSL(oo.h,oo.s,oo.l),this}add(t){return this.r+=t.r,this.g+=t.g,this.b+=t.b,this}addColors(t,n){return this.r=t.r+n.r,this.g=t.g+n.g,this.b=t.b+n.b,this}addScalar(t){return this.r+=t,this.g+=t,this.b+=t,this}sub(t){return this.r=Math.max(0,this.r-t.r),this.g=Math.max(0,this.g-t.g),this.b=Math.max(0,this.b-t.b),this}multiply(t){return this.r*=t.r,this.g*=t.g,this.b*=t.b,this}multiplyScalar(t){return this.r*=t,this.g*=t,this.b*=t,this}lerp(t,n){return this.r+=(t.r-this.r)*n,this.g+=(t.g-this.g)*n,this.b+=(t.b-this.b)*n,this}lerpColors(t,n,i){return this.r=t.r+(n.r-t.r)*i,this.g=t.g+(n.g-t.g)*i,this.b=t.b+(n.b-t.b)*i,this}lerpHSL(t,n){this.getHSL(oo),t.getHSL(Da);const i=_o(oo.h,Da.h,n),a=_o(oo.s,Da.s,n),u=_o(oo.l,Da.l,n);return this.setHSL(i,a,u),this}equals(t){return t.r===this.r&&t.g===this.g&&t.b===this.b}fromArray(t,n=0){return this.r=t[n],this.g=t[n+1],this.b=t[n+2],this}toArray(t=[],n=0){return t[n]=this.r,t[n+1]=this.g,t[n+2]=this.b,t}fromBufferAttribute(t,n){return this.r=t.getX(n),this.g=t.getY(n),this.b=t.getZ(n),!0===t.normalized&&(this.r/=255,this.g/=255,this.b/=255),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}return o.NAMES=Vu,o})();class yc{static getDataURL(e){if(/^data:/i.test(e.src)||"undefined"==typeof HTMLCanvasElement)return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{void 0===Pa&&(Pa=Fs("canvas")),Pa.width=e.width,Pa.height=e.height;const n=Pa.getContext("2d");e instanceof ImageData?n.putImageData(e,0,0):n.drawImage(e,0,0,e.width,e.height),t=Pa}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}static sRGBToLinear(e){if("undefined"!=typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&e instanceof ImageBitmap){const t=Fs("canvas");t.width=e.width,t.height=e.height;const n=t.getContext("2d");n.drawImage(e,0,0,e.width,e.height);const i=n.getImageData(0,0,e.width,e.height),a=i.data;for(let u=0;u<a.length;u++)a[u]=255*aa(a[u]/255);return n.putImageData(i,0,0),t}if(e.data){const t=e.data.slice(0);for(let n=0;n<t.length;n++)t[n]=t instanceof Uint8Array||t instanceof Uint8ClampedArray?Math.floor(255*aa(t[n]/255)):aa(t[n]);return{data:t,width:e.width,height:e.height}}return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}class Lo{constructor(e=null){this.isSource=!0,this.uuid=qi(),this.data=e,this.version=0}set needsUpdate(e){!0===e&&this.version++}toJSON(e){const t=void 0===e||"string"==typeof e;if(!t&&void 0!==e.images[this.uuid])return e.images[this.uuid];const n={uuid:this.uuid,url:""},i=this.data;if(null!==i){let a;if(Array.isArray(i)){a=[];for(let u=0,h=i.length;u<h;u++)a.push(xc(i[u].isDataTexture?i[u].image:i[u]))}else a=xc(i);n.url=a}return t||(e.images[this.uuid]=n),n}}function xc(o){return"undefined"!=typeof HTMLImageElement&&o instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&o instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&o instanceof ImageBitmap?yc.getDataURL(o):o.data?{data:Array.from(o.data),width:o.width,height:o.height,type:o.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let ih=0,js=(()=>{class o extends kn{constructor(t=o.DEFAULT_IMAGE,n=o.DEFAULT_MAPPING,i=yn,a=yn,u=fi,h=Ji,g=_r,p=is,C=1,A=Co){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:ih++}),this.uuid=qi(),this.name="",this.source=new Lo(t),this.mipmaps=[],this.mapping=n,this.wrapS=i,this.wrapT=a,this.magFilter=u,this.minFilter=h,this.anisotropy=C,this.format=g,this.internalFormat=null,this.type=p,this.offset=new vt(0,0),this.repeat=new vt(1,1),this.center=new vt(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Ns,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=A,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(t){this.source.data=t}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return(new this.constructor).copy(this)}copy(t){return this.name=t.name,this.source=t.source,this.mipmaps=t.mipmaps.slice(0),this.mapping=t.mapping,this.wrapS=t.wrapS,this.wrapT=t.wrapT,this.magFilter=t.magFilter,this.minFilter=t.minFilter,this.anisotropy=t.anisotropy,this.format=t.format,this.internalFormat=t.internalFormat,this.type=t.type,this.offset.copy(t.offset),this.repeat.copy(t.repeat),this.center.copy(t.center),this.rotation=t.rotation,this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrix.copy(t.matrix),this.generateMipmaps=t.generateMipmaps,this.premultiplyAlpha=t.premultiplyAlpha,this.flipY=t.flipY,this.unpackAlignment=t.unpackAlignment,this.encoding=t.encoding,this.userData=JSON.parse(JSON.stringify(t.userData)),this.needsUpdate=!0,this}toJSON(t){const n=void 0===t||"string"==typeof t;if(!n&&void 0!==t.textures[this.uuid])return t.textures[this.uuid];const i={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(t).uuid,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return"{}"!==JSON.stringify(this.userData)&&(i.userData=this.userData),n||(t.textures[this.uuid]=i),i}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(t){if(300!==this.mapping)return t;if(t.applyMatrix3(this.matrix),t.x<0||t.x>1)switch(this.wrapS){case Sn:t.x=t.x-Math.floor(t.x);break;case yn:t.x=t.x<0?0:1;break;case 1002:t.x=1===Math.abs(Math.floor(t.x)%2)?Math.ceil(t.x)-t.x:t.x-Math.floor(t.x)}if(t.y<0||t.y>1)switch(this.wrapT){case Sn:t.y=t.y-Math.floor(t.y);break;case yn:t.y=t.y<0?0:1;break;case 1002:t.y=1===Math.abs(Math.floor(t.y)%2)?Math.ceil(t.y)-t.y:t.y-Math.floor(t.y)}return this.flipY&&(t.y=1-t.y),t}set needsUpdate(t){!0===t&&(this.version++,this.source.needsUpdate=!0)}}return o.DEFAULT_IMAGE=null,o.DEFAULT_MAPPING=300,o})();class Mi{constructor(e=0,t=0,n=0,i=1){Mi.prototype.isVector4=!0,this.x=e,this.y=t,this.z=n,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,n,i){return this.x=e,this.y=t,this.z=n,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=void 0!==e.w?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,n=this.y,i=this.z,a=this.w,u=e.elements;return this.x=u[0]*t+u[4]*n+u[8]*i+u[12]*a,this.y=u[1]*t+u[5]*n+u[9]*i+u[13]*a,this.z=u[2]*t+u[6]*n+u[10]*i+u[14]*a,this.w=u[3]*t+u[7]*n+u[11]*i+u[15]*a,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,n,i,a;const g=e.elements,p=g[0],C=g[4],A=g[8],v=g[1],b=g[5],E=g[9],S=g[2],T=g[6],B=g[10];if(Math.abs(C-v)<.01&&Math.abs(A-S)<.01&&Math.abs(E-T)<.01){if(Math.abs(C+v)<.1&&Math.abs(A+S)<.1&&Math.abs(E+T)<.1&&Math.abs(p+b+B-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const $=(p+1)/2,U=(b+1)/2,Q=(B+1)/2,ne=(C+v)/4,Ie=(A+S)/4,G=(E+T)/4;return $>U&&$>Q?$<.01?(n=0,i=.707106781,a=.707106781):(n=Math.sqrt($),i=ne/n,a=Ie/n):U>Q?U<.01?(n=.707106781,i=0,a=.707106781):(i=Math.sqrt(U),n=ne/i,a=G/i):Q<.01?(n=.707106781,i=.707106781,a=0):(a=Math.sqrt(Q),n=Ie/a,i=G/a),this.set(n,i,a,t),this}let V=Math.sqrt((T-E)*(T-E)+(A-S)*(A-S)+(v-C)*(v-C));return Math.abs(V)<.001&&(V=1),this.x=(T-E)/V,this.y=(A-S)/V,this.z=(v-C)/V,this.w=Math.acos((p+b+B-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this.w=e.w+(t.w-e.w)*n,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class Is extends kn{constructor(e,t,n={}){super(),this.isWebGLRenderTarget=!0,this.width=e,this.height=t,this.depth=1,this.scissor=new Mi(0,0,e,t),this.scissorTest=!1,this.viewport=new Mi(0,0,e,t),this.texture=new js({width:e,height:t,depth:1},n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.encoding),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=void 0!==n.generateMipmaps&&n.generateMipmaps,this.texture.internalFormat=void 0!==n.internalFormat?n.internalFormat:null,this.texture.minFilter=void 0!==n.minFilter?n.minFilter:fi,this.depthBuffer=void 0===n.depthBuffer||n.depthBuffer,this.stencilBuffer=void 0!==n.stencilBuffer&&n.stencilBuffer,this.depthTexture=void 0!==n.depthTexture?n.depthTexture:null,this.samples=void 0!==n.samples?n.samples:0}setSize(e,t,n=1){(this.width!==e||this.height!==t||this.depth!==n)&&(this.width=e,this.height=t,this.depth=n,this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=n,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return(new this.constructor).copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;const t=Object.assign({},e.texture.image);return this.texture.source=new Lo(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,null!==e.depthTexture&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class Vl extends js{constructor(e=null,t=1,n=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:n,depth:i},this.magFilter=Dn,this.minFilter=Dn,this.wrapR=yn,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class Yr extends js{constructor(e=null,t=1,n=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:n,depth:i},this.magFilter=Dn,this.minFilter=Dn,this.wrapR=yn,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class Kr{constructor(e=0,t=0,n=0,i=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=n,this._w=i}static slerpFlat(e,t,n,i,a,u,h){let g=n[i+0],p=n[i+1],C=n[i+2],A=n[i+3];const v=a[u+0],b=a[u+1],E=a[u+2],S=a[u+3];if(0===h)return e[t+0]=g,e[t+1]=p,e[t+2]=C,void(e[t+3]=A);if(1===h)return e[t+0]=v,e[t+1]=b,e[t+2]=E,void(e[t+3]=S);if(A!==S||g!==v||p!==b||C!==E){let T=1-h;const B=g*v+p*b+C*E+A*S,V=B>=0?1:-1,$=1-B*B;if($>Number.EPSILON){const Q=Math.sqrt($),ne=Math.atan2(Q,B*V);T=Math.sin(T*ne)/Q,h=Math.sin(h*ne)/Q}const U=h*V;if(g=g*T+v*U,p=p*T+b*U,C=C*T+E*U,A=A*T+S*U,T===1-h){const Q=1/Math.sqrt(g*g+p*p+C*C+A*A);g*=Q,p*=Q,C*=Q,A*=Q}}e[t]=g,e[t+1]=p,e[t+2]=C,e[t+3]=A}static multiplyQuaternionsFlat(e,t,n,i,a,u){const h=n[i],g=n[i+1],p=n[i+2],C=n[i+3],A=a[u],v=a[u+1],b=a[u+2],E=a[u+3];return e[t]=h*E+C*A+g*b-p*v,e[t+1]=g*E+C*v+p*A-h*b,e[t+2]=p*E+C*b+h*v-g*A,e[t+3]=C*E-h*A-g*v-p*b,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,n,i){return this._x=e,this._y=t,this._z=n,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t){if(!e||!e.isEuler)throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");const n=e._x,i=e._y,a=e._z,u=e._order,h=Math.cos,g=Math.sin,p=h(n/2),C=h(i/2),A=h(a/2),v=g(n/2),b=g(i/2),E=g(a/2);switch(u){case"XYZ":this._x=v*C*A+p*b*E,this._y=p*b*A-v*C*E,this._z=p*C*E+v*b*A,this._w=p*C*A-v*b*E;break;case"YXZ":this._x=v*C*A+p*b*E,this._y=p*b*A-v*C*E,this._z=p*C*E-v*b*A,this._w=p*C*A+v*b*E;break;case"ZXY":this._x=v*C*A-p*b*E,this._y=p*b*A+v*C*E,this._z=p*C*E+v*b*A,this._w=p*C*A-v*b*E;break;case"ZYX":this._x=v*C*A-p*b*E,this._y=p*b*A+v*C*E,this._z=p*C*E-v*b*A,this._w=p*C*A+v*b*E;break;case"YZX":this._x=v*C*A+p*b*E,this._y=p*b*A+v*C*E,this._z=p*C*E-v*b*A,this._w=p*C*A-v*b*E;break;case"XZY":this._x=v*C*A-p*b*E,this._y=p*b*A-v*C*E,this._z=p*C*E+v*b*A,this._w=p*C*A+v*b*E;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+u)}return!1!==t&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const n=t/2,i=Math.sin(n);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(n),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,n=t[0],i=t[4],a=t[8],u=t[1],h=t[5],g=t[9],p=t[2],C=t[6],A=t[10],v=n+h+A;if(v>0){const b=.5/Math.sqrt(v+1);this._w=.25/b,this._x=(C-g)*b,this._y=(a-p)*b,this._z=(u-i)*b}else if(n>h&&n>A){const b=2*Math.sqrt(1+n-h-A);this._w=(C-g)/b,this._x=.25*b,this._y=(i+u)/b,this._z=(a+p)/b}else if(h>A){const b=2*Math.sqrt(1+h-n-A);this._w=(a-p)/b,this._x=(i+u)/b,this._y=.25*b,this._z=(g+C)/b}else{const b=2*Math.sqrt(1+A-n-h);this._w=(u-i)/b,this._x=(a+p)/b,this._y=(g+C)/b,this._z=.25*b}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let n=e.dot(t)+1;return n<Number.EPSILON?(n=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=n):(this._x=0,this._y=-e.z,this._z=e.y,this._w=n)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=n),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Oi(this.dot(e),-1,1)))}rotateTowards(e,t){const n=this.angleTo(e);if(0===n)return this;const i=Math.min(1,t/n);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return 0===e?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const n=e._x,i=e._y,a=e._z,u=e._w,h=t._x,g=t._y,p=t._z,C=t._w;return this._x=n*C+u*h+i*p-a*g,this._y=i*C+u*g+a*h-n*p,this._z=a*C+u*p+n*g-i*h,this._w=u*C-n*h-i*g-a*p,this._onChangeCallback(),this}slerp(e,t){if(0===t)return this;if(1===t)return this.copy(e);const n=this._x,i=this._y,a=this._z,u=this._w;let h=u*e._w+n*e._x+i*e._y+a*e._z;if(h<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,h=-h):this.copy(e),h>=1)return this._w=u,this._x=n,this._y=i,this._z=a,this;const g=1-h*h;if(g<=Number.EPSILON){const b=1-t;return this._w=b*u+t*this._w,this._x=b*n+t*this._x,this._y=b*i+t*this._y,this._z=b*a+t*this._z,this.normalize(),this._onChangeCallback(),this}const p=Math.sqrt(g),C=Math.atan2(p,h),A=Math.sin((1-t)*C)/p,v=Math.sin(t*C)/p;return this._w=u*A+this._w*v,this._x=n*A+this._x*v,this._y=i*A+this._y*v,this._z=a*A+this._z*v,this._onChangeCallback(),this}slerpQuaternions(e,t,n){return this.copy(e).slerp(t,n)}random(){const e=Math.random(),t=Math.sqrt(1-e),n=Math.sqrt(e),i=2*Math.PI*Math.random(),a=2*Math.PI*Math.random();return this.set(t*Math.cos(i),n*Math.sin(a),n*Math.cos(a),t*Math.sin(i))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class se{constructor(e=0,t=0,n=0){se.prototype.isVector3=!0,this.x=e,this.y=t,this.z=n}set(e,t,n){return void 0===n&&(n=this.z),this.x=e,this.y=t,this.z=n,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(rh.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(rh.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,n=this.y,i=this.z,a=e.elements;return this.x=a[0]*t+a[3]*n+a[6]*i,this.y=a[1]*t+a[4]*n+a[7]*i,this.z=a[2]*t+a[5]*n+a[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,n=this.y,i=this.z,a=e.elements,u=1/(a[3]*t+a[7]*n+a[11]*i+a[15]);return this.x=(a[0]*t+a[4]*n+a[8]*i+a[12])*u,this.y=(a[1]*t+a[5]*n+a[9]*i+a[13])*u,this.z=(a[2]*t+a[6]*n+a[10]*i+a[14])*u,this}applyQuaternion(e){const t=this.x,n=this.y,i=this.z,a=e.x,u=e.y,h=e.z,g=e.w,p=g*t+u*i-h*n,C=g*n+h*t-a*i,A=g*i+a*n-u*t,v=-a*t-u*n-h*i;return this.x=p*g+v*-a+C*-h-A*-u,this.y=C*g+v*-u+A*-a-p*-h,this.z=A*g+v*-h+p*-u-C*-a,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,n=this.y,i=this.z,a=e.elements;return this.x=a[0]*t+a[4]*n+a[8]*i,this.y=a[1]*t+a[5]*n+a[9]*i,this.z=a[2]*t+a[6]*n+a[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const n=e.x,i=e.y,a=e.z,u=t.x,h=t.y,g=t.z;return this.x=i*g-a*h,this.y=a*u-n*g,this.z=n*h-i*u,this}projectOnVector(e){const t=e.lengthSq();if(0===t)return this.set(0,0,0);const n=e.dot(this)/t;return this.copy(e).multiplyScalar(n)}projectOnPlane(e){return bc.copy(this).projectOnVector(e),this.sub(bc)}reflect(e){return this.sub(bc.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(0===t)return Math.PI/2;const n=this.dot(e)/t;return Math.acos(Oi(n,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,n=this.y-e.y,i=this.z-e.z;return t*t+n*n+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,n){const i=Math.sin(t)*e;return this.x=i*Math.sin(n),this.y=Math.cos(t)*e,this.z=i*Math.cos(n),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,n){return this.x=e*Math.sin(t),this.y=n,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),n=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=n,this.z=i,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,4*t)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,3*t)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=2*(Math.random()-.5),t=Math.random()*Math.PI*2,n=Math.sqrt(1-e**2);return this.x=n*Math.cos(t),this.y=n*Math.sin(t),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const bc=new se,rh=new Kr;class La{constructor(e=new se(1/0,1/0,1/0),t=new se(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){let t=1/0,n=1/0,i=1/0,a=-1/0,u=-1/0,h=-1/0;for(let g=0,p=e.length;g<p;g+=3){const C=e[g],A=e[g+1],v=e[g+2];C<t&&(t=C),A<n&&(n=A),v<i&&(i=v),C>a&&(a=C),A>u&&(u=A),v>h&&(h=v)}return this.min.set(t,n,i),this.max.set(a,u,h),this}setFromBufferAttribute(e){let t=1/0,n=1/0,i=1/0,a=-1/0,u=-1/0,h=-1/0;for(let g=0,p=e.count;g<p;g++){const C=e.getX(g),A=e.getY(g),v=e.getZ(g);C<t&&(t=C),A<n&&(n=A),v<i&&(i=v),C>a&&(a=C),A>u&&(u=A),v>h&&(h=v)}return this.min.set(t,n,i),this.max.set(a,u,h),this}setFromPoints(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const n=xo.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return(new this.constructor).copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const n=e.geometry;if(void 0!==n)if(t&&null!=n.attributes&&void 0!==n.attributes.position){const a=n.attributes.position;for(let u=0,h=a.count;u<h;u++)xo.fromBufferAttribute(a,u).applyMatrix4(e.matrixWorld),this.expandByPoint(xo)}else null===n.boundingBox&&n.computeBoundingBox(),Qa.copy(n.boundingBox),Qa.applyMatrix4(e.matrixWorld),this.union(Qa);const i=e.children;for(let a=0,u=i.length;a<u;a++)this.expandByObject(i[a],t);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,xo),xo.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,n;return e.normal.x>0?(t=e.normal.x*this.min.x,n=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,n=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,n+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,n+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,n+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,n+=e.normal.z*this.min.z),t<=-e.constant&&n>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(Xa),wc.subVectors(this.max,Xa),dr.subVectors(e.a,Xa),la.subVectors(e.b,Xa),ca.subVectors(e.c,Xa),bo.subVectors(la,dr),Dr.subVectors(ca,la),Jr.subVectors(dr,ca);let t=[0,-bo.z,bo.y,0,-Dr.z,Dr.y,0,-Jr.z,Jr.y,bo.z,0,-bo.x,Dr.z,0,-Dr.x,Jr.z,0,-Jr.x,-bo.y,bo.x,0,-Dr.y,Dr.x,0,-Jr.y,Jr.x,0];return!(!Mc(t,dr,la,ca,wc)||(t=[1,0,0,0,1,0,0,0,1],!Mc(t,dr,la,ca,wc)))&&(Ro.crossVectors(bo,Dr),t=[Ro.x,Ro.y,Ro.z],Mc(t,dr,la,ca,wc))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return xo.copy(e).clamp(this.min,this.max).sub(e).length()}getBoundingSphere(e){return this.getCenter(e.center),e.radius=.5*this.getSize(xo).length(),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()||(yo[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),yo[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),yo[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),yo[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),yo[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),yo[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),yo[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),yo[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(yo)),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const yo=[new se,new se,new se,new se,new se,new se,new se,new se],xo=new se,Qa=new La,dr=new se,la=new se,ca=new se,bo=new se,Dr=new se,Jr=new se,Xa=new se,wc=new se,Ro=new se,No=new se;function Mc(o,e,t,n,i){for(let a=0,u=o.length-3;a<=u;a+=3){No.fromArray(o,a);const h=i.x*Math.abs(No.x)+i.y*Math.abs(No.y)+i.z*Math.abs(No.z),g=e.dot(No),p=t.dot(No),C=n.dot(No);if(Math.max(-Math.max(g,p,C),Math.min(g,p,C))>h)return!1}return!0}const sh=new La,Uu=new se,oh=new se,$s=new se;class Fo{constructor(e=new se,t=-1){this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const n=this.center;void 0!==t?n.copy(t):sh.setFromPoints(e).getCenter(n);let i=0;for(let a=0,u=e.length;a<u;a++)i=Math.max(i,n.distanceToSquared(e[a]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const n=this.center.distanceToSquared(e);return t.copy(e),n>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){$s.subVectors(e,this.center);const t=$s.lengthSq();if(t>this.radius*this.radius){const n=Math.sqrt(t),i=.5*(n-this.radius);this.center.add($s.multiplyScalar(i/n)),this.radius+=i}return this}union(e){return!0===this.center.equals(e.center)?oh.set(0,0,1).multiplyScalar(e.radius):oh.subVectors(e.center,this.center).normalize().multiplyScalar(e.radius),this.expandByPoint(Uu.copy(e.center).add(oh)),this.expandByPoint(Uu.copy(e.center).sub(oh)),this}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return(new this.constructor).copy(this)}}const ao=new se,el=new se,Ul=new se,ko=new se,ua=new se,Sc=new se,Bo=new se;class tl{constructor(e=new se,t=new se(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.direction).multiplyScalar(e).add(this.origin)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,ao)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const n=t.dot(this.direction);return n<0?t.copy(this.origin):t.copy(this.direction).multiplyScalar(n).add(this.origin)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=ao.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(ao.copy(this.direction).multiplyScalar(t).add(this.origin),ao.distanceToSquared(e))}distanceSqToSegment(e,t,n,i){el.copy(e).add(t).multiplyScalar(.5),Ul.copy(t).sub(e).normalize(),ko.copy(this.origin).sub(el);const a=.5*e.distanceTo(t),u=-this.direction.dot(Ul),h=ko.dot(this.direction),g=-ko.dot(Ul),p=ko.lengthSq(),C=Math.abs(1-u*u);let A,v,b,E;if(C>0)if(A=u*g-h,v=u*h-g,E=a*C,A>=0)if(v>=-E)if(v<=E){const S=1/C;A*=S,v*=S,b=A*(A+u*v+2*h)+v*(u*A+v+2*g)+p}else v=a,A=Math.max(0,-(u*v+h)),b=-A*A+v*(v+2*g)+p;else v=-a,A=Math.max(0,-(u*v+h)),b=-A*A+v*(v+2*g)+p;else v<=-E?(A=Math.max(0,-(-u*a+h)),v=A>0?-a:Math.min(Math.max(-a,-g),a),b=-A*A+v*(v+2*g)+p):v<=E?(A=0,v=Math.min(Math.max(-a,-g),a),b=v*(v+2*g)+p):(A=Math.max(0,-(u*a+h)),v=A>0?a:Math.min(Math.max(-a,-g),a),b=-A*A+v*(v+2*g)+p);else v=u>0?-a:a,A=Math.max(0,-(u*v+h)),b=-A*A+v*(v+2*g)+p;return n&&n.copy(this.direction).multiplyScalar(A).add(this.origin),i&&i.copy(Ul).multiplyScalar(v).add(el),b}intersectSphere(e,t){ao.subVectors(e.center,this.origin);const n=ao.dot(this.direction),i=ao.dot(ao)-n*n,a=e.radius*e.radius;if(i>a)return null;const u=Math.sqrt(a-i),h=n-u,g=n+u;return h<0&&g<0?null:this.at(h<0?g:h,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(0===t)return 0===e.distanceToPoint(this.origin)?0:null;const n=-(this.origin.dot(e.normal)+e.constant)/t;return n>=0?n:null}intersectPlane(e,t){const n=this.distanceToPlane(e);return null===n?null:this.at(n,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return 0===t||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let n,i,a,u,h,g;const p=1/this.direction.x,C=1/this.direction.y,A=1/this.direction.z,v=this.origin;return p>=0?(n=(e.min.x-v.x)*p,i=(e.max.x-v.x)*p):(n=(e.max.x-v.x)*p,i=(e.min.x-v.x)*p),C>=0?(a=(e.min.y-v.y)*C,u=(e.max.y-v.y)*C):(a=(e.max.y-v.y)*C,u=(e.min.y-v.y)*C),n>u||a>i||((a>n||n!=n)&&(n=a),(u<i||i!=i)&&(i=u),A>=0?(h=(e.min.z-v.z)*A,g=(e.max.z-v.z)*A):(h=(e.max.z-v.z)*A,g=(e.min.z-v.z)*A),n>g||h>i)||((h>n||n!=n)&&(n=h),(g<i||i!=i)&&(i=g),i<0)?null:this.at(n>=0?n:i,t)}intersectsBox(e){return null!==this.intersectBox(e,ao)}intersectTriangle(e,t,n,i,a){ua.subVectors(t,e),Sc.subVectors(n,e),Bo.crossVectors(ua,Sc);let h,u=this.direction.dot(Bo);if(u>0){if(i)return null;h=1}else{if(!(u<0))return null;h=-1,u=-u}ko.subVectors(this.origin,e);const g=h*this.direction.dot(Sc.crossVectors(ko,Sc));if(g<0)return null;const p=h*this.direction.dot(ua.cross(ko));if(p<0||g+p>u)return null;const C=-h*ko.dot(Bo);return C<0?null:this.at(C/u,a)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return(new this.constructor).copy(this)}}class $n{constructor(){$n.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}set(e,t,n,i,a,u,h,g,p,C,A,v,b,E,S,T){const B=this.elements;return B[0]=e,B[4]=t,B[8]=n,B[12]=i,B[1]=a,B[5]=u,B[9]=h,B[13]=g,B[2]=p,B[6]=C,B[10]=A,B[14]=v,B[3]=b,B[7]=E,B[11]=S,B[15]=T,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return(new $n).fromArray(this.elements)}copy(e){const t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],this}copyPosition(e){const t=this.elements,n=e.elements;return t[12]=n[12],t[13]=n[13],t[14]=n[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,n){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this}makeBasis(e,t,n){return this.set(e.x,t.x,n.x,0,e.y,t.y,n.y,0,e.z,t.z,n.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,n=e.elements,i=1/Hl.setFromMatrixColumn(e,0).length(),a=1/Hl.setFromMatrixColumn(e,1).length(),u=1/Hl.setFromMatrixColumn(e,2).length();return t[0]=n[0]*i,t[1]=n[1]*i,t[2]=n[2]*i,t[3]=0,t[4]=n[4]*a,t[5]=n[5]*a,t[6]=n[6]*a,t[7]=0,t[8]=n[8]*u,t[9]=n[9]*u,t[10]=n[10]*u,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,n=e.x,i=e.y,a=e.z,u=Math.cos(n),h=Math.sin(n),g=Math.cos(i),p=Math.sin(i),C=Math.cos(a),A=Math.sin(a);if("XYZ"===e.order){const v=u*C,b=u*A,E=h*C,S=h*A;t[0]=g*C,t[4]=-g*A,t[8]=p,t[1]=b+E*p,t[5]=v-S*p,t[9]=-h*g,t[2]=S-v*p,t[6]=E+b*p,t[10]=u*g}else if("YXZ"===e.order){const v=g*C,b=g*A,E=p*C,S=p*A;t[0]=v+S*h,t[4]=E*h-b,t[8]=u*p,t[1]=u*A,t[5]=u*C,t[9]=-h,t[2]=b*h-E,t[6]=S+v*h,t[10]=u*g}else if("ZXY"===e.order){const v=g*C,b=g*A,E=p*C,S=p*A;t[0]=v-S*h,t[4]=-u*A,t[8]=E+b*h,t[1]=b+E*h,t[5]=u*C,t[9]=S-v*h,t[2]=-u*p,t[6]=h,t[10]=u*g}else if("ZYX"===e.order){const v=u*C,b=u*A,E=h*C,S=h*A;t[0]=g*C,t[4]=E*p-b,t[8]=v*p+S,t[1]=g*A,t[5]=S*p+v,t[9]=b*p-E,t[2]=-p,t[6]=h*g,t[10]=u*g}else if("YZX"===e.order){const v=u*g,b=u*p,E=h*g,S=h*p;t[0]=g*C,t[4]=S-v*A,t[8]=E*A+b,t[1]=A,t[5]=u*C,t[9]=-h*C,t[2]=-p*C,t[6]=b*A+E,t[10]=v-S*A}else if("XZY"===e.order){const v=u*g,b=u*p,E=h*g,S=h*p;t[0]=g*C,t[4]=-A,t[8]=p*C,t[1]=v*A+S,t[5]=u*C,t[9]=b*A-E,t[2]=E*A-b,t[6]=h*C,t[10]=S*A+v}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(ah,e,tg)}lookAt(e,t,n){const i=this.elements;return vs.subVectors(e,t),0===vs.lengthSq()&&(vs.z=1),vs.normalize(),Vo.crossVectors(n,vs),0===Vo.lengthSq()&&(1===Math.abs(n.z)?vs.x+=1e-4:vs.z+=1e-4,vs.normalize(),Vo.crossVectors(n,vs)),Vo.normalize(),da.crossVectors(vs,Vo),i[0]=Vo.x,i[4]=da.x,i[8]=vs.x,i[1]=Vo.y,i[5]=da.y,i[9]=vs.y,i[2]=Vo.z,i[6]=da.z,i[10]=vs.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const n=e.elements,i=t.elements,a=this.elements,u=n[0],h=n[4],g=n[8],p=n[12],C=n[1],A=n[5],v=n[9],b=n[13],E=n[2],S=n[6],T=n[10],B=n[14],V=n[3],$=n[7],U=n[11],Q=n[15],ne=i[0],Ie=i[4],G=i[8],ce=i[12],Le=i[1],Ve=i[5],yt=i[9],Rt=i[13],ze=i[2],pt=i[6],De=i[10],je=i[14],Ke=i[3],He=i[7],nt=i[11],Vt=i[15];return a[0]=u*ne+h*Le+g*ze+p*Ke,a[4]=u*Ie+h*Ve+g*pt+p*He,a[8]=u*G+h*yt+g*De+p*nt,a[12]=u*ce+h*Rt+g*je+p*Vt,a[1]=C*ne+A*Le+v*ze+b*Ke,a[5]=C*Ie+A*Ve+v*pt+b*He,a[9]=C*G+A*yt+v*De+b*nt,a[13]=C*ce+A*Rt+v*je+b*Vt,a[2]=E*ne+S*Le+T*ze+B*Ke,a[6]=E*Ie+S*Ve+T*pt+B*He,a[10]=E*G+S*yt+T*De+B*nt,a[14]=E*ce+S*Rt+T*je+B*Vt,a[3]=V*ne+$*Le+U*ze+Q*Ke,a[7]=V*Ie+$*Ve+U*pt+Q*He,a[11]=V*G+$*yt+U*De+Q*nt,a[15]=V*ce+$*Rt+U*je+Q*Vt,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],n=e[4],i=e[8],a=e[12],u=e[1],h=e[5],g=e[9],p=e[13],C=e[2],A=e[6],v=e[10],b=e[14];return e[3]*(+a*g*A-i*p*A-a*h*v+n*p*v+i*h*b-n*g*b)+e[7]*(+t*g*b-t*p*v+a*u*v-i*u*b+i*p*C-a*g*C)+e[11]*(+t*p*A-t*h*b-a*u*A+n*u*b+a*h*C-n*p*C)+e[15]*(-i*h*C-t*g*A+t*h*v+i*u*A-n*u*v+n*g*C)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,n){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=t,i[14]=n),this}invert(){const e=this.elements,t=e[0],n=e[1],i=e[2],a=e[3],u=e[4],h=e[5],g=e[6],p=e[7],C=e[8],A=e[9],v=e[10],b=e[11],E=e[12],S=e[13],T=e[14],B=e[15],V=A*T*p-S*v*p+S*g*b-h*T*b-A*g*B+h*v*B,$=E*v*p-C*T*p-E*g*b+u*T*b+C*g*B-u*v*B,U=C*S*p-E*A*p+E*h*b-u*S*b-C*h*B+u*A*B,Q=E*A*g-C*S*g-E*h*v+u*S*v+C*h*T-u*A*T,ne=t*V+n*$+i*U+a*Q;if(0===ne)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const Ie=1/ne;return e[0]=V*Ie,e[1]=(S*v*a-A*T*a-S*i*b+n*T*b+A*i*B-n*v*B)*Ie,e[2]=(h*T*a-S*g*a+S*i*p-n*T*p-h*i*B+n*g*B)*Ie,e[3]=(A*g*a-h*v*a-A*i*p+n*v*p+h*i*b-n*g*b)*Ie,e[4]=$*Ie,e[5]=(C*T*a-E*v*a+E*i*b-t*T*b-C*i*B+t*v*B)*Ie,e[6]=(E*g*a-u*T*a-E*i*p+t*T*p+u*i*B-t*g*B)*Ie,e[7]=(u*v*a-C*g*a+C*i*p-t*v*p-u*i*b+t*g*b)*Ie,e[8]=U*Ie,e[9]=(E*A*a-C*S*a-E*n*b+t*S*b+C*n*B-t*A*B)*Ie,e[10]=(u*S*a-E*h*a+E*n*p-t*S*p-u*n*B+t*h*B)*Ie,e[11]=(C*h*a-u*A*a-C*n*p+t*A*p+u*n*b-t*h*b)*Ie,e[12]=Q*Ie,e[13]=(C*S*i-E*A*i+E*n*v-t*S*v-C*n*T+t*A*T)*Ie,e[14]=(E*h*i-u*S*i-E*n*g+t*S*g+u*n*T-t*h*T)*Ie,e[15]=(u*A*i-C*h*i+C*n*g-t*A*g-u*n*v+t*h*v)*Ie,this}scale(e){const t=this.elements,n=e.x,i=e.y,a=e.z;return t[0]*=n,t[4]*=i,t[8]*=a,t[1]*=n,t[5]*=i,t[9]*=a,t[2]*=n,t[6]*=i,t[10]*=a,t[3]*=n,t[7]*=i,t[11]*=a,this}getMaxScaleOnAxis(){const e=this.elements;return Math.sqrt(Math.max(e[0]*e[0]+e[1]*e[1]+e[2]*e[2],e[4]*e[4]+e[5]*e[5]+e[6]*e[6],e[8]*e[8]+e[9]*e[9]+e[10]*e[10]))}makeTranslation(e,t,n){return this.set(1,0,0,e,0,1,0,t,0,0,1,n,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),n=Math.sin(e);return this.set(1,0,0,0,0,t,-n,0,0,n,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,0,n,0,0,1,0,0,-n,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,0,n,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const n=Math.cos(t),i=Math.sin(t),a=1-n,u=e.x,h=e.y,g=e.z,p=a*u,C=a*h;return this.set(p*u+n,p*h-i*g,p*g+i*h,0,p*h+i*g,C*h+n,C*g-i*u,0,p*g-i*h,C*g+i*u,a*g*g+n,0,0,0,0,1),this}makeScale(e,t,n){return this.set(e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1),this}makeShear(e,t,n,i,a,u){return this.set(1,n,a,0,e,1,u,0,t,i,1,0,0,0,0,1),this}compose(e,t,n){const i=this.elements,a=t._x,u=t._y,h=t._z,g=t._w,p=a+a,C=u+u,A=h+h,v=a*p,b=a*C,E=a*A,S=u*C,T=u*A,B=h*A,V=g*p,$=g*C,U=g*A,Q=n.x,ne=n.y,Ie=n.z;return i[0]=(1-(S+B))*Q,i[1]=(b+U)*Q,i[2]=(E-$)*Q,i[3]=0,i[4]=(b-U)*ne,i[5]=(1-(v+B))*ne,i[6]=(T+V)*ne,i[7]=0,i[8]=(E+$)*Ie,i[9]=(T-V)*Ie,i[10]=(1-(v+S))*Ie,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,t,n){const i=this.elements;let a=Hl.set(i[0],i[1],i[2]).length();const u=Hl.set(i[4],i[5],i[6]).length(),h=Hl.set(i[8],i[9],i[10]).length();this.determinant()<0&&(a=-a),e.x=i[12],e.y=i[13],e.z=i[14],_s.copy(this);const p=1/a,C=1/u,A=1/h;return _s.elements[0]*=p,_s.elements[1]*=p,_s.elements[2]*=p,_s.elements[4]*=C,_s.elements[5]*=C,_s.elements[6]*=C,_s.elements[8]*=A,_s.elements[9]*=A,_s.elements[10]*=A,t.setFromRotationMatrix(_s),n.x=a,n.y=u,n.z=h,this}makePerspective(e,t,n,i,a,u){const h=this.elements,p=2*a/(n-i),C=(t+e)/(t-e),A=(n+i)/(n-i),v=-(u+a)/(u-a),b=-2*u*a/(u-a);return h[0]=2*a/(t-e),h[4]=0,h[8]=C,h[12]=0,h[1]=0,h[5]=p,h[9]=A,h[13]=0,h[2]=0,h[6]=0,h[10]=v,h[14]=b,h[3]=0,h[7]=0,h[11]=-1,h[15]=0,this}makeOrthographic(e,t,n,i,a,u){const h=this.elements,g=1/(t-e),p=1/(n-i),C=1/(u-a),A=(t+e)*g,v=(n+i)*p,b=(u+a)*C;return h[0]=2*g,h[4]=0,h[8]=0,h[12]=-A,h[1]=0,h[5]=2*p,h[9]=0,h[13]=-v,h[2]=0,h[6]=0,h[10]=-2*C,h[14]=-b,h[3]=0,h[7]=0,h[11]=0,h[15]=1,this}equals(e){const t=this.elements,n=e.elements;for(let i=0;i<16;i++)if(t[i]!==n[i])return!1;return!0}fromArray(e,t=0){for(let n=0;n<16;n++)this.elements[n]=e[n+t];return this}toArray(e=[],t=0){const n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e[t+9]=n[9],e[t+10]=n[10],e[t+11]=n[11],e[t+12]=n[12],e[t+13]=n[13],e[t+14]=n[14],e[t+15]=n[15],e}}const Hl=new se,_s=new $n,ah=new se(0,0,0),tg=new se(1,1,1),Vo=new se,da=new se,vs=new se,M=new $n,x=new Kr;let y=(()=>{class o{constructor(t=0,n=0,i=0,a=o.DefaultOrder){this.isEuler=!0,this._x=t,this._y=n,this._z=i,this._order=a}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback()}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback()}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback()}get order(){return this._order}set order(t){this._order=t,this._onChangeCallback()}set(t,n,i,a=this._order){return this._x=t,this._y=n,this._z=i,this._order=a,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(t){return this._x=t._x,this._y=t._y,this._z=t._z,this._order=t._order,this._onChangeCallback(),this}setFromRotationMatrix(t,n=this._order,i=!0){const a=t.elements,u=a[0],h=a[4],g=a[8],p=a[1],C=a[5],A=a[9],v=a[2],b=a[6],E=a[10];switch(n){case"XYZ":this._y=Math.asin(Oi(g,-1,1)),Math.abs(g)<.9999999?(this._x=Math.atan2(-A,E),this._z=Math.atan2(-h,u)):(this._x=Math.atan2(b,C),this._z=0);break;case"YXZ":this._x=Math.asin(-Oi(A,-1,1)),Math.abs(A)<.9999999?(this._y=Math.atan2(g,E),this._z=Math.atan2(p,C)):(this._y=Math.atan2(-v,u),this._z=0);break;case"ZXY":this._x=Math.asin(Oi(b,-1,1)),Math.abs(b)<.9999999?(this._y=Math.atan2(-v,E),this._z=Math.atan2(-h,C)):(this._y=0,this._z=Math.atan2(p,u));break;case"ZYX":this._y=Math.asin(-Oi(v,-1,1)),Math.abs(v)<.9999999?(this._x=Math.atan2(b,E),this._z=Math.atan2(p,u)):(this._x=0,this._z=Math.atan2(-h,C));break;case"YZX":this._z=Math.asin(Oi(p,-1,1)),Math.abs(p)<.9999999?(this._x=Math.atan2(-A,C),this._y=Math.atan2(-v,u)):(this._x=0,this._y=Math.atan2(g,E));break;case"XZY":this._z=Math.asin(-Oi(h,-1,1)),Math.abs(h)<.9999999?(this._x=Math.atan2(b,C),this._y=Math.atan2(g,u)):(this._x=Math.atan2(-A,E),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+n)}return this._order=n,!0===i&&this._onChangeCallback(),this}setFromQuaternion(t,n,i){return M.makeRotationFromQuaternion(t),this.setFromRotationMatrix(M,n,i)}setFromVector3(t,n=this._order){return this.set(t.x,t.y,t.z,n)}reorder(t){return x.setFromEuler(this),this.setFromQuaternion(x,t)}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._order===this._order}fromArray(t){return this._x=t[0],this._y=t[1],this._z=t[2],void 0!==t[3]&&(this._order=t[3]),this._onChangeCallback(),this}toArray(t=[],n=0){return t[n]=this._x,t[n+1]=this._y,t[n+2]=this._z,t[n+3]=this._order,t}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}toVector3(){console.error("THREE.Euler: .toVector3() has been removed. Use Vector3.setFromEuler() instead")}}return o.DefaultOrder="XYZ",o.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"],o})();class O{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return 0!=(this.mask&e.mask)}isEnabled(e){return 0!=(this.mask&(1<<e|0))}}let N=0;const q=new se,le=new Kr,Ae=new $n,Ze=new se,Wt=new se,Zn=new se,gn=new Kr,Di=new se(1,0,0),yi=new se(0,1,0),Zs=new se(0,0,1),qs={type:"added"},zl={type:"removed"};let xr=(()=>{class o extends kn{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:N++}),this.uuid=qi(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=o.DefaultUp.clone();const t=new se,n=new y,i=new Kr,a=new se(1,1,1);n._onChange(function u(){i.setFromEuler(n,!1)}),i._onChange(function h(){n.setFromQuaternion(i,void 0,!1)}),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:t},rotation:{configurable:!0,enumerable:!0,value:n},quaternion:{configurable:!0,enumerable:!0,value:i},scale:{configurable:!0,enumerable:!0,value:a},modelViewMatrix:{value:new $n},normalMatrix:{value:new Ns}}),this.matrix=new $n,this.matrixWorld=new $n,this.matrixAutoUpdate=o.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new O,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(t){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(t),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(t){return this.quaternion.premultiply(t),this}setRotationFromAxisAngle(t,n){this.quaternion.setFromAxisAngle(t,n)}setRotationFromEuler(t){this.quaternion.setFromEuler(t,!0)}setRotationFromMatrix(t){this.quaternion.setFromRotationMatrix(t)}setRotationFromQuaternion(t){this.quaternion.copy(t)}rotateOnAxis(t,n){return le.setFromAxisAngle(t,n),this.quaternion.multiply(le),this}rotateOnWorldAxis(t,n){return le.setFromAxisAngle(t,n),this.quaternion.premultiply(le),this}rotateX(t){return this.rotateOnAxis(Di,t)}rotateY(t){return this.rotateOnAxis(yi,t)}rotateZ(t){return this.rotateOnAxis(Zs,t)}translateOnAxis(t,n){return q.copy(t).applyQuaternion(this.quaternion),this.position.add(q.multiplyScalar(n)),this}translateX(t){return this.translateOnAxis(Di,t)}translateY(t){return this.translateOnAxis(yi,t)}translateZ(t){return this.translateOnAxis(Zs,t)}localToWorld(t){return t.applyMatrix4(this.matrixWorld)}worldToLocal(t){return t.applyMatrix4(Ae.copy(this.matrixWorld).invert())}lookAt(t,n,i){t.isVector3?Ze.copy(t):Ze.set(t,n,i);const a=this.parent;this.updateWorldMatrix(!0,!1),Wt.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Ae.lookAt(Wt,Ze,this.up):Ae.lookAt(Ze,Wt,this.up),this.quaternion.setFromRotationMatrix(Ae),a&&(Ae.extractRotation(a.matrixWorld),le.setFromRotationMatrix(Ae),this.quaternion.premultiply(le.invert()))}add(t){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.add(arguments[n]);return this}return t===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",t),this):(t&&t.isObject3D?(null!==t.parent&&t.parent.remove(t),t.parent=this,this.children.push(t),t.dispatchEvent(qs)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",t),this)}remove(t){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.remove(arguments[i]);return this}const n=this.children.indexOf(t);return-1!==n&&(t.parent=null,this.children.splice(n,1),t.dispatchEvent(zl)),this}removeFromParent(){const t=this.parent;return null!==t&&t.remove(this),this}clear(){for(let t=0;t<this.children.length;t++){const n=this.children[t];n.parent=null,n.dispatchEvent(zl)}return this.children.length=0,this}attach(t){return this.updateWorldMatrix(!0,!1),Ae.copy(this.matrixWorld).invert(),null!==t.parent&&(t.parent.updateWorldMatrix(!0,!1),Ae.multiply(t.parent.matrixWorld)),t.applyMatrix4(Ae),this.add(t),t.updateWorldMatrix(!1,!0),this}getObjectById(t){return this.getObjectByProperty("id",t)}getObjectByName(t){return this.getObjectByProperty("name",t)}getObjectByProperty(t,n){if(this[t]===n)return this;for(let i=0,a=this.children.length;i<a;i++){const h=this.children[i].getObjectByProperty(t,n);if(void 0!==h)return h}}getWorldPosition(t){return this.updateWorldMatrix(!0,!1),t.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(t){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Wt,t,Zn),t}getWorldScale(t){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Wt,gn,t),t}getWorldDirection(t){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return t.set(n[8],n[9],n[10]).normalize()}raycast(){}traverse(t){t(this);const n=this.children;for(let i=0,a=n.length;i<a;i++)n[i].traverse(t)}traverseVisible(t){if(!1===this.visible)return;t(this);const n=this.children;for(let i=0,a=n.length;i<a;i++)n[i].traverseVisible(t)}traverseAncestors(t){const n=this.parent;null!==n&&(t(n),n.traverseAncestors(t))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(t){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||t)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,t=!0);const n=this.children;for(let i=0,a=n.length;i<a;i++)n[i].updateMatrixWorld(t)}updateWorldMatrix(t,n){const i=this.parent;if(!0===t&&null!==i&&i.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===n){const a=this.children;for(let u=0,h=a.length;u<h;u++)a[u].updateWorldMatrix(!1,!0)}}toJSON(t){const n=void 0===t||"string"==typeof t,i={};n&&(t={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},i.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const a={};function u(g,p){return void 0===g[p.uuid]&&(g[p.uuid]=p.toJSON(t)),p.uuid}if(a.uuid=this.uuid,a.type=this.type,""!==this.name&&(a.name=this.name),!0===this.castShadow&&(a.castShadow=!0),!0===this.receiveShadow&&(a.receiveShadow=!0),!1===this.visible&&(a.visible=!1),!1===this.frustumCulled&&(a.frustumCulled=!1),0!==this.renderOrder&&(a.renderOrder=this.renderOrder),"{}"!==JSON.stringify(this.userData)&&(a.userData=this.userData),a.layers=this.layers.mask,a.matrix=this.matrix.toArray(),!1===this.matrixAutoUpdate&&(a.matrixAutoUpdate=!1),this.isInstancedMesh&&(a.type="InstancedMesh",a.count=this.count,a.instanceMatrix=this.instanceMatrix.toJSON(),null!==this.instanceColor&&(a.instanceColor=this.instanceColor.toJSON())),this.isScene)this.background&&(this.background.isColor?a.background=this.background.toJSON():this.background.isTexture&&(a.background=this.background.toJSON(t).uuid)),this.environment&&this.environment.isTexture&&!0!==this.environment.isRenderTargetTexture&&(a.environment=this.environment.toJSON(t).uuid);else if(this.isMesh||this.isLine||this.isPoints){a.geometry=u(t.geometries,this.geometry);const g=this.geometry.parameters;if(void 0!==g&&void 0!==g.shapes){const p=g.shapes;if(Array.isArray(p))for(let C=0,A=p.length;C<A;C++)u(t.shapes,p[C]);else u(t.shapes,p)}}if(this.isSkinnedMesh&&(a.bindMode=this.bindMode,a.bindMatrix=this.bindMatrix.toArray(),void 0!==this.skeleton&&(u(t.skeletons,this.skeleton),a.skeleton=this.skeleton.uuid)),void 0!==this.material)if(Array.isArray(this.material)){const g=[];for(let p=0,C=this.material.length;p<C;p++)g.push(u(t.materials,this.material[p]));a.material=g}else a.material=u(t.materials,this.material);if(this.children.length>0){a.children=[];for(let g=0;g<this.children.length;g++)a.children.push(this.children[g].toJSON(t).object)}if(this.animations.length>0){a.animations=[];for(let g=0;g<this.animations.length;g++)a.animations.push(u(t.animations,this.animations[g]))}if(n){const g=h(t.geometries),p=h(t.materials),C=h(t.textures),A=h(t.images),v=h(t.shapes),b=h(t.skeletons),E=h(t.animations),S=h(t.nodes);g.length>0&&(i.geometries=g),p.length>0&&(i.materials=p),C.length>0&&(i.textures=C),A.length>0&&(i.images=A),v.length>0&&(i.shapes=v),b.length>0&&(i.skeletons=b),E.length>0&&(i.animations=E),S.length>0&&(i.nodes=S)}return i.object=a,i;function h(g){const p=[];for(const C in g){const A=g[C];delete A.metadata,p.push(A)}return p}}clone(t){return(new this.constructor).copy(this,t)}copy(t,n=!0){if(this.name=t.name,this.up.copy(t.up),this.position.copy(t.position),this.rotation.order=t.rotation.order,this.quaternion.copy(t.quaternion),this.scale.copy(t.scale),this.matrix.copy(t.matrix),this.matrixWorld.copy(t.matrixWorld),this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrixWorldNeedsUpdate=t.matrixWorldNeedsUpdate,this.layers.mask=t.layers.mask,this.visible=t.visible,this.castShadow=t.castShadow,this.receiveShadow=t.receiveShadow,this.frustumCulled=t.frustumCulled,this.renderOrder=t.renderOrder,this.userData=JSON.parse(JSON.stringify(t.userData)),!0===n)for(let i=0;i<t.children.length;i++)this.add(t.children[i].clone());return this}}return o.DefaultUp=new se(0,1,0),o.DefaultMatrixAutoUpdate=!0,o})();const Vr=new se,ys=new se,nl=new se,Ys=new se,Gl=new se,il=new se,Wl=new se,oC=new se,ng=new se,pr=new se;class Uo{constructor(e=new se,t=new se,n=new se){this.a=e,this.b=t,this.c=n}static getNormal(e,t,n,i){i.subVectors(n,t),Vr.subVectors(e,t),i.cross(Vr);const a=i.lengthSq();return a>0?i.multiplyScalar(1/Math.sqrt(a)):i.set(0,0,0)}static getBarycoord(e,t,n,i,a){Vr.subVectors(i,t),ys.subVectors(n,t),nl.subVectors(e,t);const u=Vr.dot(Vr),h=Vr.dot(ys),g=Vr.dot(nl),p=ys.dot(ys),C=ys.dot(nl),A=u*p-h*h;if(0===A)return a.set(-2,-1,-1);const v=1/A,b=(p*g-h*C)*v,E=(u*C-h*g)*v;return a.set(1-b-E,E,b)}static containsPoint(e,t,n,i){return this.getBarycoord(e,t,n,i,Ys),Ys.x>=0&&Ys.y>=0&&Ys.x+Ys.y<=1}static getUV(e,t,n,i,a,u,h,g){return this.getBarycoord(e,t,n,i,Ys),g.set(0,0),g.addScaledVector(a,Ys.x),g.addScaledVector(u,Ys.y),g.addScaledVector(h,Ys.z),g}static isFrontFacing(e,t,n,i){return Vr.subVectors(n,t),ys.subVectors(e,t),Vr.cross(ys).dot(i)<0}set(e,t,n){return this.a.copy(e),this.b.copy(t),this.c.copy(n),this}setFromPointsAndIndices(e,t,n,i){return this.a.copy(e[t]),this.b.copy(e[n]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,t,n,i){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,n),this.c.fromBufferAttribute(e,i),this}clone(){return(new this.constructor).copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Vr.subVectors(this.c,this.b),ys.subVectors(this.a,this.b),.5*Vr.cross(ys).length()}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Uo.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return Uo.getBarycoord(e,this.a,this.b,this.c,t)}getUV(e,t,n,i,a){return Uo.getUV(e,this.a,this.b,this.c,t,n,i,a)}containsPoint(e){return Uo.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Uo.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const n=this.a,i=this.b,a=this.c;let u,h;Gl.subVectors(i,n),il.subVectors(a,n),oC.subVectors(e,n);const g=Gl.dot(oC),p=il.dot(oC);if(g<=0&&p<=0)return t.copy(n);ng.subVectors(e,i);const C=Gl.dot(ng),A=il.dot(ng);if(C>=0&&A<=C)return t.copy(i);const v=g*A-C*p;if(v<=0&&g>=0&&C<=0)return u=g/(g-C),t.copy(n).addScaledVector(Gl,u);pr.subVectors(e,a);const b=Gl.dot(pr),E=il.dot(pr);if(E>=0&&b<=E)return t.copy(a);const S=b*p-g*E;if(S<=0&&p>=0&&E<=0)return h=p/(p-E),t.copy(n).addScaledVector(il,h);const T=C*E-b*A;if(T<=0&&A-C>=0&&b-E>=0)return Wl.subVectors(a,i),h=(A-C)/(A-C+(b-E)),t.copy(i).addScaledVector(Wl,h);const B=1/(T+S+v);return u=S*B,h=v*B,t.copy(n).addScaledVector(Gl,u).addScaledVector(il,h)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}let sw=0;class ha extends kn{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:sw++}),this.uuid=qi(),this.name="",this.type="Material",this.blending=1,this.side=0,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=204,this.blendDst=205,this.blendEquation=100,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=3,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=519,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=7680,this.stencilZFail=7680,this.stencilZPass=7680,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(void 0!==e)for(const t in e){const n=e[t];if(void 0===n){console.warn("THREE.Material: '"+t+"' parameter is undefined.");continue}if("shading"===t){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=1===n;continue}const i=this[t];void 0!==i?i&&i.isColor?i.set(n):i&&i.isVector3&&n&&n.isVector3?i.copy(n):this[t]=n:console.warn("THREE."+this.type+": '"+t+"' is not a property of this material.")}}toJSON(e){const t=void 0===e||"string"==typeof e;t&&(e={textures:{},images:{}});const n={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};function i(a){const u=[];for(const h in a){const g=a[h];delete g.metadata,u.push(g)}return u}if(n.uuid=this.uuid,n.type=this.type,""!==this.name&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),void 0!==this.roughness&&(n.roughness=this.roughness),void 0!==this.metalness&&(n.metalness=this.metalness),void 0!==this.sheen&&(n.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(n.sheenColor=this.sheenColor.getHex()),void 0!==this.sheenRoughness&&(n.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),this.emissiveIntensity&&1!==this.emissiveIntensity&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),void 0!==this.specularIntensity&&(n.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(n.specularColor=this.specularColor.getHex()),void 0!==this.shininess&&(n.shininess=this.shininess),void 0!==this.clearcoat&&(n.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(n.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(n.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),void 0!==this.iridescence&&(n.iridescence=this.iridescence),void 0!==this.iridescenceIOR&&(n.iridescenceIOR=this.iridescenceIOR),void 0!==this.iridescenceThicknessRange&&(n.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(n.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(n.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(e).uuid,n.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(e).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(e).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(e).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(e).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(n.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(n.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(e).uuid,void 0!==this.combine&&(n.combine=this.combine)),void 0!==this.envMapIntensity&&(n.envMapIntensity=this.envMapIntensity),void 0!==this.reflectivity&&(n.reflectivity=this.reflectivity),void 0!==this.refractionRatio&&(n.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(e).uuid),void 0!==this.transmission&&(n.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(n.transmissionMap=this.transmissionMap.toJSON(e).uuid),void 0!==this.thickness&&(n.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(n.thicknessMap=this.thicknessMap.toJSON(e).uuid),void 0!==this.attenuationDistance&&(n.attenuationDistance=this.attenuationDistance),void 0!==this.attenuationColor&&(n.attenuationColor=this.attenuationColor.getHex()),void 0!==this.size&&(n.size=this.size),null!==this.shadowSide&&(n.shadowSide=this.shadowSide),void 0!==this.sizeAttenuation&&(n.sizeAttenuation=this.sizeAttenuation),1!==this.blending&&(n.blending=this.blending),0!==this.side&&(n.side=this.side),this.vertexColors&&(n.vertexColors=!0),this.opacity<1&&(n.opacity=this.opacity),!0===this.transparent&&(n.transparent=this.transparent),n.depthFunc=this.depthFunc,n.depthTest=this.depthTest,n.depthWrite=this.depthWrite,n.colorWrite=this.colorWrite,n.stencilWrite=this.stencilWrite,n.stencilWriteMask=this.stencilWriteMask,n.stencilFunc=this.stencilFunc,n.stencilRef=this.stencilRef,n.stencilFuncMask=this.stencilFuncMask,n.stencilFail=this.stencilFail,n.stencilZFail=this.stencilZFail,n.stencilZPass=this.stencilZPass,void 0!==this.rotation&&0!==this.rotation&&(n.rotation=this.rotation),!0===this.polygonOffset&&(n.polygonOffset=!0),0!==this.polygonOffsetFactor&&(n.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(n.polygonOffsetUnits=this.polygonOffsetUnits),void 0!==this.linewidth&&1!==this.linewidth&&(n.linewidth=this.linewidth),void 0!==this.dashSize&&(n.dashSize=this.dashSize),void 0!==this.gapSize&&(n.gapSize=this.gapSize),void 0!==this.scale&&(n.scale=this.scale),!0===this.dithering&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),!0===this.alphaToCoverage&&(n.alphaToCoverage=this.alphaToCoverage),!0===this.premultipliedAlpha&&(n.premultipliedAlpha=this.premultipliedAlpha),!0===this.wireframe&&(n.wireframe=this.wireframe),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(n.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(n.wireframeLinejoin=this.wireframeLinejoin),!0===this.flatShading&&(n.flatShading=this.flatShading),!1===this.visible&&(n.visible=!1),!1===this.toneMapped&&(n.toneMapped=!1),!1===this.fog&&(n.fog=!1),"{}"!==JSON.stringify(this.userData)&&(n.userData=this.userData),t){const a=i(e.textures),u=i(e.images);a.length>0&&(n.textures=a),u.length>0&&(n.images=u)}return n}clone(){return(new this.constructor).copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let n=null;if(null!==t){const i=t.length;n=new Array(i);for(let a=0;a!==i;++a)n[a]=t[a].clone()}return this.clippingPlanes=n,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){!0===e&&this.version++}}class Ks extends ha{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new $t(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const Ur=new se,ig=new vt;class Hr{constructor(e,t,n){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=t,this.count=void 0!==e?e.length/t:0,this.normalized=!0===n,this.usage=35044,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate(e){!0===e&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this}copyAt(e,t,n){e*=this.itemSize,n*=t.itemSize;for(let i=0,a=this.itemSize;i<a;i++)this.array[e+i]=t.array[n+i];return this}copyArray(e){return this.array.set(e),this}copyColorsArray(e){const t=this.array;let n=0;for(let i=0,a=e.length;i<a;i++){let u=e[i];void 0===u&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",i),u=new $t),t[n++]=u.r,t[n++]=u.g,t[n++]=u.b}return this}copyVector2sArray(e){const t=this.array;let n=0;for(let i=0,a=e.length;i<a;i++){let u=e[i];void 0===u&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",i),u=new vt),t[n++]=u.x,t[n++]=u.y}return this}copyVector3sArray(e){const t=this.array;let n=0;for(let i=0,a=e.length;i<a;i++){let u=e[i];void 0===u&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",i),u=new se),t[n++]=u.x,t[n++]=u.y,t[n++]=u.z}return this}copyVector4sArray(e){const t=this.array;let n=0;for(let i=0,a=e.length;i<a;i++){let u=e[i];void 0===u&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",i),u=new Mi),t[n++]=u.x,t[n++]=u.y,t[n++]=u.z,t[n++]=u.w}return this}applyMatrix3(e){if(2===this.itemSize)for(let t=0,n=this.count;t<n;t++)ig.fromBufferAttribute(this,t),ig.applyMatrix3(e),this.setXY(t,ig.x,ig.y);else if(3===this.itemSize)for(let t=0,n=this.count;t<n;t++)Ur.fromBufferAttribute(this,t),Ur.applyMatrix3(e),this.setXYZ(t,Ur.x,Ur.y,Ur.z);return this}applyMatrix4(e){for(let t=0,n=this.count;t<n;t++)Ur.fromBufferAttribute(this,t),Ur.applyMatrix4(e),this.setXYZ(t,Ur.x,Ur.y,Ur.z);return this}applyNormalMatrix(e){for(let t=0,n=this.count;t<n;t++)Ur.fromBufferAttribute(this,t),Ur.applyNormalMatrix(e),this.setXYZ(t,Ur.x,Ur.y,Ur.z);return this}transformDirection(e){for(let t=0,n=this.count;t<n;t++)Ur.fromBufferAttribute(this,t),Ur.transformDirection(e),this.setXYZ(t,Ur.x,Ur.y,Ur.z);return this}set(e,t=0){return this.array.set(e,t),this}getX(e){return this.array[e*this.itemSize]}setX(e,t){return this.array[e*this.itemSize]=t,this}getY(e){return this.array[e*this.itemSize+1]}setY(e,t){return this.array[e*this.itemSize+1]=t,this}getZ(e){return this.array[e*this.itemSize+2]}setZ(e,t){return this.array[e*this.itemSize+2]=t,this}getW(e){return this.array[e*this.itemSize+3]}setW(e,t){return this.array[e*this.itemSize+3]=t,this}setXY(e,t,n){return this.array[0+(e*=this.itemSize)]=t,this.array[e+1]=n,this}setXYZ(e,t,n,i){return this.array[0+(e*=this.itemSize)]=t,this.array[e+1]=n,this.array[e+2]=i,this}setXYZW(e,t,n,i,a){return this.array[0+(e*=this.itemSize)]=t,this.array[e+1]=n,this.array[e+2]=i,this.array[e+3]=a,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return""!==this.name&&(e.name=this.name),35044!==this.usage&&(e.usage=this.usage),(0!==this.updateRange.offset||-1!==this.updateRange.count)&&(e.updateRange=this.updateRange),e}}class Tc extends Hr{constructor(e,t,n){super(new Uint16Array(e),t,n)}}class lC extends Hr{constructor(e,t,n){super(new Uint32Array(e),t,n)}}class on extends Hr{constructor(e,t,n){super(new Float32Array(e),t,n)}}let ch=0;const xs=new $n,uh=new xr,Ec=new se,lo=new La,dh=new La,os=new se;class ii extends kn{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:ch++}),this.uuid=qi(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return this.index=Array.isArray(e)?new(Bl(e)?lC:Tc)(e,1):e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return void 0!==this.attributes[e]}addGroup(e,t,n=0){this.groups.push({start:e,count:t,materialIndex:n})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;void 0!==t&&(t.applyMatrix4(e),t.needsUpdate=!0);const n=this.attributes.normal;if(void 0!==n){const a=(new Ns).getNormalMatrix(e);n.applyNormalMatrix(a),n.needsUpdate=!0}const i=this.attributes.tangent;return void 0!==i&&(i.transformDirection(e),i.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this}applyQuaternion(e){return xs.makeRotationFromQuaternion(e),this.applyMatrix4(xs),this}rotateX(e){return xs.makeRotationX(e),this.applyMatrix4(xs),this}rotateY(e){return xs.makeRotationY(e),this.applyMatrix4(xs),this}rotateZ(e){return xs.makeRotationZ(e),this.applyMatrix4(xs),this}translate(e,t,n){return xs.makeTranslation(e,t,n),this.applyMatrix4(xs),this}scale(e,t,n){return xs.makeScale(e,t,n),this.applyMatrix4(xs),this}lookAt(e){return uh.lookAt(e),uh.updateMatrix(),this.applyMatrix4(uh.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Ec).negate(),this.translate(Ec.x,Ec.y,Ec.z),this}setFromPoints(e){const t=[];for(let n=0,i=e.length;n<i;n++){const a=e[n];t.push(a.x,a.y,a.z||0)}return this.setAttribute("position",new on(t,3)),this}computeBoundingBox(){null===this.boundingBox&&(this.boundingBox=new La);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingBox.set(new se(-1/0,-1/0,-1/0),new se(1/0,1/0,1/0));if(void 0!==e){if(this.boundingBox.setFromBufferAttribute(e),t)for(let n=0,i=t.length;n<i;n++)lo.setFromBufferAttribute(t[n]),this.morphTargetsRelative?(os.addVectors(this.boundingBox.min,lo.min),this.boundingBox.expandByPoint(os),os.addVectors(this.boundingBox.max,lo.max),this.boundingBox.expandByPoint(os)):(this.boundingBox.expandByPoint(lo.min),this.boundingBox.expandByPoint(lo.max))}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){null===this.boundingSphere&&(this.boundingSphere=new Fo);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingSphere.set(new se,1/0);if(e){const n=this.boundingSphere.center;if(lo.setFromBufferAttribute(e),t)for(let a=0,u=t.length;a<u;a++)dh.setFromBufferAttribute(t[a]),this.morphTargetsRelative?(os.addVectors(lo.min,dh.min),lo.expandByPoint(os),os.addVectors(lo.max,dh.max),lo.expandByPoint(os)):(lo.expandByPoint(dh.min),lo.expandByPoint(dh.max));lo.getCenter(n);let i=0;for(let a=0,u=e.count;a<u;a++)os.fromBufferAttribute(e,a),i=Math.max(i,n.distanceToSquared(os));if(t)for(let a=0,u=t.length;a<u;a++){const h=t[a],g=this.morphTargetsRelative;for(let p=0,C=h.count;p<C;p++)os.fromBufferAttribute(h,p),g&&(Ec.fromBufferAttribute(e,p),os.add(Ec)),i=Math.max(i,n.distanceToSquared(os))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(null===e||void 0===t.position||void 0===t.normal||void 0===t.uv)return void console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");const n=e.array,i=t.position.array,a=t.normal.array,u=t.uv.array,h=i.length/3;!1===this.hasAttribute("tangent")&&this.setAttribute("tangent",new Hr(new Float32Array(4*h),4));const g=this.getAttribute("tangent").array,p=[],C=[];for(let Le=0;Le<h;Le++)p[Le]=new se,C[Le]=new se;const A=new se,v=new se,b=new se,E=new vt,S=new vt,T=new vt,B=new se,V=new se;function $(Le,Ve,yt){A.fromArray(i,3*Le),v.fromArray(i,3*Ve),b.fromArray(i,3*yt),E.fromArray(u,2*Le),S.fromArray(u,2*Ve),T.fromArray(u,2*yt),v.sub(A),b.sub(A),S.sub(E),T.sub(E);const Rt=1/(S.x*T.y-T.x*S.y);!isFinite(Rt)||(B.copy(v).multiplyScalar(T.y).addScaledVector(b,-S.y).multiplyScalar(Rt),V.copy(b).multiplyScalar(S.x).addScaledVector(v,-T.x).multiplyScalar(Rt),p[Le].add(B),p[Ve].add(B),p[yt].add(B),C[Le].add(V),C[Ve].add(V),C[yt].add(V))}let U=this.groups;0===U.length&&(U=[{start:0,count:n.length}]);for(let Le=0,Ve=U.length;Le<Ve;++Le){const yt=U[Le],Rt=yt.start;for(let pt=Rt,De=Rt+yt.count;pt<De;pt+=3)$(n[pt+0],n[pt+1],n[pt+2])}const Q=new se,ne=new se,Ie=new se,G=new se;function ce(Le){Ie.fromArray(a,3*Le),G.copy(Ie);const Ve=p[Le];Q.copy(Ve),Q.sub(Ie.multiplyScalar(Ie.dot(Ve))).normalize(),ne.crossVectors(G,Ve);const Rt=ne.dot(C[Le])<0?-1:1;g[4*Le]=Q.x,g[4*Le+1]=Q.y,g[4*Le+2]=Q.z,g[4*Le+3]=Rt}for(let Le=0,Ve=U.length;Le<Ve;++Le){const yt=U[Le],Rt=yt.start;for(let pt=Rt,De=Rt+yt.count;pt<De;pt+=3)ce(n[pt+0]),ce(n[pt+1]),ce(n[pt+2])}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(void 0!==t){let n=this.getAttribute("normal");if(void 0===n)n=new Hr(new Float32Array(3*t.count),3),this.setAttribute("normal",n);else for(let v=0,b=n.count;v<b;v++)n.setXYZ(v,0,0,0);const i=new se,a=new se,u=new se,h=new se,g=new se,p=new se,C=new se,A=new se;if(e)for(let v=0,b=e.count;v<b;v+=3){const E=e.getX(v+0),S=e.getX(v+1),T=e.getX(v+2);i.fromBufferAttribute(t,E),a.fromBufferAttribute(t,S),u.fromBufferAttribute(t,T),C.subVectors(u,a),A.subVectors(i,a),C.cross(A),h.fromBufferAttribute(n,E),g.fromBufferAttribute(n,S),p.fromBufferAttribute(n,T),h.add(C),g.add(C),p.add(C),n.setXYZ(E,h.x,h.y,h.z),n.setXYZ(S,g.x,g.y,g.z),n.setXYZ(T,p.x,p.y,p.z)}else for(let v=0,b=t.count;v<b;v+=3)i.fromBufferAttribute(t,v+0),a.fromBufferAttribute(t,v+1),u.fromBufferAttribute(t,v+2),C.subVectors(u,a),A.subVectors(i,a),C.cross(A),n.setXYZ(v+0,C.x,C.y,C.z),n.setXYZ(v+1,C.x,C.y,C.z),n.setXYZ(v+2,C.x,C.y,C.z);this.normalizeNormals(),n.needsUpdate=!0}}merge(e,t){if(!e||!e.isBufferGeometry)return void console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",e);void 0===t&&(t=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));const n=this.attributes;for(const i in n){if(void 0===e.attributes[i])continue;const u=n[i].array,h=e.attributes[i],g=h.array,p=h.itemSize*t,C=Math.min(g.length,u.length-p);for(let A=0,v=p;A<C;A++,v++)u[v]=g[A]}return this}normalizeNormals(){const e=this.attributes.normal;for(let t=0,n=e.count;t<n;t++)os.fromBufferAttribute(e,t),os.normalize(),e.setXYZ(t,os.x,os.y,os.z)}toNonIndexed(){function e(h,g){const p=h.array,C=h.itemSize,A=h.normalized,v=new p.constructor(g.length*C);let b=0,E=0;for(let S=0,T=g.length;S<T;S++){b=h.isInterleavedBufferAttribute?g[S]*h.data.stride+h.offset:g[S]*C;for(let B=0;B<C;B++)v[E++]=p[b++]}return new Hr(v,C,A)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new ii,n=this.index.array,i=this.attributes;for(const h in i){const p=e(i[h],n);t.setAttribute(h,p)}const a=this.morphAttributes;for(const h in a){const g=[],p=a[h];for(let C=0,A=p.length;C<A;C++){const b=e(p[C],n);g.push(b)}t.morphAttributes[h]=g}t.morphTargetsRelative=this.morphTargetsRelative;const u=this.groups;for(let h=0,g=u.length;h<g;h++){const p=u[h];t.addGroup(p.start,p.count,p.materialIndex)}return t}toJSON(){const e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),void 0!==this.parameters){const g=this.parameters;for(const p in g)void 0!==g[p]&&(e[p]=g[p]);return e}e.data={attributes:{}};const t=this.index;null!==t&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const n=this.attributes;for(const g in n)e.data.attributes[g]=n[g].toJSON(e.data);const i={};let a=!1;for(const g in this.morphAttributes){const p=this.morphAttributes[g],C=[];for(let A=0,v=p.length;A<v;A++)C.push(p[A].toJSON(e.data));C.length>0&&(i[g]=C,a=!0)}a&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const u=this.groups;u.length>0&&(e.data.groups=JSON.parse(JSON.stringify(u)));const h=this.boundingSphere;return null!==h&&(e.data.boundingSphere={center:h.center.toArray(),radius:h.radius}),e}clone(){return(new this.constructor).copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const n=e.index;null!==n&&this.setIndex(n.clone(t));const i=e.attributes;for(const p in i)this.setAttribute(p,i[p].clone(t));const a=e.morphAttributes;for(const p in a){const C=[],A=a[p];for(let v=0,b=A.length;v<b;v++)C.push(A[v].clone(t));this.morphAttributes[p]=C}this.morphTargetsRelative=e.morphTargetsRelative;const u=e.groups;for(let p=0,C=u.length;p<C;p++){const A=u[p];this.addGroup(A.start,A.count,A.materialIndex)}const h=e.boundingBox;null!==h&&(this.boundingBox=h.clone());const g=e.boundingSphere;return null!==g&&(this.boundingSphere=g.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,void 0!==e.parameters&&(this.parameters=Object.assign({},e.parameters)),this}dispose(){this.dispatchEvent({type:"dispose"})}}const Js=new $n,rl=new tl,sl=new Fo,jl=new se,Ra=new se,ol=new se,rg=new se,sg=new se,og=new se,hh=new se,Hu=new se,Dc=new se,$l=new vt,ag=new vt,al=new vt,zu=new se,Zl=new se;class Pr extends xr{constructor(e=new ii,t=new Ks){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),void 0!==e.morphTargetInfluences&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),void 0!==e.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,n=Object.keys(t);if(n.length>0){const i=t[n[0]];if(void 0!==i){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,u=i.length;a<u;a++){const h=i[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[h]=a}}}}raycast(e,t){const n=this.geometry,i=this.material,a=this.matrixWorld;if(void 0===i||(null===n.boundingSphere&&n.computeBoundingSphere(),sl.copy(n.boundingSphere),sl.applyMatrix4(a),!1===e.ray.intersectsSphere(sl))||(Js.copy(a).invert(),rl.copy(e.ray).applyMatrix4(Js),null!==n.boundingBox&&!1===rl.intersectsBox(n.boundingBox)))return;let u;const h=n.index,g=n.attributes.position,p=n.morphAttributes.position,C=n.morphTargetsRelative,A=n.attributes.uv,v=n.attributes.uv2,b=n.groups,E=n.drawRange;if(null!==h)if(Array.isArray(i))for(let S=0,T=b.length;S<T;S++){const B=b[S],V=i[B.materialIndex];for(let Q=Math.max(B.start,E.start),ne=Math.min(h.count,Math.min(B.start+B.count,E.start+E.count));Q<ne;Q+=3){const Ie=h.getX(Q),G=h.getX(Q+1),ce=h.getX(Q+2);u=fh(this,V,e,rl,g,p,C,A,v,Ie,G,ce),u&&(u.faceIndex=Math.floor(Q/3),u.face.materialIndex=B.materialIndex,t.push(u))}}else for(let B=Math.max(0,E.start),V=Math.min(h.count,E.start+E.count);B<V;B+=3){const $=h.getX(B),U=h.getX(B+1),Q=h.getX(B+2);u=fh(this,i,e,rl,g,p,C,A,v,$,U,Q),u&&(u.faceIndex=Math.floor(B/3),t.push(u))}else if(void 0!==g)if(Array.isArray(i))for(let S=0,T=b.length;S<T;S++){const B=b[S],V=i[B.materialIndex];for(let Q=Math.max(B.start,E.start),ne=Math.min(g.count,Math.min(B.start+B.count,E.start+E.count));Q<ne;Q+=3)u=fh(this,V,e,rl,g,p,C,A,v,Q,Q+1,Q+2),u&&(u.faceIndex=Math.floor(Q/3),u.face.materialIndex=B.materialIndex,t.push(u))}else for(let B=Math.max(0,E.start),V=Math.min(g.count,E.start+E.count);B<V;B+=3)u=fh(this,i,e,rl,g,p,C,A,v,B,B+1,B+2),u&&(u.faceIndex=Math.floor(B/3),t.push(u))}}function fh(o,e,t,n,i,a,u,h,g,p,C,A){jl.fromBufferAttribute(i,p),Ra.fromBufferAttribute(i,C),ol.fromBufferAttribute(i,A);const v=o.morphTargetInfluences;if(a&&v){hh.set(0,0,0),Hu.set(0,0,0),Dc.set(0,0,0);for(let E=0,S=a.length;E<S;E++){const T=v[E],B=a[E];0!==T&&(rg.fromBufferAttribute(B,p),sg.fromBufferAttribute(B,C),og.fromBufferAttribute(B,A),u?(hh.addScaledVector(rg,T),Hu.addScaledVector(sg,T),Dc.addScaledVector(og,T)):(hh.addScaledVector(rg.sub(jl),T),Hu.addScaledVector(sg.sub(Ra),T),Dc.addScaledVector(og.sub(ol),T)))}jl.add(hh),Ra.add(Hu),ol.add(Dc)}o.isSkinnedMesh&&(o.boneTransform(p,jl),o.boneTransform(C,Ra),o.boneTransform(A,ol));const b=function mv(o,e,t,n,i,a,u,h){let g;if(g=1===e.side?n.intersectTriangle(u,a,i,!0,h):n.intersectTriangle(i,a,u,2!==e.side,h),null===g)return null;Zl.copy(h),Zl.applyMatrix4(o.matrixWorld);const p=t.ray.origin.distanceTo(Zl);return p<t.near||p>t.far?null:{distance:p,point:Zl.clone(),object:o}}(o,e,t,n,jl,Ra,ol,zu);if(b){h&&($l.fromBufferAttribute(h,p),ag.fromBufferAttribute(h,C),al.fromBufferAttribute(h,A),b.uv=Uo.getUV(zu,jl,Ra,ol,$l,ag,al,new vt)),g&&($l.fromBufferAttribute(g,p),ag.fromBufferAttribute(g,C),al.fromBufferAttribute(g,A),b.uv2=Uo.getUV(zu,jl,Ra,ol,$l,ag,al,new vt));const E={a:p,b:C,c:A,normal:new se,materialIndex:0};Uo.getNormal(jl,Ra,ol,E.normal),b.face=E}return b}class ll extends ii{constructor(e=1,t=1,n=1,i=1,a=1,u=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:n,widthSegments:i,heightSegments:a,depthSegments:u};const h=this;i=Math.floor(i),a=Math.floor(a),u=Math.floor(u);const g=[],p=[],C=[],A=[];let v=0,b=0;function E(S,T,B,V,$,U,Q,ne,Ie,G,ce){const Le=U/Ie,Ve=Q/G,yt=U/2,Rt=Q/2,ze=ne/2,pt=Ie+1,De=G+1;let je=0,Ke=0;const He=new se;for(let nt=0;nt<De;nt++){const Vt=nt*Ve-Rt;for(let Et=0;Et<pt;Et++)He[S]=(Et*Le-yt)*V,He[T]=Vt*$,He[B]=ze,p.push(He.x,He.y,He.z),He[S]=0,He[T]=0,He[B]=ne>0?1:-1,C.push(He.x,He.y,He.z),A.push(Et/Ie),A.push(1-nt/G),je+=1}for(let nt=0;nt<G;nt++)for(let Vt=0;Vt<Ie;Vt++){const qt=v+Vt+pt*(nt+1),Jt=v+(Vt+1)+pt*(nt+1),qn=v+(Vt+1)+pt*nt;g.push(v+Vt+pt*nt,qt,qn),g.push(qt,Jt,qn),Ke+=6}h.addGroup(b,Ke,ce),b+=Ke,v+=je}E("z","y","x",-1,-1,n,t,e,u,a,0),E("z","y","x",1,-1,n,t,-e,u,a,1),E("x","z","y",1,1,e,n,t,i,u,2),E("x","z","y",1,-1,e,n,-t,i,u,3),E("x","y","z",1,-1,e,t,n,i,a,4),E("x","y","z",-1,-1,e,t,-n,i,a,5),this.setIndex(g),this.setAttribute("position",new on(p,3)),this.setAttribute("normal",new on(C,3)),this.setAttribute("uv",new on(A,2))}static fromJSON(e){return new ll(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function Pc(o){const e={};for(const t in o){e[t]={};for(const n in o[t]){const i=o[t][n];e[t][n]=i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?i.clone():Array.isArray(i)?i.slice():i}}return e}function Or(o){const e={};for(let t=0;t<o.length;t++){const n=Pc(o[t]);for(const i in n)e[i]=n[i]}return e}const gh={clone:Pc,merge:Or};class ks extends ha{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,void 0!==e&&(void 0!==e.attributes&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(e))}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Pc(e.uniforms),this.uniformsGroups=function cC(o){const e=[];for(let t=0;t<o.length;t++)e.push(o[t].clone());return e}(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const i in this.uniforms){const u=this.uniforms[i].value;t.uniforms[i]=u&&u.isTexture?{type:"t",value:u.toJSON(e).uuid}:u&&u.isColor?{type:"c",value:u.getHex()}:u&&u.isVector2?{type:"v2",value:u.toArray()}:u&&u.isVector3?{type:"v3",value:u.toArray()}:u&&u.isVector4?{type:"v4",value:u.toArray()}:u&&u.isMatrix3?{type:"m3",value:u.toArray()}:u&&u.isMatrix4?{type:"m4",value:u.toArray()}:{value:u}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader;const n={};for(const i in this.extensions)!0===this.extensions[i]&&(n[i]=!0);return Object.keys(n).length>0&&(t.extensions=n),t}}class Gu extends xr{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new $n,this.projectionMatrix=new $n,this.projectionMatrixInverse=new $n}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return(new this.constructor).copy(this)}}class hr extends Gu{constructor(e=50,t=1,n=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=n,this.far=i,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=null===e.view?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=2*Qi*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(.5*Pi*this.fov);return.5*this.getFilmHeight()/e}getEffectiveFOV(){return 2*Qi*Math.atan(Math.tan(.5*Pi*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,t,n,i,a,u){this.aspect=e/t,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=i,this.view.width=a,this.view.height=u,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(.5*Pi*this.fov)/this.zoom,n=2*t,i=this.aspect*n,a=-.5*i;const u=this.view;if(null!==this.view&&this.view.enabled){const g=u.fullWidth,p=u.fullHeight;a+=u.offsetX*i/g,t-=u.offsetY*n/p,i*=u.width/g,n*=u.height/p}const h=this.filmOffset;0!==h&&(a+=e*h/this.getFilmWidth()),this.projectionMatrix.makePerspective(a,a+i,t,t-n,e,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,null!==this.view&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}class Cv extends xr{constructor(e,t,n){if(super(),this.type="CubeCamera",!0!==n.isWebGLCubeRenderTarget)return void console.error("THREE.CubeCamera: The constructor now expects an instance of WebGLCubeRenderTarget as third parameter.");this.renderTarget=n;const i=new hr(90,1,e,t);i.layers=this.layers,i.up.set(0,-1,0),i.lookAt(new se(1,0,0)),this.add(i);const a=new hr(90,1,e,t);a.layers=this.layers,a.up.set(0,-1,0),a.lookAt(new se(-1,0,0)),this.add(a);const u=new hr(90,1,e,t);u.layers=this.layers,u.up.set(0,0,1),u.lookAt(new se(0,1,0)),this.add(u);const h=new hr(90,1,e,t);h.layers=this.layers,h.up.set(0,0,-1),h.lookAt(new se(0,-1,0)),this.add(h);const g=new hr(90,1,e,t);g.layers=this.layers,g.up.set(0,-1,0),g.lookAt(new se(0,0,1)),this.add(g);const p=new hr(90,1,e,t);p.layers=this.layers,p.up.set(0,-1,0),p.lookAt(new se(0,0,-1)),this.add(p)}update(e,t){null===this.parent&&this.updateMatrixWorld();const n=this.renderTarget,[i,a,u,h,g,p]=this.children,C=e.getRenderTarget(),A=e.toneMapping,v=e.xr.enabled;e.toneMapping=0,e.xr.enabled=!1;const b=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,e.setRenderTarget(n,0),e.render(t,i),e.setRenderTarget(n,1),e.render(t,a),e.setRenderTarget(n,2),e.render(t,u),e.setRenderTarget(n,3),e.render(t,h),e.setRenderTarget(n,4),e.render(t,g),n.texture.generateMipmaps=b,e.setRenderTarget(n,5),e.render(t,p),e.setRenderTarget(C),e.toneMapping=A,e.xr.enabled=v,n.texture.needsPMREMUpdate=!0}}class ql extends js{constructor(e,t,n,i,a,u,h,g,p,C){super(e=void 0!==e?e:[],t=void 0!==t?t:301,n,i,a,u,h,g,p,C),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class Wu extends Is{constructor(e,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const n={width:e,height:e,depth:1};this.texture=new ql([n,n,n,n,n,n],t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.encoding),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=void 0!==t.generateMipmaps&&t.generateMipmaps,this.texture.minFilter=void 0!==t.minFilter?t.minFilter:fi}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.encoding=t.encoding,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const n_uniforms={tEquirect:{value:null}},n_vertexShader="\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\tvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\t\t\t\t\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n\t\t\t\t}\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t\t\t\t\t#include <begin_vertex>\n\t\t\t\t\t#include <project_vertex>\n\n\t\t\t\t}\n\t\t\t",n_fragmentShader="\n\n\t\t\t\tuniform sampler2D tEquirect;\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\t#include <common>\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvec3 direction = normalize( vWorldDirection );\n\n\t\t\t\t\tvec2 sampleUV = equirectUv( direction );\n\n\t\t\t\t\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\n\t\t\t\t}\n\t\t\t",i=new ll(5,5,5),a=new ks({name:"CubemapFromEquirect",uniforms:Pc(n_uniforms),vertexShader:n_vertexShader,fragmentShader:n_fragmentShader,side:1,blending:0});a.uniforms.tEquirect.value=t;const u=new Pr(i,a),h=t.minFilter;return t.minFilter===Ji&&(t.minFilter=fi),new Cv(1,10,this).update(e,u),t.minFilter=h,u.geometry.dispose(),u.material.dispose(),this}clear(e,t,n,i){const a=e.getRenderTarget();for(let u=0;u<6;u++)e.setRenderTarget(this,u),e.clear(t,n,i);e.setRenderTarget(a)}}const ph=new se,ju=new se,Av=new Ns;class cl{constructor(e=new se(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,n,i){return this.normal.set(e,t,n),this.constant=i,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,n){const i=ph.subVectors(n,t).cross(ju.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)}intersectLine(e,t){const n=e.delta(ph),i=this.normal.dot(n);if(0===i)return 0===this.distanceToPoint(e.start)?t.copy(e.start):null;const a=-(e.start.dot(this.normal)+this.constant)/i;return a<0||a>1?null:t.copy(n).multiplyScalar(a).add(e.start)}intersectsLine(e){const t=this.distanceToPoint(e.start),n=this.distanceToPoint(e.end);return t<0&&n>0||n<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const n=t||Av.getNormalMatrix(e),i=this.coplanarPoint(ph).applyMatrix4(e),a=this.normal.applyMatrix3(n).normalize();return this.constant=-i.dot(a),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return(new this.constructor).copy(this)}}const ul=new Fo,Yl=new se;class mh{constructor(e=new cl,t=new cl,n=new cl,i=new cl,a=new cl,u=new cl){this.planes=[e,t,n,i,a,u]}set(e,t,n,i,a,u){const h=this.planes;return h[0].copy(e),h[1].copy(t),h[2].copy(n),h[3].copy(i),h[4].copy(a),h[5].copy(u),this}copy(e){const t=this.planes;for(let n=0;n<6;n++)t[n].copy(e.planes[n]);return this}setFromProjectionMatrix(e){const t=this.planes,n=e.elements,i=n[0],a=n[1],u=n[2],h=n[3],g=n[4],p=n[5],C=n[6],A=n[7],v=n[8],b=n[9],E=n[10],S=n[11],T=n[12],B=n[13],V=n[14],$=n[15];return t[0].setComponents(h-i,A-g,S-v,$-T).normalize(),t[1].setComponents(h+i,A+g,S+v,$+T).normalize(),t[2].setComponents(h+a,A+p,S+b,$+B).normalize(),t[3].setComponents(h-a,A-p,S-b,$-B).normalize(),t[4].setComponents(h-u,A-C,S-E,$-V).normalize(),t[5].setComponents(h+u,A+C,S+E,$+V).normalize(),this}intersectsObject(e){const t=e.geometry;return null===t.boundingSphere&&t.computeBoundingSphere(),ul.copy(t.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(ul)}intersectsSprite(e){return ul.center.set(0,0,0),ul.radius=.7071067811865476,ul.applyMatrix4(e.matrixWorld),this.intersectsSphere(ul)}intersectsSphere(e){const t=this.planes,n=e.center,i=-e.radius;for(let a=0;a<6;a++)if(t[a].distanceToPoint(n)<i)return!1;return!0}intersectsBox(e){const t=this.planes;for(let n=0;n<6;n++){const i=t[n];if(Yl.x=i.normal.x>0?e.max.x:e.min.x,Yl.y=i.normal.y>0?e.max.y:e.min.y,Yl.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(Yl)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let n=0;n<6;n++)if(t[n].distanceToPoint(e)<0)return!1;return!0}clone(){return(new this.constructor).copy(this)}}function dC(){let o=null,e=!1,t=null,n=null;function i(a,u){t(a,u),n=o.requestAnimationFrame(i)}return{start:function(){!0!==e&&null!==t&&(n=o.requestAnimationFrame(i),e=!0)},stop:function(){o.cancelAnimationFrame(n),e=!1},setAnimationLoop:function(a){t=a},setContext:function(a){o=a}}}function Iv(o,e){const t=e.isWebGL2,n=new WeakMap;return{get:function u(p){return p.isInterleavedBufferAttribute&&(p=p.data),n.get(p)},remove:function h(p){p.isInterleavedBufferAttribute&&(p=p.data);const C=n.get(p);C&&(o.deleteBuffer(C.buffer),n.delete(p))},update:function g(p,C){if(p.isGLBufferAttribute){const v=n.get(p);return void((!v||v.version<p.version)&&n.set(p,{buffer:p.buffer,type:p.type,bytesPerElement:p.elementSize,version:p.version}))}p.isInterleavedBufferAttribute&&(p=p.data);const A=n.get(p);void 0===A?n.set(p,function i(p,C){const A=p.array,v=p.usage,b=o.createBuffer();let E;if(o.bindBuffer(C,b),o.bufferData(C,A,v),p.onUploadCallback(),A instanceof Float32Array)E=5126;else if(A instanceof Uint16Array)if(p.isFloat16BufferAttribute){if(!t)throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");E=5131}else E=5123;else if(A instanceof Int16Array)E=5122;else if(A instanceof Uint32Array)E=5125;else if(A instanceof Int32Array)E=5124;else if(A instanceof Int8Array)E=5120;else if(A instanceof Uint8Array)E=5121;else{if(!(A instanceof Uint8ClampedArray))throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+A);E=5121}return{buffer:b,type:E,bytesPerElement:A.BYTES_PER_ELEMENT,version:p.version}}(p,C)):A.version<p.version&&(function a(p,C,A){const v=C.array,b=C.updateRange;o.bindBuffer(A,p),-1===b.count?o.bufferSubData(A,0,v):(t?o.bufferSubData(A,b.offset*v.BYTES_PER_ELEMENT,v,b.offset,b.count):o.bufferSubData(A,b.offset*v.BYTES_PER_ELEMENT,v.subarray(b.offset,b.offset+b.count)),b.count=-1)}(A.buffer,p,C),A.version=p.version)}}}class fa extends ii{constructor(e=1,t=1,n=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:n,heightSegments:i};const a=e/2,u=t/2,h=Math.floor(n),g=Math.floor(i),p=h+1,C=g+1,A=e/h,v=t/g,b=[],E=[],S=[],T=[];for(let B=0;B<C;B++){const V=B*v-u;for(let $=0;$<p;$++)E.push($*A-a,-V,0),S.push(0,0,1),T.push($/h),T.push(1-B/g)}for(let B=0;B<g;B++)for(let V=0;V<h;V++){const U=V+p*(B+1),Q=V+1+p*(B+1),ne=V+1+p*B;b.push(V+p*B,U,ne),b.push(U,Q,ne)}this.setIndex(b),this.setAttribute("position",new on(E,3)),this.setAttribute("normal",new on(S,3)),this.setAttribute("uv",new on(T,2))}static fromJSON(e){return new fa(e.width,e.height,e.widthSegments,e.heightSegments)}}const gi={alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef USE_ALPHATEST\n\tif ( diffuseColor.a < alphaTest ) discard;\n#endif",alphatest_pars_fragment:"#ifdef USE_ALPHATEST\n\tuniform float alphaTest;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );\n\t#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",begin_vertex:"vec3 transformed = vec3( position );",beginnormal_vertex:"vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",bsdfs:"vec3 BRDF_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n}\nfloat F_Schlick( const in float f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n}\nvec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {\n    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );\n    float x2 = x * x;\n    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );\n    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );\n}\nfloat V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( f0, f90, dotVH );\n\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( V * D );\n}\n#ifdef USE_IRIDESCENCE\n\tvec3 BRDF_GGX_Iridescence( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float iridescence, const in vec3 iridescenceFresnel, const in float roughness ) {\n\t\tfloat alpha = pow2( roughness );\n\t\tvec3 halfDir = normalize( lightDir + viewDir );\n\t\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\t\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\t\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\t\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\t\tvec3 F = mix( F_Schlick( f0, f90, dotVH ), iridescenceFresnel, iridescence );\n\t\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\t\tfloat D = D_GGX( alpha, dotNH );\n\t\treturn F * ( V * D );\n\t}\n#endif\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, 1.0, dotVH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie( float roughness, float dotNH ) {\n\tfloat alpha = pow2( roughness );\n\tfloat invAlpha = 1.0 / alpha;\n\tfloat cos2h = dotNH * dotNH;\n\tfloat sin2h = max( 1.0 - cos2h, 0.0078125 );\n\treturn ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );\n}\nfloat V_Neubelt( float dotNV, float dotNL ) {\n\treturn saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );\n}\nvec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat D = D_Charlie( sheenRoughness, dotNH );\n\tfloat V = V_Neubelt( dotNV, dotNL );\n\treturn sheenColor * ( D * V );\n}\n#endif",iridescence_fragment:"#ifdef USE_IRIDESCENCE\n\tconst mat3 XYZ_TO_REC709 = mat3(\n\t\t 3.2404542, -0.9692660,  0.0556434,\n\t\t-1.5371385,  1.8760108, -0.2040259,\n\t\t-0.4985314,  0.0415560,  1.0572252\n\t);\n\tvec3 Fresnel0ToIor( vec3 fresnel0 ) {\n\t\tvec3 sqrtF0 = sqrt( fresnel0 );\n\t\treturn ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );\n\t}\n\tvec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );\n\t}\n\tfloat IorToFresnel0( float transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));\n\t}\n\tvec3 evalSensitivity( float OPD, vec3 shift ) {\n\t\tfloat phase = 2.0 * PI * OPD * 1.0e-9;\n\t\tvec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );\n\t\tvec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );\n\t\tvec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );\n\t\tvec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );\n\t\txyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );\n\t\txyz /= 1.0685e-7;\n\t\tvec3 rgb = XYZ_TO_REC709 * xyz;\n\t\treturn rgb;\n\t}\n\tvec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {\n\t\tvec3 I;\n\t\tfloat iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );\n\t\tfloat sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );\n\t\tfloat cosTheta2Sq = 1.0 - sinTheta2Sq;\n\t\tif ( cosTheta2Sq < 0.0 ) {\n\t\t\t return vec3( 1.0 );\n\t\t}\n\t\tfloat cosTheta2 = sqrt( cosTheta2Sq );\n\t\tfloat R0 = IorToFresnel0( iridescenceIOR, outsideIOR );\n\t\tfloat R12 = F_Schlick( R0, 1.0, cosTheta1 );\n\t\tfloat R21 = R12;\n\t\tfloat T121 = 1.0 - R12;\n\t\tfloat phi12 = 0.0;\n\t\tif ( iridescenceIOR < outsideIOR ) phi12 = PI;\n\t\tfloat phi21 = PI - phi12;\n\t\tvec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );\t\tvec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );\n\t\tvec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );\n\t\tvec3 phi23 = vec3( 0.0 );\n\t\tif ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;\n\t\tif ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;\n\t\tif ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;\n\t\tfloat OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;\n\t\tvec3 phi = vec3( phi21 ) + phi23;\n\t\tvec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );\n\t\tvec3 r123 = sqrt( R123 );\n\t\tvec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );\n\t\tvec3 C0 = R12 + Rs;\n\t\tI = C0;\n\t\tvec3 Cm = Rs - T121;\n\t\tfor ( int m = 1; m <= 2; ++ m ) {\n\t\t\tCm *= r123;\n\t\t\tvec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );\n\t\t\tI += Cm * Sm;\n\t\t}\n\t\treturn max( I, vec3( 0.0 ) );\n\t}\n#endif",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {\n\t\tvec3 vSigmaX = dFdx( surf_pos.xyz );\n\t\tvec3 vSigmaY = dFdy( surf_pos.xyz );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 ) * faceDirection;\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t#pragma unroll_loop_end\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\tif ( clipped ) discard;\n\t#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvClipPosition = - mvPosition.xyz;\n#endif",color_fragment:"#if defined( USE_COLOR_ALPHA )\n\tdiffuseColor *= vColor;\n#elif defined( USE_COLOR )\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR )\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvarying vec3 vColor;\n#endif",color_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvColor = vec4( 1.0 );\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvColor = vec3( 1.0 );\n#endif\n#ifdef USE_COLOR\n\tvColor *= color;\n#endif\n#ifdef USE_INSTANCING_COLOR\n\tvColor.xyz *= instanceColor.xyz;\n#endif",common:"#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define PI_HALF 1.5707963267948966\n#define RECIPROCAL_PI 0.3183098861837907\n#define RECIPROCAL_PI2 0.15915494309189535\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement( a ) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nvec3 pow2( const in vec3 x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }\nfloat average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract( sin( sn ) * c );\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal;\n#endif\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat luminance( const in vec3 rgb ) {\n\tconst vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );\n\treturn dot( weights, rgb );\n}\nbool isPerspectiveMatrix( mat4 m ) {\n\treturn m[ 2 ][ 3 ] == - 1.0;\n}\nvec2 equirectUv( in vec3 dir ) {\n\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\treturn vec2( u, v );\n}",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n\t#define cubeUV_minMipLevel 4.0\n\t#define cubeUV_minTileSize 16.0\n\tfloat getFace( vec3 direction ) {\n\t\tvec3 absDirection = abs( direction );\n\t\tfloat face = - 1.0;\n\t\tif ( absDirection.x > absDirection.z ) {\n\t\t\tif ( absDirection.x > absDirection.y )\n\t\t\t\tface = direction.x > 0.0 ? 0.0 : 3.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t} else {\n\t\t\tif ( absDirection.z > absDirection.y )\n\t\t\t\tface = direction.z > 0.0 ? 2.0 : 5.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t}\n\t\treturn face;\n\t}\n\tvec2 getUV( vec3 direction, float face ) {\n\t\tvec2 uv;\n\t\tif ( face == 0.0 ) {\n\t\t\tuv = vec2( direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 1.0 ) {\n\t\t\tuv = vec2( - direction.x, - direction.z ) / abs( direction.y );\n\t\t} else if ( face == 2.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.y ) / abs( direction.z );\n\t\t} else if ( face == 3.0 ) {\n\t\t\tuv = vec2( - direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 4.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.z ) / abs( direction.y );\n\t\t} else {\n\t\t\tuv = vec2( direction.x, direction.y ) / abs( direction.z );\n\t\t}\n\t\treturn 0.5 * ( uv + 1.0 );\n\t}\n\tvec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\n\t\tfloat face = getFace( direction );\n\t\tfloat filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\n\t\tmipInt = max( mipInt, cubeUV_minMipLevel );\n\t\tfloat faceSize = exp2( mipInt );\n\t\tvec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;\n\t\tif ( face > 2.0 ) {\n\t\t\tuv.y += faceSize;\n\t\t\tface -= 3.0;\n\t\t}\n\t\tuv.x += face * faceSize;\n\t\tuv.x += filterInt * 3.0 * cubeUV_minTileSize;\n\t\tuv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );\n\t\tuv.x *= CUBEUV_TEXEL_WIDTH;\n\t\tuv.y *= CUBEUV_TEXEL_HEIGHT;\n\t\t#ifdef texture2DGradEXT\n\t\t\treturn texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;\n\t\t#else\n\t\t\treturn texture2D( envMap, uv ).rgb;\n\t\t#endif\n\t}\n\t#define r0 1.0\n\t#define v0 0.339\n\t#define m0 - 2.0\n\t#define r1 0.8\n\t#define v1 0.276\n\t#define m1 - 1.0\n\t#define r4 0.4\n\t#define v4 0.046\n\t#define m4 2.0\n\t#define r5 0.305\n\t#define v5 0.016\n\t#define m5 3.0\n\t#define r6 0.21\n\t#define v6 0.0038\n\t#define m6 4.0\n\tfloat roughnessToMip( float roughness ) {\n\t\tfloat mip = 0.0;\n\t\tif ( roughness >= r1 ) {\n\t\t\tmip = ( r0 - roughness ) * ( m1 - m0 ) / ( r0 - r1 ) + m0;\n\t\t} else if ( roughness >= r4 ) {\n\t\t\tmip = ( r1 - roughness ) * ( m4 - m1 ) / ( r1 - r4 ) + m1;\n\t\t} else if ( roughness >= r5 ) {\n\t\t\tmip = ( r4 - roughness ) * ( m5 - m4 ) / ( r4 - r5 ) + m4;\n\t\t} else if ( roughness >= r6 ) {\n\t\t\tmip = ( r5 - roughness ) * ( m6 - m5 ) / ( r5 - r6 ) + m5;\n\t\t} else {\n\t\t\tmip = - 2.0 * log2( 1.16 * roughness );\t\t}\n\t\treturn mip;\n\t}\n\tvec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\n\t\tfloat mip = clamp( roughnessToMip( roughness ), m0, CUBEUV_MAX_MIP );\n\t\tfloat mipF = fract( mip );\n\t\tfloat mipInt = floor( mip );\n\t\tvec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\n\t\tif ( mipF == 0.0 ) {\n\t\t\treturn vec4( color0, 1.0 );\n\t\t} else {\n\t\t\tvec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\n\t\t\treturn vec4( mix( color0, color1, mipF ), 1.0 );\n\t\t}\n\t}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = objectNormal;\n#ifdef USE_INSTANCING\n\tmat3 m = mat3( instanceMatrix );\n\ttransformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );\n\ttransformedNormal = m * transformedNormal;\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",encodings_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",encodings_pars_fragment:"vec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToFrag;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",envmap_common_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif",envmap_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#if defined( USE_ENVMAP )\n\tvec3 getIBLIrradiance( const in vec3 normal ) {\n\t\t#if defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );\n\t\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\tvec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {\n\t\t#if defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 reflectVec = reflect( - viewDir, normal );\n\t\t\treflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n\t\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );\n\t\t\treturn envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n\tvFogDepth = - mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float vFogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, vFogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float vFogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment:"#ifdef USE_GRADIENTMAP\n\tuniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\tfloat dotNL = dot( normal, lightDirection );\n\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t#ifdef USE_GRADIENTMAP\n\t\treturn vec3( texture2D( gradientMap, coord ).r );\n\t#else\n\t\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\n\t#endif\n}",lightmap_fragment:"#ifdef USE_LIGHTMAP\n\tvec4 lightMapTexel = texture2D( lightMap, vUv2 );\n\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\treflectedLight.indirectDiffuse += lightMapIrradiance;\n#endif",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_vertex:"vec3 diffuse = vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\nvLightFront = vec3( 0.0 );\nvIndirectFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n\tvLightBack = vec3( 0.0 );\n\tvIndirectBack = vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\nvIndirectFront += getAmbientLightIrradiance( ambientLightColor );\nvIndirectFront += getLightProbeIrradiance( lightProbe, geometry.normal );\n#ifdef DOUBLE_SIDED\n\tvIndirectBack += getAmbientLightIrradiance( ambientLightColor );\n\tvIndirectBack += getLightProbeIrradiance( lightProbe, backGeometry.normal );\n#endif\n#if NUM_POINT_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tgetPointLightInfo( pointLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( - dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tgetSpotLightInfo( spotLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( - dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_DIR_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tgetDirectionalLightInfo( directionalLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( - dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\tvIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry.normal );\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif",lights_pars_begin:"uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\nuniform vec3 lightProbe[ 9 ];\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {\n\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\treturn irradiance;\n}\nfloat getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\t#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\t\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\t\tif ( cutoffDistance > 0.0 ) {\n\t\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t\t}\n\t\treturn distanceFalloff;\n\t#else\n\t\tif ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n\t\t\treturn pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\t\t}\n\t\treturn 1.0;\n\t#endif\n}\nfloat getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {\n\treturn smoothstep( coneCosine, penumbraCosine, angleCosine );\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tlight.color = directionalLight.color;\n\t\tlight.direction = directionalLight.direction;\n\t\tlight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tlight.color = pointLight.color;\n\t\tlight.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );\n\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat angleCos = dot( light.direction, spotLight.direction );\n\t\tfloat spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\tif ( spotAttenuation > 0.0 ) {\n\t\t\tfloat lightDistance = length( lVector );\n\t\t\tlight.color = spotLight.color * spotAttenuation;\n\t\t\tlight.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t\t} else {\n\t\t\tlight.color = vec3( 0.0 );\n\t\t\tlight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {\n\t\tfloat dotNL = dot( normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\treturn irradiance;\n\t}\n#endif",lights_toon_fragment:"ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;",lights_toon_pars_fragment:"varying vec3 vViewPosition;\nstruct ToonMaterial {\n\tvec3 diffuseColor;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Toon\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon\n#define Material_LightProbeLOD( material )\t(0)",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\nstruct BlinnPhongMaterial {\n\tvec3 diffuseColor;\n\tvec3 specularColor;\n\tfloat specularShininess;\n\tfloat specularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )\t(0)",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;\nmaterial.roughness = min( material.roughness, 1.0 );\n#ifdef IOR\n\t#ifdef SPECULAR\n\t\tfloat specularIntensityFactor = specularIntensity;\n\t\tvec3 specularColorFactor = specularColor;\n\t\t#ifdef USE_SPECULARINTENSITYMAP\n\t\t\tspecularIntensityFactor *= texture2D( specularIntensityMap, vUv ).a;\n\t\t#endif\n\t\t#ifdef USE_SPECULARCOLORMAP\n\t\t\tspecularColorFactor *= texture2D( specularColorMap, vUv ).rgb;\n\t\t#endif\n\t\tmaterial.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );\n\t#else\n\t\tfloat specularIntensityFactor = 1.0;\n\t\tvec3 specularColorFactor = vec3( 1.0 );\n\t\tmaterial.specularF90 = 1.0;\n\t#endif\n\tmaterial.specularColor = mix( min( pow2( ( ior - 1.0 ) / ( ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.specularF90 = 1.0;\n#endif\n#ifdef USE_CLEARCOAT\n\tmaterial.clearcoat = clearcoat;\n\tmaterial.clearcoatRoughness = clearcoatRoughness;\n\tmaterial.clearcoatF0 = vec3( 0.04 );\n\tmaterial.clearcoatF90 = 1.0;\n\t#ifdef USE_CLEARCOATMAP\n\t\tmaterial.clearcoat *= texture2D( clearcoatMap, vUv ).x;\n\t#endif\n\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\t\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;\n\t#endif\n\tmaterial.clearcoat = saturate( material.clearcoat );\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\n\tmaterial.clearcoatRoughness += geometryRoughness;\n\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_IRIDESCENCE\n\tmaterial.iridescence = iridescence;\n\tmaterial.iridescenceIOR = iridescenceIOR;\n\t#ifdef USE_IRIDESCENCEMAP\n\t\tmaterial.iridescence *= texture2D( iridescenceMap, vUv ).r;\n\t#endif\n\t#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\t\tmaterial.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vUv ).g + iridescenceThicknessMinimum;\n\t#else\n\t\tmaterial.iridescenceThickness = iridescenceThicknessMaximum;\n\t#endif\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenColor = sheenColor;\n\t#ifdef USE_SHEENCOLORMAP\n\t\tmaterial.sheenColor *= texture2D( sheenColorMap, vUv ).rgb;\n\t#endif\n\tmaterial.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );\n\t#ifdef USE_SHEENROUGHNESSMAP\n\t\tmaterial.sheenRoughness *= texture2D( sheenRoughnessMap, vUv ).a;\n\t#endif\n#endif",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3 diffuseColor;\n\tfloat roughness;\n\tvec3 specularColor;\n\tfloat specularF90;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat clearcoat;\n\t\tfloat clearcoatRoughness;\n\t\tvec3 clearcoatF0;\n\t\tfloat clearcoatF90;\n\t#endif\n\t#ifdef USE_IRIDESCENCE\n\t\tfloat iridescence;\n\t\tfloat iridescenceIOR;\n\t\tfloat iridescenceThickness;\n\t\tvec3 iridescenceFresnel;\n\t\tvec3 iridescenceF0;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tvec3 sheenColor;\n\t\tfloat sheenRoughness;\n\t#endif\n};\nvec3 clearcoatSpecular = vec3( 0.0 );\nvec3 sheenSpecular = vec3( 0.0 );\nfloat IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat r2 = roughness * roughness;\n\tfloat a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;\n\tfloat b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;\n\tfloat DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );\n\treturn saturate( DG * RECIPROCAL_PI );\n}\nvec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;\n\treturn fab;\n}\nvec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\treturn specularColor * fab.x + specularF90 * fab.y;\n}\n#ifdef USE_IRIDESCENCE\nvoid computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#else\nvoid computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#endif\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\t#ifdef USE_IRIDESCENCE\n\t\tvec3 Fr = mix( specularColor, iridescenceF0, iridescence );\n\t#else\n\t\tvec3 Fr = specularColor;\n\t#endif\n\tvec3 FssEss = Fr * fab.x + specularF90 * fab.y;\n\tfloat Ess = fab.x + fab.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.roughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance = dotNLcc * directLight.color;\n\t\tclearcoatSpecular += ccIrradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );\n\t#endif\n\t#ifdef USE_IRIDESCENCE\n\t\treflectedLight.directSpecular += irradiance * BRDF_GGX_Iridescence( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness );\n\t#else\n\t\treflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.roughness );\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );\n\t#endif\n\tvec3 singleScattering = vec3( 0.0 );\n\tvec3 multiScattering = vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\t#ifdef USE_IRIDESCENCE\n\t\tcomputeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );\n\t#else\n\t\tcomputeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );\n\t#endif\n\tvec3 totalScattering = singleScattering + multiScattering;\n\tvec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );\n\treflectedLight.indirectSpecular += radiance * singleScattering;\n\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\n#ifdef USE_CLEARCOAT\n\tgeometry.clearcoatNormal = clearcoatNormal;\n#endif\n#ifdef USE_IRIDESCENCE\n\tfloat dotNVi = saturate( dot( normal, geometry.viewDir ) );\n\tif ( material.iridescenceThickness == 0.0 ) {\n\t\tmaterial.iridescence = 0.0;\n\t} else {\n\t\tmaterial.iridescence = saturate( material.iridescence );\n\t}\n\tif ( material.iridescence > 0.0 ) {\n\t\tmaterial.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );\n\t\tmaterial.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );\n\t}\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointLightInfo( pointLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n\t\tpointLightShadow = pointLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotLightInfo( spotLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tspotLightShadow = spotLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalLightInfo( directionalLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectionalLightShadow = directionalLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance = vec3( 0.0 );\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\tirradiance += getLightProbeIrradiance( lightProbe, geometry.normal );\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vUv2 );\n\t\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance += getIBLIrradiance( geometry.normal );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tradiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );\n\t#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t\tvarying float vIsPerspective;\n\t#else\n\t\tuniform float logDepthBufFC;\n\t#endif\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n\t#else\n\t\tif ( isPerspectiveMatrix( projectionMatrix ) ) {\n\t\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\t\tgl_Position.z *= gl_Position.w;\n\t\t}\n\t#endif\n#endif",map_fragment:"#ifdef USE_MAP\n\tvec4 sampledDiffuseColor = texture2D( map, vUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\tsampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );\n\t#endif\n\tdiffuseColor *= sampledDiffuseColor;\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n#endif\n#ifdef USE_MAP\n\tdiffuseColor *= texture2D( map, uv );\n#endif\n#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",map_particle_pars_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tuniform mat3 uvTransform;\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphcolor_vertex:"#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )\n\tvColor *= morphTargetBaseInfluence;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t#if defined( USE_COLOR_ALPHA )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];\n\t\t#elif defined( USE_COLOR )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];\n\t\t#endif\n\t}\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal *= morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];\n\t\t}\n\t#else\n\t\tobjectNormal += morphNormal0 * morphTargetInfluences[ 0 ];\n\t\tobjectNormal += morphNormal1 * morphTargetInfluences[ 1 ];\n\t\tobjectNormal += morphNormal2 * morphTargetInfluences[ 2 ];\n\t\tobjectNormal += morphNormal3 * morphTargetInfluences[ 3 ];\n\t#endif\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\tuniform float morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tuniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];\n\t\tuniform sampler2DArray morphTargetsTexture;\n\t\tuniform ivec2 morphTargetsTextureSize;\n\t\tvec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {\n\t\t\tint texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;\n\t\t\tint y = texelIndex / morphTargetsTextureSize.x;\n\t\t\tint x = texelIndex - y * morphTargetsTextureSize.x;\n\t\t\tivec3 morphUV = ivec3( x, y, morphTargetIndex );\n\t\t\treturn texelFetch( morphTargetsTexture, morphUV, 0 );\n\t\t}\n\t#else\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\tuniform float morphTargetInfluences[ 8 ];\n\t\t#else\n\t\t\tuniform float morphTargetInfluences[ 4 ];\n\t\t#endif\n\t#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed *= morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];\n\t\t}\n\t#else\n\t\ttransformed += morphTarget0 * morphTargetInfluences[ 0 ];\n\t\ttransformed += morphTarget1 * morphTargetInfluences[ 1 ];\n\t\ttransformed += morphTarget2 * morphTargetInfluences[ 2 ];\n\t\ttransformed += morphTarget3 * morphTargetInfluences[ 3 ];\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\ttransformed += morphTarget4 * morphTargetInfluences[ 4 ];\n\t\t\ttransformed += morphTarget5 * morphTargetInfluences[ 5 ];\n\t\t\ttransformed += morphTarget6 * morphTargetInfluences[ 6 ];\n\t\t\ttransformed += morphTarget7 * morphTargetInfluences[ 7 ];\n\t\t#endif\n\t#endif\n#endif",normal_fragment_begin:"float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;\n#ifdef FLAT_SHADED\n\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\t#ifdef USE_TANGENT\n\t\tvec3 tangent = normalize( vTangent );\n\t\tvec3 bitangent = normalize( vBitangent );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\ttangent = tangent * faceDirection;\n\t\t\tbitangent = bitangent * faceDirection;\n\t\t#endif\n\t\t#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )\n\t\t\tmat3 vTBN = mat3( tangent, bitangent, normal );\n\t\t#endif\n\t#endif\n#endif\nvec3 geometryNormal = normal;",normal_fragment_maps:"#ifdef OBJECTSPACE_NORMALMAP\n\tnormal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal = - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\tnormal = normalize( normalMatrix * normal );\n#elif defined( TANGENTSPACE_NORMALMAP )\n\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *= normalScale;\n\t#ifdef USE_TANGENT\n\t\tnormal = normalize( vTBN * mapN );\n\t#else\n\t\tnormal = perturbNormal2Arb( - vViewPosition, normal, mapN, faceDirection );\n\t#endif\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );\n#endif",normal_pars_fragment:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_pars_vertex:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_vertex:"#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef OBJECTSPACE_NORMALMAP\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )\n\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {\n\t\tvec3 q0 = dFdx( eye_pos.xyz );\n\t\tvec3 q1 = dFdy( eye_pos.xyz );\n\t\tvec2 st0 = dFdx( vUv.st );\n\t\tvec2 st1 = dFdy( vUv.st );\n\t\tvec3 N = surf_norm;\n\t\tvec3 q1perp = cross( q1, N );\n\t\tvec3 q0perp = cross( N, q0 );\n\t\tvec3 T = q1perp * st0.x + q0perp * st1.x;\n\t\tvec3 B = q1perp * st0.y + q0perp * st1.y;\n\t\tfloat det = max( dot( T, T ), dot( B, B ) );\n\t\tfloat scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );\n\t\treturn normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );\n\t}\n#endif",clearcoat_normal_fragment_begin:"#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal = geometryNormal;\n#endif",clearcoat_normal_fragment_maps:"#ifdef USE_CLEARCOAT_NORMALMAP\n\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *= clearcoatNormalScale;\n\t#ifdef USE_TANGENT\n\t\tclearcoatNormal = normalize( vTBN * clearcoatMapN );\n\t#else\n\t\tclearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );\n\t#endif\n#endif",clearcoat_pars_fragment:"#ifdef USE_CLEARCOATMAP\n\tuniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform sampler2D clearcoatRoughnessMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif",iridescence_pars_fragment:"#ifdef USE_IRIDESCENCEMAP\n\tuniform sampler2D iridescenceMap;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tuniform sampler2D iridescenceThicknessMap;\n#endif",output_fragment:"#ifdef OPAQUE\ndiffuseColor.a = 1.0;\n#endif\n#ifdef USE_TRANSMISSION\ndiffuseColor.a *= transmissionAlpha + 0.1;\n#endif\ngl_FragColor = vec4( outgoingLight, diffuseColor.a );",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nvec4 pack2HalfToRGBA( vec2 v ) {\n\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );\n}\nvec2 unpackRGBATo2Half( vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n\treturn linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_INSTANCING\n\tmvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#ifdef DITHERING\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\t\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\n\t}\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\t\tfloat occlusion = 1.0;\n\t\tvec2 distribution = texture2DDistribution( shadow, uv );\n\t\tfloat hard_shadow = step( compare , distribution.x );\n\t\tif (hard_shadow != 1.0 ) {\n\t\t\tfloat distance = compare - distribution.x ;\n\t\t\tfloat variance = max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability = variance / (variance + distance * distance );\t\t\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\t\t\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\t\t}\n\t\treturn occlusion;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\t\tbool frustumTest = all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx = texelSize.x;\n\t\t\tfloat dy = texelSize.y;\n\t\t\tvec2 uv = shadowCoord.xy;\n\t\t\tvec2 f = fract( uv * shadowMapSize + 0.5 );\n\t\t\tuv -= f * texelSize;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ), \n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ), \n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t f.y )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\t\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif",shadowmap_pars_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif",shadowmap_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0\n\t\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\tvec4 shadowWorldPosition;\n\t#endif\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight = directionalLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight = spotLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight = pointLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#endif\n\treturn shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\tuniform highp sampler2D boneTexture;\n\tuniform int boneTextureSize;\n\tmat4 getBoneMatrix( const in float i ) {\n\t\tfloat j = i * 4.0;\n\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\ty = dy * ( y + 0.5 );\n\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\treturn bone;\n\t}\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 RRTAndODTFit( vec3 v ) {\n\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\n\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\n\treturn a / b;\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tconst mat3 ACESInputMat = mat3(\n\t\tvec3( 0.59719, 0.07600, 0.02840 ),\t\tvec3( 0.35458, 0.90834, 0.13383 ),\n\t\tvec3( 0.04823, 0.01566, 0.83777 )\n\t);\n\tconst mat3 ACESOutputMat = mat3(\n\t\tvec3(  1.60475, -0.10208, -0.00327 ),\t\tvec3( -0.53108,  1.10813, -0.07276 ),\n\t\tvec3( -0.07367, -0.00605,  1.07602 )\n\t);\n\tcolor *= toneMappingExposure / 0.6;\n\tcolor = ACESInputMat * color;\n\tcolor = RRTAndODTFit( color );\n\tcolor = ACESOutputMat * color;\n\treturn saturate( color );\n}\nvec3 CustomToneMapping( vec3 color ) { return color; }",transmission_fragment:"#ifdef USE_TRANSMISSION\n\tfloat transmissionAlpha = 1.0;\n\tfloat transmissionFactor = transmission;\n\tfloat thicknessFactor = thickness;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\ttransmissionFactor *= texture2D( transmissionMap, vUv ).r;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tthicknessFactor *= texture2D( thicknessMap, vUv ).g;\n\t#endif\n\tvec3 pos = vWorldPosition;\n\tvec3 v = normalize( cameraPosition - pos );\n\tvec3 n = inverseTransformDirection( normal, viewMatrix );\n\tvec4 transmission = getIBLVolumeRefraction(\n\t\tn, v, roughnessFactor, material.diffuseColor, material.specularColor, material.specularF90,\n\t\tpos, modelMatrix, viewMatrix, projectionMatrix, ior, thicknessFactor,\n\t\tattenuationColor, attenuationDistance );\n\ttotalDiffuse = mix( totalDiffuse, transmission.rgb, transmissionFactor );\n\ttransmissionAlpha = mix( transmissionAlpha, transmission.a, transmissionFactor );\n#endif",transmission_pars_fragment:"#ifdef USE_TRANSMISSION\n\tuniform float transmission;\n\tuniform float thickness;\n\tuniform float attenuationDistance;\n\tuniform vec3 attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tuniform sampler2D transmissionMap;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tuniform sampler2D thicknessMap;\n\t#endif\n\tuniform vec2 transmissionSamplerSize;\n\tuniform sampler2D transmissionSamplerMap;\n\tuniform mat4 modelMatrix;\n\tuniform mat4 projectionMatrix;\n\tvarying vec3 vWorldPosition;\n\tvec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {\n\t\tvec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );\n\t\tvec3 modelScale;\n\t\tmodelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );\n\t\tmodelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );\n\t\tmodelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );\n\t\treturn normalize( refractionVector ) * thickness * modelScale;\n\t}\n\tfloat applyIorToRoughness( const in float roughness, const in float ior ) {\n\t\treturn roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );\n\t}\n\tvec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {\n\t\tfloat framebufferLod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );\n\t\t#ifdef texture2DLodEXT\n\t\t\treturn texture2DLodEXT( transmissionSamplerMap, fragCoord.xy, framebufferLod );\n\t\t#else\n\t\t\treturn texture2D( transmissionSamplerMap, fragCoord.xy, framebufferLod );\n\t\t#endif\n\t}\n\tvec3 applyVolumeAttenuation( const in vec3 radiance, const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tif ( attenuationDistance == 0.0 ) {\n\t\t\treturn radiance;\n\t\t} else {\n\t\t\tvec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;\n\t\t\tvec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );\t\t\treturn transmittance * radiance;\n\t\t}\n\t}\n\tvec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,\n\t\tconst in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,\n\t\tconst in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,\n\t\tconst in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tvec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );\n\t\tvec3 refractedRayExit = position + transmissionRay;\n\t\tvec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\n\t\tvec2 refractionCoords = ndcPos.xy / ndcPos.w;\n\t\trefractionCoords += 1.0;\n\t\trefractionCoords /= 2.0;\n\t\tvec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );\n\t\tvec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );\n\t\tvec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );\n\t\treturn vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );\n\t}\n#endif",uv_pars_fragment:"#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )\n\tvarying vec2 vUv;\n#endif",uv_pars_vertex:"#ifdef USE_UV\n\t#ifdef UVS_VERTEX_ONLY\n\t\tvec2 vUv;\n\t#else\n\t\tvarying vec2 vUv;\n\t#endif\n\tuniform mat3 uvTransform;\n#endif",uv_vertex:"#ifdef USE_UV\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n#endif",uv2_pars_fragment:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif",uv2_pars_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n\tuniform mat3 uv2Transform;\n#endif",uv2_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION )\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\t#ifdef USE_INSTANCING\n\t\tworldPosition = instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition = modelMatrix * worldPosition;\n#endif",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",background_frag:"uniform sampler2D t2D;\nvarying vec2 vUv;\nvoid main() {\n\tgl_FragColor = texture2D( t2D, vUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\tgl_FragColor = vec4( mix( pow( gl_FragColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), gl_FragColor.rgb * 0.0773993808, vec3( lessThanEqual( gl_FragColor.rgb, vec3( 0.04045 ) ) ) ), gl_FragColor.w );\n\t#endif\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",cube_frag:"#include <envmap_common_pars_fragment>\nuniform float opacity;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n\tvec3 vReflect = vWorldDirection;\n\t#include <envmap_fragment>\n\tgl_FragColor = envColor;\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",depth_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvHighPrecisionZW = gl_Position.zw;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( fragCoordZ );\n\t#endif\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV = equirectUv( direction );\n\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvLineDistance = scale * lineDistance;\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",meshbasic_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinbase_vertex>\n\t\t#include <skinnormal_vertex>\n\t\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vUv2 );\n\t\treflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <lights_lambert_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshlambert_frag:"uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <emissivemap_fragment>\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;\n\t#else\n\t\treflectedLight.indirectDiffuse += vIndirectFront;\n\t#endif\n\t#include <lightmap_fragment>\n\treflectedLight.indirectDiffuse *= BRDF_Lambert( diffuseColor.rgb );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n\t#else\n\t\treflectedLight.directDiffuse = vLightFront;\n\t#endif\n\treflectedLight.directDiffuse *= BRDF_Lambert( diffuseColor.rgb ) * getShadowMask();\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t#else\n\t\tvec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshnormal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",meshnormal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n\t#ifdef OPAQUE\n\t\tgl_FragColor.a = 1.0;\n\t#endif\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphysical_vert:"#define STANDARD\nvarying vec3 vViewPosition;\n#ifdef USE_TRANSMISSION\n\tvarying vec3 vWorldPosition;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n#ifdef USE_TRANSMISSION\n\tvWorldPosition = worldPosition.xyz;\n#endif\n}",meshphysical_frag:"#define STANDARD\n#ifdef PHYSICAL\n\t#define IOR\n\t#define SPECULAR\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef IOR\n\tuniform float ior;\n#endif\n#ifdef SPECULAR\n\tuniform float specularIntensity;\n\tuniform vec3 specularColor;\n\t#ifdef USE_SPECULARINTENSITYMAP\n\t\tuniform sampler2D specularIntensityMap;\n\t#endif\n\t#ifdef USE_SPECULARCOLORMAP\n\t\tuniform sampler2D specularColorMap;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_IRIDESCENCE\n\tuniform float iridescence;\n\tuniform float iridescenceIOR;\n\tuniform float iridescenceThicknessMinimum;\n\tuniform float iridescenceThicknessMaximum;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheenColor;\n\tuniform float sheenRoughness;\n\t#ifdef USE_SHEENCOLORMAP\n\t\tuniform sampler2D sheenColorMap;\n\t#endif\n\t#ifdef USE_SHEENROUGHNESSMAP\n\t\tuniform sampler2D sheenRoughnessMap;\n\t#endif\n#endif\nvarying vec3 vViewPosition;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <bsdfs>\n#include <iridescence_fragment>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_physical_pars_fragment>\n#include <transmission_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_pars_fragment>\n#include <iridescence_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;\n\tvec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;\n\t#include <transmission_fragment>\n\tvec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;\n\t#ifdef USE_SHEEN\n\t\tfloat sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );\n\t\toutgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );\n\t\tvec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );\n\t\toutgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;\n\t#endif\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshtoon_vert:"#define TOON\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshtoon_frag:"#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_toon_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",shadow_vert:"#include <common>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}"},nn={common:{diffuse:{value:new $t(16777215)},opacity:{value:1},map:{value:null},uvTransform:{value:new Ns},uv2Transform:{value:new Ns},alphaMap:{value:null},alphaTest:{value:0}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new vt(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new $t(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new $t(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new Ns}},sprite:{diffuse:{value:new $t(16777215)},opacity:{value:1},center:{value:new vt(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new Ns}}},pa={basic:{uniforms:Or([nn.common,nn.specularmap,nn.envmap,nn.aomap,nn.lightmap,nn.fog]),vertexShader:gi.meshbasic_vert,fragmentShader:gi.meshbasic_frag},lambert:{uniforms:Or([nn.common,nn.specularmap,nn.envmap,nn.aomap,nn.lightmap,nn.emissivemap,nn.fog,nn.lights,{emissive:{value:new $t(0)}}]),vertexShader:gi.meshlambert_vert,fragmentShader:gi.meshlambert_frag},phong:{uniforms:Or([nn.common,nn.specularmap,nn.envmap,nn.aomap,nn.lightmap,nn.emissivemap,nn.bumpmap,nn.normalmap,nn.displacementmap,nn.fog,nn.lights,{emissive:{value:new $t(0)},specular:{value:new $t(1118481)},shininess:{value:30}}]),vertexShader:gi.meshphong_vert,fragmentShader:gi.meshphong_frag},standard:{uniforms:Or([nn.common,nn.envmap,nn.aomap,nn.lightmap,nn.emissivemap,nn.bumpmap,nn.normalmap,nn.displacementmap,nn.roughnessmap,nn.metalnessmap,nn.fog,nn.lights,{emissive:{value:new $t(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:gi.meshphysical_vert,fragmentShader:gi.meshphysical_frag},toon:{uniforms:Or([nn.common,nn.aomap,nn.lightmap,nn.emissivemap,nn.bumpmap,nn.normalmap,nn.displacementmap,nn.gradientmap,nn.fog,nn.lights,{emissive:{value:new $t(0)}}]),vertexShader:gi.meshtoon_vert,fragmentShader:gi.meshtoon_frag},matcap:{uniforms:Or([nn.common,nn.bumpmap,nn.normalmap,nn.displacementmap,nn.fog,{matcap:{value:null}}]),vertexShader:gi.meshmatcap_vert,fragmentShader:gi.meshmatcap_frag},points:{uniforms:Or([nn.points,nn.fog]),vertexShader:gi.points_vert,fragmentShader:gi.points_frag},dashed:{uniforms:Or([nn.common,nn.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:gi.linedashed_vert,fragmentShader:gi.linedashed_frag},depth:{uniforms:Or([nn.common,nn.displacementmap]),vertexShader:gi.depth_vert,fragmentShader:gi.depth_frag},normal:{uniforms:Or([nn.common,nn.bumpmap,nn.normalmap,nn.displacementmap,{opacity:{value:1}}]),vertexShader:gi.meshnormal_vert,fragmentShader:gi.meshnormal_frag},sprite:{uniforms:Or([nn.sprite,nn.fog]),vertexShader:gi.sprite_vert,fragmentShader:gi.sprite_frag},background:{uniforms:{uvTransform:{value:new Ns},t2D:{value:null}},vertexShader:gi.background_vert,fragmentShader:gi.background_frag},cube:{uniforms:Or([nn.envmap,{opacity:{value:1}}]),vertexShader:gi.cube_vert,fragmentShader:gi.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:gi.equirect_vert,fragmentShader:gi.equirect_frag},distanceRGBA:{uniforms:Or([nn.common,nn.displacementmap,{referencePosition:{value:new se},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:gi.distanceRGBA_vert,fragmentShader:gi.distanceRGBA_frag},shadow:{uniforms:Or([nn.lights,nn.fog,{color:{value:new $t(0)},opacity:{value:1}}]),vertexShader:gi.shadow_vert,fragmentShader:gi.shadow_frag}};function _y(o,e,t,n,i,a){const u=new $t(0);let g,p,h=!0===i?0:1,C=null,A=0,v=null;function E(S,T){t.buffers.color.setClear(S.r,S.g,S.b,T,a)}return{getClearColor:function(){return u},setClearColor:function(S,T=1){u.set(S),h=T,E(u,h)},getClearAlpha:function(){return h},setClearAlpha:function(S){h=S,E(u,h)},render:function b(S,T){let B=!1,V=!0===T.isScene?T.background:null;V&&V.isTexture&&(V=e.get(V));const $=o.xr,U=$.getSession&&$.getSession();U&&"additive"===U.environmentBlendMode&&(V=null),null===V?E(u,h):V&&V.isColor&&(E(V,1),B=!0),(o.autoClear||B)&&o.clear(o.autoClearColor,o.autoClearDepth,o.autoClearStencil),V&&(V.isCubeTexture||306===V.mapping)?(void 0===p&&(p=new Pr(new ll(1,1,1),new ks({name:"BackgroundCubeMaterial",uniforms:Pc(pa.cube.uniforms),vertexShader:pa.cube.vertexShader,fragmentShader:pa.cube.fragmentShader,side:1,depthTest:!1,depthWrite:!1,fog:!1})),p.geometry.deleteAttribute("normal"),p.geometry.deleteAttribute("uv"),p.onBeforeRender=function(Q,ne,Ie){this.matrixWorld.copyPosition(Ie.matrixWorld)},Object.defineProperty(p.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),n.update(p)),p.material.uniforms.envMap.value=V,p.material.uniforms.flipEnvMap.value=V.isCubeTexture&&!1===V.isRenderTargetTexture?-1:1,(C!==V||A!==V.version||v!==o.toneMapping)&&(p.material.needsUpdate=!0,C=V,A=V.version,v=o.toneMapping),p.layers.enableAll(),S.unshift(p,p.geometry,p.material,0,0,null)):V&&V.isTexture&&(void 0===g&&(g=new Pr(new fa(2,2),new ks({name:"BackgroundMaterial",uniforms:Pc(pa.background.uniforms),vertexShader:pa.background.vertexShader,fragmentShader:pa.background.fragmentShader,side:0,depthTest:!1,depthWrite:!1,fog:!1})),g.geometry.deleteAttribute("normal"),Object.defineProperty(g.material,"map",{get:function(){return this.uniforms.t2D.value}}),n.update(g)),g.material.uniforms.t2D.value=V,!0===V.matrixAutoUpdate&&V.updateMatrix(),g.material.uniforms.uvTransform.value.copy(V.matrix),(C!==V||A!==V.version||v!==o.toneMapping)&&(g.material.needsUpdate=!0,C=V,A=V.version,v=o.toneMapping),g.layers.enableAll(),S.unshift(g,g.geometry,g.material,0,0,null))}}}function vy(o,e,t,n){const i=o.getParameter(34921),a=n.isWebGL2?null:e.get("OES_vertex_array_object"),u=n.isWebGL2||null!==a,h={},g=T(null);let p=g,C=!1;function b(ze){return n.isWebGL2?o.bindVertexArray(ze):a.bindVertexArrayOES(ze)}function E(ze){return n.isWebGL2?o.deleteVertexArray(ze):a.deleteVertexArrayOES(ze)}function T(ze){const pt=[],De=[],je=[];for(let Ke=0;Ke<i;Ke++)pt[Ke]=0,De[Ke]=0,je[Ke]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:pt,enabledAttributes:De,attributeDivisors:je,object:ze,attributes:{},index:null}}function $(){const ze=p.newAttributes;for(let pt=0,De=ze.length;pt<De;pt++)ze[pt]=0}function U(ze){Q(ze,0)}function Q(ze,pt){const je=p.enabledAttributes,Ke=p.attributeDivisors;p.newAttributes[ze]=1,0===je[ze]&&(o.enableVertexAttribArray(ze),je[ze]=1),Ke[ze]!==pt&&((n.isWebGL2?o:e.get("ANGLE_instanced_arrays"))[n.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](ze,pt),Ke[ze]=pt)}function ne(){const ze=p.newAttributes,pt=p.enabledAttributes;for(let De=0,je=pt.length;De<je;De++)pt[De]!==ze[De]&&(o.disableVertexAttribArray(De),pt[De]=0)}function Ie(ze,pt,De,je,Ke,He){!0!==n.isWebGL2||5124!==De&&5125!==De?o.vertexAttribPointer(ze,pt,De,je,Ke,He):o.vertexAttribIPointer(ze,pt,De,Ke,He)}function yt(){Rt(),C=!0,p!==g&&(p=g,b(p.object))}function Rt(){g.geometry=null,g.program=null,g.wireframe=!1}return{setup:function A(ze,pt,De,je,Ke){let He=!1;if(u){const nt=function S(ze,pt,De){const je=!0===De.wireframe;let Ke=h[ze.id];void 0===Ke&&(Ke={},h[ze.id]=Ke);let He=Ke[pt.id];void 0===He&&(He={},Ke[pt.id]=He);let nt=He[je];return void 0===nt&&(nt=T(function v(){return n.isWebGL2?o.createVertexArray():a.createVertexArrayOES()}()),He[je]=nt),nt}(je,De,pt);p!==nt&&(p=nt,b(p.object)),He=function B(ze,pt,De,je){const Ke=p.attributes,He=pt.attributes;let nt=0;const Vt=De.getAttributes();for(const Et in Vt)if(Vt[Et].location>=0){const Jt=Ke[Et];let qn=He[Et];if(void 0===qn&&("instanceMatrix"===Et&&ze.instanceMatrix&&(qn=ze.instanceMatrix),"instanceColor"===Et&&ze.instanceColor&&(qn=ze.instanceColor)),void 0===Jt||Jt.attribute!==qn||qn&&Jt.data!==qn.data)return!0;nt++}return p.attributesNum!==nt||p.index!==je}(ze,je,De,Ke),He&&function V(ze,pt,De,je){const Ke={},He=pt.attributes;let nt=0;const Vt=De.getAttributes();for(const Et in Vt)if(Vt[Et].location>=0){let Jt=He[Et];void 0===Jt&&("instanceMatrix"===Et&&ze.instanceMatrix&&(Jt=ze.instanceMatrix),"instanceColor"===Et&&ze.instanceColor&&(Jt=ze.instanceColor));const qn={};qn.attribute=Jt,Jt&&Jt.data&&(qn.data=Jt.data),Ke[Et]=qn,nt++}p.attributes=Ke,p.attributesNum=nt,p.index=je}(ze,je,De,Ke)}else{const nt=!0===pt.wireframe;(p.geometry!==je.id||p.program!==De.id||p.wireframe!==nt)&&(p.geometry=je.id,p.program=De.id,p.wireframe=nt,He=!0)}null!==Ke&&t.update(Ke,34963),(He||C)&&(C=!1,function G(ze,pt,De,je){if(!1===n.isWebGL2&&(ze.isInstancedMesh||je.isInstancedBufferGeometry)&&null===e.get("ANGLE_instanced_arrays"))return;$();const Ke=je.attributes,He=De.getAttributes(),nt=pt.defaultAttributeValues;for(const Vt in He){const Et=He[Vt];if(Et.location>=0){let qt=Ke[Vt];if(void 0===qt&&("instanceMatrix"===Vt&&ze.instanceMatrix&&(qt=ze.instanceMatrix),"instanceColor"===Vt&&ze.instanceColor&&(qt=ze.instanceColor)),void 0!==qt){const Jt=qt.normalized,qn=qt.itemSize,Mt=t.get(qt);if(void 0===Mt)continue;const Bn=Mt.buffer,Ln=Mt.type,Vn=Mt.bytesPerElement;if(qt.isInterleavedBufferAttribute){const rn=qt.data,hi=rn.stride,Ot=qt.offset;if(rn.isInstancedInterleavedBuffer){for(let St=0;St<Et.locationSize;St++)Q(Et.location+St,rn.meshPerAttribute);!0!==ze.isInstancedMesh&&void 0===je._maxInstanceCount&&(je._maxInstanceCount=rn.meshPerAttribute*rn.count)}else for(let St=0;St<Et.locationSize;St++)U(Et.location+St);o.bindBuffer(34962,Bn);for(let St=0;St<Et.locationSize;St++)Ie(Et.location+St,qn/Et.locationSize,Ln,Jt,hi*Vn,(Ot+qn/Et.locationSize*St)*Vn)}else{if(qt.isInstancedBufferAttribute){for(let rn=0;rn<Et.locationSize;rn++)Q(Et.location+rn,qt.meshPerAttribute);!0!==ze.isInstancedMesh&&void 0===je._maxInstanceCount&&(je._maxInstanceCount=qt.meshPerAttribute*qt.count)}else for(let rn=0;rn<Et.locationSize;rn++)U(Et.location+rn);o.bindBuffer(34962,Bn);for(let rn=0;rn<Et.locationSize;rn++)Ie(Et.location+rn,qn/Et.locationSize,Ln,Jt,qn*Vn,qn/Et.locationSize*rn*Vn)}}else if(void 0!==nt){const Jt=nt[Vt];if(void 0!==Jt)switch(Jt.length){case 2:o.vertexAttrib2fv(Et.location,Jt);break;case 3:o.vertexAttrib3fv(Et.location,Jt);break;case 4:o.vertexAttrib4fv(Et.location,Jt);break;default:o.vertexAttrib1fv(Et.location,Jt)}}}}ne()}(ze,pt,De,je),null!==Ke&&o.bindBuffer(34963,t.get(Ke).buffer))},reset:yt,resetDefaultState:Rt,dispose:function ce(){yt();for(const ze in h){const pt=h[ze];for(const De in pt){const je=pt[De];for(const Ke in je)E(je[Ke].object),delete je[Ke];delete pt[De]}delete h[ze]}},releaseStatesOfGeometry:function Le(ze){if(void 0===h[ze.id])return;const pt=h[ze.id];for(const De in pt){const je=pt[De];for(const Ke in je)E(je[Ke].object),delete je[Ke];delete pt[De]}delete h[ze.id]},releaseStatesOfProgram:function Ve(ze){for(const pt in h){const De=h[pt];if(void 0===De[ze.id])continue;const je=De[ze.id];for(const Ke in je)E(je[Ke].object),delete je[Ke];delete De[ze.id]}},initAttributes:$,enableAttribute:U,disableUnusedAttributes:ne}}function yy(o,e,t,n){const i=n.isWebGL2;let a;this.setMode=function u(p){a=p},this.render=function h(p,C){o.drawArrays(a,p,C),t.update(C,a,1)},this.renderInstances=function g(p,C,A){if(0===A)return;let v,b;if(i)v=o,b="drawArraysInstanced";else if(v=e.get("ANGLE_instanced_arrays"),b="drawArraysInstancedANGLE",null===v)return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");v[b](a,p,C,A),t.update(C,a,A)}}function xy(o,e,t){let n;function a(Ie){if("highp"===Ie){if(o.getShaderPrecisionFormat(35633,36338).precision>0&&o.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";Ie="mediump"}return"mediump"===Ie&&o.getShaderPrecisionFormat(35633,36337).precision>0&&o.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}const u="undefined"!=typeof WebGL2RenderingContext&&o instanceof WebGL2RenderingContext||"undefined"!=typeof WebGL2ComputeRenderingContext&&o instanceof WebGL2ComputeRenderingContext;let h=void 0!==t.precision?t.precision:"highp";const g=a(h);g!==h&&(console.warn("THREE.WebGLRenderer:",h,"not supported, using",g,"instead."),h=g);const p=u||e.has("WEBGL_draw_buffers"),C=!0===t.logarithmicDepthBuffer,A=o.getParameter(34930),v=o.getParameter(35660),b=o.getParameter(3379),E=o.getParameter(34076),S=o.getParameter(34921),T=o.getParameter(36347),B=o.getParameter(36348),V=o.getParameter(36349),$=v>0,U=u||e.has("OES_texture_float");return{isWebGL2:u,drawBuffers:p,getMaxAnisotropy:function i(){if(void 0!==n)return n;if(!0===e.has("EXT_texture_filter_anisotropic")){const Ie=e.get("EXT_texture_filter_anisotropic");n=o.getParameter(Ie.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else n=0;return n},getMaxPrecision:a,precision:h,logarithmicDepthBuffer:C,maxTextures:A,maxVertexTextures:v,maxTextureSize:b,maxCubemapSize:E,maxAttributes:S,maxVertexUniforms:T,maxVaryings:B,maxFragmentUniforms:V,vertexTextures:$,floatFragmentTextures:U,floatVertexTextures:$&&U,maxSamples:u?o.getParameter(36183):0}}function by(o){const e=this;let t=null,n=0,i=!1,a=!1;const u=new cl,h=new Ns,g={value:null,needsUpdate:!1};function p(){g.value!==t&&(g.value=t,g.needsUpdate=n>0),e.numPlanes=n,e.numIntersection=0}function C(A,v,b,E){const S=null!==A?A.length:0;let T=null;if(0!==S){if(T=g.value,!0!==E||null===T){const B=b+4*S,V=v.matrixWorldInverse;h.getNormalMatrix(V),(null===T||T.length<B)&&(T=new Float32Array(B));for(let $=0,U=b;$!==S;++$,U+=4)u.copy(A[$]).applyMatrix4(V,h),u.normal.toArray(T,U),T[U+3]=u.constant}g.value=T,g.needsUpdate=!0}return e.numPlanes=S,e.numIntersection=0,T}this.uniform=g,this.numPlanes=0,this.numIntersection=0,this.init=function(A,v,b){const E=0!==A.length||v||0!==n||i;return i=v,t=C(A,b,0),n=A.length,E},this.beginShadows=function(){a=!0,C(null)},this.endShadows=function(){a=!1,p()},this.setState=function(A,v,b){const E=A.clippingPlanes,S=A.clipIntersection,T=A.clipShadows,B=o.get(A);if(!i||null===E||0===E.length||a&&!T)a?C(null):p();else{const V=a?0:n,$=4*V;let U=B.clippingState||null;g.value=U,U=C(E,v,$,b);for(let Q=0;Q!==$;++Q)U[Q]=t[Q];B.clippingState=U,this.numIntersection=S?this.numPlanes:0,this.numPlanes+=V}}}function kC(o){let e=new WeakMap;function t(u,h){return 303===h?u.mapping=301:304===h&&(u.mapping=302),u}function i(u){const h=u.target;h.removeEventListener("dispose",i);const g=e.get(h);void 0!==g&&(e.delete(h),g.dispose())}return{get:function n(u){if(u&&u.isTexture&&!1===u.isRenderTargetTexture){const h=u.mapping;if(303===h||304===h){if(e.has(u))return t(e.get(u).texture,u.mapping);{const g=u.image;if(g&&g.height>0){const p=new Wu(g.height/2);return p.fromEquirectangularTexture(o,u),e.set(u,p),u.addEventListener("dispose",i),t(p.texture,u.mapping)}return null}}}return u},dispose:function a(){e=new WeakMap}}}pa.physical={uniforms:Or([pa.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new vt(1,1)},clearcoatNormalMap:{value:null},iridescence:{value:0},iridescenceMap:{value:null},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},sheen:{value:0},sheenColor:{value:new $t(0)},sheenColorMap:{value:null},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},transmission:{value:0},transmissionMap:{value:null},transmissionSamplerSize:{value:new vt},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:0},attenuationColor:{value:new $t(0)},specularIntensity:{value:1},specularIntensityMap:{value:null},specularColor:{value:new $t(1,1,1)},specularColorMap:{value:null}}]),vertexShader:gi.meshphysical_vert,fragmentShader:gi.meshphysical_frag};class dl extends Gu{constructor(e=-1,t=1,n=1,i=-1,a=.1,u=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=n,this.bottom=i,this.near=a,this.far=u,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=null===e.view?null:Object.assign({},e.view),this}setViewOffset(e,t,n,i,a,u){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=i,this.view.width=a,this.view.height=u,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let a=n-e,u=n+e,h=i+t,g=i-t;if(null!==this.view&&this.view.enabled){const p=(this.right-this.left)/this.view.fullWidth/this.zoom,C=(this.top-this.bottom)/this.view.fullHeight/this.zoom;a+=p*this.view.offsetX,u=a+p*this.view.width,h-=C*this.view.offsetY,g=h-C*this.view.height}this.projectionMatrix.makeOrthographic(a,u,h,g,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,null!==this.view&&(t.object.view=Object.assign({},this.view)),t}}const yh=[.125,.215,.35,.446,.526,.582],Ig=new dl,_g=new $t;let xh=null;const co=(1+Math.sqrt(5))/2,Xl=1/co,vg=[new se(1,1,1),new se(-1,1,1),new se(1,1,-1),new se(-1,1,-1),new se(0,co,Xl),new se(0,co,-Xl),new se(Xl,0,co),new se(-Xl,0,co),new se(co,Xl,0),new se(-co,Xl,0)];class BC{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,n=.1,i=100){xh=this._renderer.getRenderTarget(),this._setSize(256);const a=this._allocateTargets();return a.depthBuffer=!0,this._sceneToCubeUV(e,n,i,a),t>0&&this._blur(a,0,0,t),this._applyPMREM(a),this._cleanup(a),a}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){null===this._cubemapMaterial&&(this._cubemapMaterial=wh(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){null===this._equirectMaterial&&(this._equirectMaterial=yg(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),null!==this._cubemapMaterial&&this._cubemapMaterial.dispose(),null!==this._equirectMaterial&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){null!==this._blurMaterial&&this._blurMaterial.dispose(),null!==this._pingPongRenderTarget&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(xh),e.scissorTest=!1,Xu(e,0,0,e.width,e.height)}_fromTexture(e,t){this._setSize(301===e.mapping||302===e.mapping?0===e.image.length?16:e.image[0].width||e.image[0].image.width:e.image.width/4),xh=this._renderer.getRenderTarget();const n=t||this._allocateTargets();return this._textureToCubeUV(e,n),this._applyPMREM(n),this._cleanup(n),n}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,n={magFilter:fi,minFilter:fi,generateMipmaps:!1,type:Fn,format:_r,encoding:Co,depthBuffer:!1},i=VC(e,t,n);if(null===this._pingPongRenderTarget||this._pingPongRenderTarget.width!==e){null!==this._pingPongRenderTarget&&this._dispose(),this._pingPongRenderTarget=VC(e,t,n);const{_lodMax:a}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=function bh(o){const e=[],t=[],n=[];let i=o;const a=o-4+1+yh.length;for(let u=0;u<a;u++){const h=Math.pow(2,i);t.push(h);let g=1/h;u>o-4?g=yh[u-o+4-1]:0===u&&(g=0),n.push(g);const p=1/(h-2),C=-p,A=1+p,v=[C,C,A,C,A,A,C,C,A,A,C,A],b=6,E=6,S=3,T=2,B=1,V=new Float32Array(S*E*b),$=new Float32Array(T*E*b),U=new Float32Array(B*E*b);for(let ne=0;ne<b;ne++){const Ie=ne%3*2/3-1,G=ne>2?0:-1;V.set([Ie,G,0,Ie+2/3,G,0,Ie+2/3,G+1,0,Ie,G,0,Ie+2/3,G+1,0,Ie,G+1,0],S*E*ne),$.set(v,T*E*ne),U.set([ne,ne,ne,ne,ne,ne],B*E*ne)}const Q=new ii;Q.setAttribute("position",new Hr(V,S)),Q.setAttribute("uv",new Hr($,T)),Q.setAttribute("faceIndex",new Hr(U,B)),e.push(Q),i>4&&i--}return{lodPlanes:e,sizeLods:t,sigmas:n}}(a)),this._blurMaterial=function UC(o,e,t){const n=new Float32Array(20),i=new se(0,1,0);return new ks({name:"SphericalGaussianBlur",defines:{n:20,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${o}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:n},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform int samples;\n\t\t\tuniform float weights[ n ];\n\t\t\tuniform bool latitudinal;\n\t\t\tuniform float dTheta;\n\t\t\tuniform float mipInt;\n\t\t\tuniform vec3 poleAxis;\n\n\t\t\t#define ENVMAP_TYPE_CUBE_UV\n\t\t\t#include <cube_uv_reflection_fragment>\n\n\t\t\tvec3 getSample( float theta, vec3 axis ) {\n\n\t\t\t\tfloat cosTheta = cos( theta );\n\t\t\t\t// Rodrigues' axis-angle rotation\n\t\t\t\tvec3 sampleDirection = vOutputDirection * cosTheta\n\t\t\t\t\t+ cross( axis, vOutputDirection ) * sin( theta )\n\t\t\t\t\t+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );\n\n\t\t\t\treturn bilinearCubeUV( envMap, sampleDirection, mipInt );\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );\n\n\t\t\t\tif ( all( equal( axis, vec3( 0.0 ) ) ) ) {\n\n\t\t\t\t\taxis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );\n\n\t\t\t\t}\n\n\t\t\t\taxis = normalize( axis );\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );\n\n\t\t\t\tfor ( int i = 1; i < n; i++ ) {\n\n\t\t\t\t\tif ( i >= samples ) {\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfloat theta = dTheta * float( i );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( theta, axis );\n\n\t\t\t\t}\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}(a,e,t)}return i}_compileMaterial(e){const t=new Pr(this._lodPlanes[0],e);this._renderer.compile(t,Ig)}_sceneToCubeUV(e,t,n,i){const h=new hr(90,1,t,n),g=[1,-1,1,1,1,1],p=[1,1,1,-1,-1,-1],C=this._renderer,A=C.autoClear,v=C.toneMapping;C.getClearColor(_g),C.toneMapping=0,C.autoClear=!1;const b=new Ks({name:"PMREM.Background",side:1,depthWrite:!1,depthTest:!1}),E=new Pr(new ll,b);let S=!1;const T=e.background;T?T.isColor&&(b.color.copy(T),e.background=null,S=!0):(b.color.copy(_g),S=!0);for(let B=0;B<6;B++){const V=B%3;0===V?(h.up.set(0,g[B],0),h.lookAt(p[B],0,0)):1===V?(h.up.set(0,0,g[B]),h.lookAt(0,p[B],0)):(h.up.set(0,g[B],0),h.lookAt(0,0,p[B]));const $=this._cubeSize;Xu(i,V*$,B>2?$:0,$,$),C.setRenderTarget(i),S&&C.render(E,h),C.render(e,h)}E.geometry.dispose(),E.material.dispose(),C.toneMapping=v,C.autoClear=A,e.background=T}_textureToCubeUV(e,t){const n=this._renderer,i=301===e.mapping||302===e.mapping;i?(null===this._cubemapMaterial&&(this._cubemapMaterial=wh()),this._cubemapMaterial.uniforms.flipEnvMap.value=!1===e.isRenderTargetTexture?-1:1):null===this._equirectMaterial&&(this._equirectMaterial=yg());const a=i?this._cubemapMaterial:this._equirectMaterial,u=new Pr(this._lodPlanes[0],a);a.uniforms.envMap.value=e;const g=this._cubeSize;Xu(t,0,0,3*g,2*g),n.setRenderTarget(t),n.render(u,Ig)}_applyPMREM(e){const t=this._renderer,n=t.autoClear;t.autoClear=!1;for(let i=1;i<this._lodPlanes.length;i++){const a=Math.sqrt(this._sigmas[i]*this._sigmas[i]-this._sigmas[i-1]*this._sigmas[i-1]);this._blur(e,i-1,i,a,vg[(i-1)%vg.length])}t.autoClear=n}_blur(e,t,n,i,a){const u=this._pingPongRenderTarget;this._halfBlur(e,u,t,n,i,"latitudinal",a),this._halfBlur(u,e,n,n,i,"longitudinal",a)}_halfBlur(e,t,n,i,a,u,h){const g=this._renderer,p=this._blurMaterial;"latitudinal"!==u&&"longitudinal"!==u&&console.error("blur direction must be either latitudinal or longitudinal!");const A=new Pr(this._lodPlanes[i],p),v=p.uniforms,b=this._sizeLods[n]-1,E=isFinite(a)?Math.PI/(2*b):2*Math.PI/39,S=a/E,T=isFinite(a)?1+Math.floor(3*S):20;T>20&&console.warn(`sigmaRadians, ${a}, is too large and will clip, as it requested ${T} samples when the maximum is set to 20`);const B=[];let V=0;for(let Ie=0;Ie<20;++Ie){const G=Ie/S,ce=Math.exp(-G*G/2);B.push(ce),0===Ie?V+=ce:Ie<T&&(V+=2*ce)}for(let Ie=0;Ie<B.length;Ie++)B[Ie]=B[Ie]/V;v.envMap.value=e.texture,v.samples.value=T,v.weights.value=B,v.latitudinal.value="latitudinal"===u,h&&(v.poleAxis.value=h);const{_lodMax:$}=this;v.dTheta.value=E,v.mipInt.value=$-n;const U=this._sizeLods[i];Xu(t,3*U*(i>$-4?i-$+4:0),4*(this._cubeSize-U),3*U,2*U),g.setRenderTarget(t),g.render(A,Ig)}}function VC(o,e,t){const n=new Is(o,e,t);return n.texture.mapping=306,n.texture.name="PMREM.cubeUv",n.scissorTest=!0,n}function Xu(o,e,t,n,i){o.viewport.set(e,t,n,i),o.scissor.set(e,t,n,i)}function yg(){return new ks({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\n\t\t\t#include <common>\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 outputDirection = normalize( vOutputDirection );\n\t\t\t\tvec2 uv = equirectUv( outputDirection );\n\n\t\t\t\tgl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}function wh(){return new ks({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tuniform float flipEnvMap;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform samplerCube envMap;\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}function Sh(o){let e=new WeakMap,t=null;function a(h){const g=h.target;g.removeEventListener("dispose",a);const p=e.get(g);void 0!==p&&(e.delete(g),p.dispose())}return{get:function n(h){if(h&&h.isTexture){const g=h.mapping,p=303===g||304===g,C=301===g||302===g;if(p||C){if(h.isRenderTargetTexture&&!0===h.needsPMREMUpdate){h.needsPMREMUpdate=!1;let A=e.get(h);return null===t&&(t=new BC(o)),A=p?t.fromEquirectangular(h,A):t.fromCubemap(h,A),e.set(h,A),A.texture}if(e.has(h))return e.get(h).texture;{const A=h.image;if(p&&A&&A.height>0||C&&A&&function i(h){let g=0;for(let C=0;C<6;C++)void 0!==h[C]&&g++;return 6===g}(A)){null===t&&(t=new BC(o));const v=p?t.fromEquirectangular(h):t.fromCubemap(h);return e.set(h,v),h.addEventListener("dispose",a),v.texture}return null}}}return h},dispose:function u(){e=new WeakMap,null!==t&&(t.dispose(),t=null)}}}function Th(o){const e={};function t(n){if(void 0!==e[n])return e[n];let i;switch(n){case"WEBGL_depth_texture":i=o.getExtension("WEBGL_depth_texture")||o.getExtension("MOZ_WEBGL_depth_texture")||o.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=o.getExtension("EXT_texture_filter_anisotropic")||o.getExtension("MOZ_EXT_texture_filter_anisotropic")||o.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=o.getExtension("WEBGL_compressed_texture_s3tc")||o.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||o.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=o.getExtension("WEBGL_compressed_texture_pvrtc")||o.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=o.getExtension(n)}return e[n]=i,i}return{has:function(n){return null!==t(n)},init:function(n){n.isWebGL2?t("EXT_color_buffer_float"):(t("WEBGL_depth_texture"),t("OES_texture_float"),t("OES_texture_half_float"),t("OES_texture_half_float_linear"),t("OES_standard_derivatives"),t("OES_element_index_uint"),t("OES_vertex_array_object"),t("ANGLE_instanced_arrays")),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture")},get:function(n){const i=t(n);return null===i&&console.warn("THREE.WebGLRenderer: "+n+" extension not supported."),i}}}function HC(o,e,t,n){const i={},a=new WeakMap;function u(A){const v=A.target;null!==v.index&&e.remove(v.index);for(const E in v.attributes)e.remove(v.attributes[E]);v.removeEventListener("dispose",u),delete i[v.id];const b=a.get(v);b&&(e.remove(b),a.delete(v)),n.releaseStatesOfGeometry(v),!0===v.isInstancedBufferGeometry&&delete v._maxInstanceCount,t.memory.geometries--}function p(A){const v=[],b=A.index,E=A.attributes.position;let S=0;if(null!==b){const V=b.array;S=b.version;for(let $=0,U=V.length;$<U;$+=3){const Q=V[$+0],ne=V[$+1],Ie=V[$+2];v.push(Q,ne,ne,Ie,Ie,Q)}}else{S=E.version;for(let $=0,U=E.array.length/3-1;$<U;$+=3){const Q=$+0,ne=$+1,Ie=$+2;v.push(Q,ne,ne,Ie,Ie,Q)}}const T=new(Bl(v)?lC:Tc)(v,1);T.version=S;const B=a.get(A);B&&e.remove(B),a.set(A,T)}return{get:function h(A,v){return!0===i[v.id]||(v.addEventListener("dispose",u),i[v.id]=!0,t.memory.geometries++),v},update:function g(A){const v=A.attributes;for(const E in v)e.update(v[E],34962);const b=A.morphAttributes;for(const E in b){const S=b[E];for(let T=0,B=S.length;T<B;T++)e.update(S[T],34962)}},getWireframeAttribute:function C(A){const v=a.get(A);if(v){const b=A.index;null!==b&&v.version<b.version&&p(A)}else p(A);return a.get(A)}}}function xg(o,e,t,n){const i=n.isWebGL2;let a,h,g;this.setMode=function u(v){a=v},this.setIndex=function p(v){h=v.type,g=v.bytesPerElement},this.render=function C(v,b){o.drawElements(a,b,h,v*g),t.update(b,a,1)},this.renderInstances=function A(v,b,E){if(0===E)return;let S,T;if(i)S=o,T="drawElementsInstanced";else if(S=e.get("ANGLE_instanced_arrays"),T="drawElementsInstancedANGLE",null===S)return void console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");S[T](a,b,h,v*g,E),t.update(b,a,E)}}function zC(o){const t={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:t,programs:null,autoReset:!0,reset:function i(){t.frame++,t.calls=0,t.triangles=0,t.points=0,t.lines=0},update:function n(a,u,h){switch(t.calls++,u){case 4:t.triangles+=h*(a/3);break;case 1:t.lines+=h*(a/2);break;case 3:t.lines+=h*(a-1);break;case 2:t.lines+=h*a;break;case 0:t.points+=h*a;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",u)}}}}function bg(o,e){return o[0]-e[0]}function ed(o,e){return Math.abs(e[1])-Math.abs(o[1])}function wg(o,e){let t=1;const n=e.isInterleavedBufferAttribute?e.data.array:e.array;n instanceof Int8Array?t=127:n instanceof Uint8Array?t=255:n instanceof Uint16Array?t=65535:n instanceof Int16Array?t=32767:n instanceof Int32Array?t=2147483647:console.error("THREE.WebGLMorphtargets: Unsupported morph attribute data type: ",n),o.divideScalar(t)}function GC(o,e,t){const n={},i=new Float32Array(8),a=new WeakMap,u=new Mi,h=[];for(let p=0;p<8;p++)h[p]=[p,0];return{update:function g(p,C,A,v){const b=p.morphTargetInfluences;if(!0===e.isWebGL2){const E=C.morphAttributes.position||C.morphAttributes.normal||C.morphAttributes.color,S=void 0!==E?E.length:0;let T=a.get(C);if(void 0===T||T.count!==S){let pt=function(){Rt.dispose(),a.delete(C),C.removeEventListener("dispose",pt)};void 0!==T&&T.texture.dispose();const $=void 0!==C.morphAttributes.position,U=void 0!==C.morphAttributes.normal,Q=void 0!==C.morphAttributes.color,ne=C.morphAttributes.position||[],Ie=C.morphAttributes.normal||[],G=C.morphAttributes.color||[];let ce=0;!0===$&&(ce=1),!0===U&&(ce=2),!0===Q&&(ce=3);let Le=C.attributes.position.count*ce,Ve=1;Le>e.maxTextureSize&&(Ve=Math.ceil(Le/e.maxTextureSize),Le=e.maxTextureSize);const yt=new Float32Array(Le*Ve*4*S),Rt=new Vl(yt,Le,Ve,S);Rt.type=kt,Rt.needsUpdate=!0;const ze=4*ce;for(let De=0;De<S;De++){const je=ne[De],Ke=Ie[De],He=G[De],nt=Le*Ve*4*De;for(let Vt=0;Vt<je.count;Vt++){const Et=Vt*ze;!0===$&&(u.fromBufferAttribute(je,Vt),!0===je.normalized&&wg(u,je),yt[nt+Et+0]=u.x,yt[nt+Et+1]=u.y,yt[nt+Et+2]=u.z,yt[nt+Et+3]=0),!0===U&&(u.fromBufferAttribute(Ke,Vt),!0===Ke.normalized&&wg(u,Ke),yt[nt+Et+4]=u.x,yt[nt+Et+5]=u.y,yt[nt+Et+6]=u.z,yt[nt+Et+7]=0),!0===Q&&(u.fromBufferAttribute(He,Vt),!0===He.normalized&&wg(u,He),yt[nt+Et+8]=u.x,yt[nt+Et+9]=u.y,yt[nt+Et+10]=u.z,yt[nt+Et+11]=4===He.itemSize?u.w:1)}}T={count:S,texture:Rt,size:new vt(Le,Ve)},a.set(C,T),C.addEventListener("dispose",pt)}let B=0;for(let $=0;$<b.length;$++)B+=b[$];const V=C.morphTargetsRelative?1:1-B;v.getUniforms().setValue(o,"morphTargetBaseInfluence",V),v.getUniforms().setValue(o,"morphTargetInfluences",b),v.getUniforms().setValue(o,"morphTargetsTexture",T.texture,t),v.getUniforms().setValue(o,"morphTargetsTextureSize",T.size)}else{const E=void 0===b?0:b.length;let S=n[C.id];if(void 0===S||S.length!==E){S=[];for(let U=0;U<E;U++)S[U]=[U,0];n[C.id]=S}for(let U=0;U<E;U++){const Q=S[U];Q[0]=U,Q[1]=b[U]}S.sort(ed);for(let U=0;U<8;U++)U<E&&S[U][1]?(h[U][0]=S[U][0],h[U][1]=S[U][1]):(h[U][0]=Number.MAX_SAFE_INTEGER,h[U][1]=0);h.sort(bg);const T=C.morphAttributes.position,B=C.morphAttributes.normal;let V=0;for(let U=0;U<8;U++){const Q=h[U],ne=Q[0],Ie=Q[1];ne!==Number.MAX_SAFE_INTEGER&&Ie?(T&&C.getAttribute("morphTarget"+U)!==T[ne]&&C.setAttribute("morphTarget"+U,T[ne]),B&&C.getAttribute("morphNormal"+U)!==B[ne]&&C.setAttribute("morphNormal"+U,B[ne]),i[U]=Ie,V+=Ie):(T&&!0===C.hasAttribute("morphTarget"+U)&&C.deleteAttribute("morphTarget"+U),B&&!0===C.hasAttribute("morphNormal"+U)&&C.deleteAttribute("morphNormal"+U),i[U]=0)}const $=C.morphTargetsRelative?1:1-V;v.getUniforms().setValue(o,"morphTargetBaseInfluence",$),v.getUniforms().setValue(o,"morphTargetInfluences",i)}}}}function wy(o,e,t,n){let i=new WeakMap;function h(g){const p=g.target;p.removeEventListener("dispose",h),t.remove(p.instanceMatrix),null!==p.instanceColor&&t.remove(p.instanceColor)}return{update:function a(g){const p=n.render.frame,A=e.get(g,g.geometry);return i.get(A)!==p&&(e.update(A),i.set(A,p)),g.isInstancedMesh&&(!1===g.hasEventListener("dispose",h)&&g.addEventListener("dispose",h),t.update(g.instanceMatrix,34962),null!==g.instanceColor&&t.update(g.instanceColor,34962)),A},dispose:function u(){i=new WeakMap}}}const WC=new js,Mg=new Vl,Eh=new Yr,Sg=new ql,My=[],Tg=[],jC=new Float32Array(16),Eg=new Float32Array(9),$C=new Float32Array(4);function Fc(o,e,t){const n=o[0];if(n<=0||n>0)return o;const i=e*t;let a=My[i];if(void 0===a&&(a=new Float32Array(i),My[i]=a),0!==e){n.toArray(a,0);for(let u=1,h=0;u!==e;++u)h+=t,o[u].toArray(a,h)}return a}function ar(o,e){if(o.length!==e.length)return!1;for(let t=0,n=o.length;t<n;t++)if(o[t]!==e[t])return!1;return!0}function Vs(o,e){for(let t=0,n=e.length;t<n;t++)o[t]=e[t]}function td(o,e){let t=Tg[e];void 0===t&&(t=new Int32Array(e),Tg[e]=t);for(let n=0;n!==e;++n)t[n]=o.allocateTextureUnit();return t}function Sy(o,e){const t=this.cache;t[0]!==e&&(o.uniform1f(this.addr,e),t[0]=e)}function Ty(o,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y)&&(o.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(ar(t,e))return;o.uniform2fv(this.addr,e),Vs(t,e)}}function Ey(o,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(o.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(void 0!==e.r)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(o.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(ar(t,e))return;o.uniform3fv(this.addr,e),Vs(t,e)}}function Dy(o,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(o.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(ar(t,e))return;o.uniform4fv(this.addr,e),Vs(t,e)}}function ZC(o,e){const t=this.cache,n=e.elements;if(void 0===n){if(ar(t,e))return;o.uniformMatrix2fv(this.addr,!1,e),Vs(t,e)}else{if(ar(t,n))return;$C.set(n),o.uniformMatrix2fv(this.addr,!1,$C),Vs(t,n)}}function Py(o,e){const t=this.cache,n=e.elements;if(void 0===n){if(ar(t,e))return;o.uniformMatrix3fv(this.addr,!1,e),Vs(t,e)}else{if(ar(t,n))return;Eg.set(n),o.uniformMatrix3fv(this.addr,!1,Eg),Vs(t,n)}}function Oy(o,e){const t=this.cache,n=e.elements;if(void 0===n){if(ar(t,e))return;o.uniformMatrix4fv(this.addr,!1,e),Vs(t,e)}else{if(ar(t,n))return;jC.set(n),o.uniformMatrix4fv(this.addr,!1,jC),Vs(t,n)}}function Ly(o,e){const t=this.cache;t[0]!==e&&(o.uniform1i(this.addr,e),t[0]=e)}function Jn(o,e){const t=this.cache;ar(t,e)||(o.uniform2iv(this.addr,e),Vs(t,e))}function qC(o,e){const t=this.cache;ar(t,e)||(o.uniform3iv(this.addr,e),Vs(t,e))}function YC(o,e){const t=this.cache;ar(t,e)||(o.uniform4iv(this.addr,e),Vs(t,e))}function KC(o,e){const t=this.cache;t[0]!==e&&(o.uniform1ui(this.addr,e),t[0]=e)}function Dh(o,e){const t=this.cache;ar(t,e)||(o.uniform2uiv(this.addr,e),Vs(t,e))}function zo(o,e){const t=this.cache;ar(t,e)||(o.uniform3uiv(this.addr,e),Vs(t,e))}function JC(o,e){const t=this.cache;ar(t,e)||(o.uniform4uiv(this.addr,e),Vs(t,e))}function Ry(o,e,t){const n=this.cache,i=t.allocateTextureUnit();n[0]!==i&&(o.uniform1i(this.addr,i),n[0]=i),t.setTexture2D(e||WC,i)}function Dg(o,e,t){const n=this.cache,i=t.allocateTextureUnit();n[0]!==i&&(o.uniform1i(this.addr,i),n[0]=i),t.setTexture3D(e||Eh,i)}function Ba(o,e,t){const n=this.cache,i=t.allocateTextureUnit();n[0]!==i&&(o.uniform1i(this.addr,i),n[0]=i),t.setTextureCube(e||Sg,i)}function Pg(o,e,t){const n=this.cache,i=t.allocateTextureUnit();n[0]!==i&&(o.uniform1i(this.addr,i),n[0]=i),t.setTexture2DArray(e||Mg,i)}function Og(o,e){o.uniform1fv(this.addr,e)}function Sw(o,e){const t=Fc(e,this.size,2);o.uniform2fv(this.addr,t)}function XC(o,e){const t=Fc(e,this.size,3);o.uniform3fv(this.addr,t)}function Tw(o,e){const t=Fc(e,this.size,4);o.uniform4fv(this.addr,t)}function Ph(o,e){const t=Fc(e,this.size,4);o.uniformMatrix2fv(this.addr,!1,t)}function Oh(o,e){const t=Fc(e,this.size,9);o.uniformMatrix3fv(this.addr,!1,t)}function Lg(o,e){const t=Fc(e,this.size,16);o.uniformMatrix4fv(this.addr,!1,t)}function Rg(o,e){o.uniform1iv(this.addr,e)}function Ng(o,e){o.uniform2iv(this.addr,e)}function Ew(o,e){o.uniform3iv(this.addr,e)}function Ny(o,e){o.uniform4iv(this.addr,e)}function Fy(o,e){o.uniform1uiv(this.addr,e)}function ky(o,e){o.uniform2uiv(this.addr,e)}function By(o,e){o.uniform3uiv(this.addr,e)}function eA(o,e){o.uniform4uiv(this.addr,e)}function Dw(o,e,t){const n=e.length,i=td(t,n);o.uniform1iv(this.addr,i);for(let a=0;a!==n;++a)t.setTexture2D(e[a]||WC,i[a])}function Vy(o,e,t){const n=e.length,i=td(t,n);o.uniform1iv(this.addr,i);for(let a=0;a!==n;++a)t.setTexture3D(e[a]||Eh,i[a])}function Pw(o,e,t){const n=e.length,i=td(t,n);o.uniform1iv(this.addr,i);for(let a=0;a!==n;++a)t.setTextureCube(e[a]||Sg,i[a])}function tA(o,e,t){const n=e.length,i=td(t,n);o.uniform1iv(this.addr,i);for(let a=0;a!==n;++a)t.setTexture2DArray(e[a]||Mg,i[a])}class Uy{constructor(e,t,n){this.id=e,this.addr=n,this.cache=[],this.setValue=function QC(o){switch(o){case 5126:return Sy;case 35664:return Ty;case 35665:return Ey;case 35666:return Dy;case 35674:return ZC;case 35675:return Py;case 35676:return Oy;case 5124:case 35670:return Ly;case 35667:case 35671:return Jn;case 35668:case 35672:return qC;case 35669:case 35673:return YC;case 5125:return KC;case 36294:return Dh;case 36295:return zo;case 36296:return JC;case 35678:case 36198:case 36298:case 36306:case 35682:return Ry;case 35679:case 36299:case 36307:return Dg;case 35680:case 36300:case 36308:case 36293:return Ba;case 36289:case 36303:case 36311:case 36292:return Pg}}(t.type)}}class Fg{constructor(e,t,n){this.id=e,this.addr=n,this.cache=[],this.size=t.size,this.setValue=function nA(o){switch(o){case 5126:return Og;case 35664:return Sw;case 35665:return XC;case 35666:return Tw;case 35674:return Ph;case 35675:return Oh;case 35676:return Lg;case 5124:case 35670:return Rg;case 35667:case 35671:return Ng;case 35668:case 35672:return Ew;case 35669:case 35673:return Ny;case 5125:return Fy;case 36294:return ky;case 36295:return By;case 36296:return eA;case 35678:case 36198:case 36298:case 36306:case 35682:return Dw;case 35679:case 36299:case 36307:return Vy;case 35680:case 36300:case 36308:case 36293:return Pw;case 36289:case 36303:case 36311:case 36292:return tA}}(t.type)}}class Ow{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,n){const i=this.seq;for(let a=0,u=i.length;a!==u;++a){const h=i[a];h.setValue(e,t[h.id],n)}}}const iA=/(\w+)(\])?(\[|\.)?/g;function Hy(o,e){o.seq.push(e),o.map[e.id]=e}function Lw(o,e,t){const n=o.name,i=n.length;for(iA.lastIndex=0;;){const a=iA.exec(n),u=iA.lastIndex;let h=a[1];const p=a[3];if("]"===a[2]&&(h|=0),void 0===p||"["===p&&u+2===i){Hy(t,void 0===p?new Uy(h,o,e):new Fg(h,o,e));break}{let A=t.map[h];void 0===A&&(A=new Ow(h),Hy(t,A)),t=A}}}class kg{constructor(e,t){this.seq=[],this.map={};const n=e.getProgramParameter(t,35718);for(let i=0;i<n;++i){const a=e.getActiveUniform(t,i);Lw(a,e.getUniformLocation(t,a.name),this)}}setValue(e,t,n,i){const a=this.map[t];void 0!==a&&a.setValue(e,n,i)}setOptional(e,t,n){const i=t[n];void 0!==i&&this.setValue(e,n,i)}static upload(e,t,n,i){for(let a=0,u=t.length;a!==u;++a){const h=t[a],g=n[h.id];!1!==g.needsUpdate&&h.setValue(e,g.value,i)}}static seqWithValue(e,t){const n=[];for(let i=0,a=e.length;i!==a;++i){const u=e[i];u.id in t&&n.push(u)}return n}}function zy(o,e,t){const n=o.createShader(e);return o.shaderSource(n,t),o.compileShader(n),n}let Rw=0;function Gy(o,e,t){const n=o.getShaderParameter(e,35713),i=o.getShaderInfoLog(e).trim();if(n&&""===i)return"";const a=/ERROR: 0:(\d+)/.exec(i);if(a){const u=parseInt(a[1]);return t.toUpperCase()+"\n\n"+i+"\n\n"+function Nw(o,e){const t=o.split("\n"),n=[],i=Math.max(e-6,0),a=Math.min(e+6,t.length);for(let u=i;u<a;u++){const h=u+1;n.push(`${h===e?">":" "} ${h}: ${t[u]}`)}return n.join("\n")}(o.getShaderSource(e),u)}return i}function hl(o,e){const t=function Fw(o){switch(o){case Co:return["Linear","( value )"];case Ii:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",o),["Linear","( value )"]}}(e);return"vec4 "+o+"( vec4 value ) { return LinearTo"+t[0]+t[1]+"; }"}function Bg(o,e){let t;switch(e){case 1:t="Linear";break;case 2:t="Reinhard";break;case 3:t="OptimizedCineon";break;case 4:t="ACESFilmic";break;case 5:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+o+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}function kc(o){return""!==o}function Lh(o,e){return o.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function sA(o,e){return o.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const fl=/^[ \t]*#include +<([\w\d./]+)>/gm;function Rh(o){return o.replace(fl,jy)}function jy(o,e){const t=gi[e];if(void 0===t)throw new Error("Can not resolve #include <"+e+">");return Rh(t)}const Ug=/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,$y=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function Hg(o){return o.replace($y,oA).replace(Ug,Zy)}function Zy(o,e,t,n){return console.warn("WebGLProgram: #pragma unroll_loop shader syntax is deprecated. Please use #pragma unroll_loop_start syntax instead."),oA(0,e,t,n)}function oA(o,e,t,n){let i="";for(let a=parseInt(e);a<parseInt(t);a++)i+=n.replace(/\[\s*i\s*\]/g,"[ "+a+" ]").replace(/UNROLLED_LOOP_INDEX/g,a);return i}function Bc(o){let e="precision "+o.precision+" float;\nprecision "+o.precision+" int;";return"highp"===o.precision?e+="\n#define HIGH_PRECISION":"mediump"===o.precision?e+="\n#define MEDIUM_PRECISION":"lowp"===o.precision&&(e+="\n#define LOW_PRECISION"),e}function qy(o,e,t,n){const i=o.getContext(),a=t.defines;let u=t.vertexShader,h=t.fragmentShader;const g=function Vc(o){let e="SHADOWMAP_TYPE_BASIC";return 1===o.shadowMapType?e="SHADOWMAP_TYPE_PCF":2===o.shadowMapType?e="SHADOWMAP_TYPE_PCF_SOFT":3===o.shadowMapType&&(e="SHADOWMAP_TYPE_VSM"),e}(t),p=function zg(o){let e="ENVMAP_TYPE_CUBE";if(o.envMap)switch(o.envMapMode){case 301:case 302:e="ENVMAP_TYPE_CUBE";break;case 306:e="ENVMAP_TYPE_CUBE_UV"}return e}(t),C=function Uc(o){let e="ENVMAP_MODE_REFLECTION";return o.envMap&&302===o.envMapMode&&(e="ENVMAP_MODE_REFRACTION"),e}(t),A=function nd(o){let e="ENVMAP_BLENDING_NONE";if(o.envMap)switch(o.combine){case 0:e="ENVMAP_BLENDING_MULTIPLY";break;case 1:e="ENVMAP_BLENDING_MIX";break;case 2:e="ENVMAP_BLENDING_ADD"}return e}(t),v=function Hc(o){const e=o.envMapCubeUVHeight;if(null===e)return null;const t=Math.log2(e)-2,n=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),112)),texelHeight:n,maxMip:t}}(t),b=t.isWebGL2?"":function Wy(o){return[o.extensionDerivatives||o.envMapCubeUVHeight||o.bumpMap||o.tangentSpaceNormalMap||o.clearcoatNormalMap||o.flatShading||"physical"===o.shaderID?"#extension GL_OES_standard_derivatives : enable":"",(o.extensionFragDepth||o.logarithmicDepthBuffer)&&o.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",o.extensionDrawBuffers&&o.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(o.extensionShaderTextureLOD||o.envMap||o.transmission)&&o.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(kc).join("\n")}(t),E=function rA(o){const e=[];for(const t in o){const n=o[t];!1!==n&&e.push("#define "+t+" "+n)}return e.join("\n")}(a),S=i.createProgram();let T,B,V=t.glslVersion?"#version "+t.glslVersion+"\n":"";t.isRawShaderMaterial?(T=[E].filter(kc).join("\n"),T.length>0&&(T+="\n"),B=[b,E].filter(kc).join("\n"),B.length>0&&(B+="\n")):(T=[Bc(t),"#define SHADER_NAME "+t.shaderName,E,t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.supportsVertexTextures?"#define VERTEX_TEXTURES":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+C:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMap&&t.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",t.normalMap&&t.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.displacementMap&&t.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",t.specularColorMap?"#define USE_SPECULARCOLORMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEENCOLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUvs?"#define USE_UV":"",t.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&!1===t.flatShading?"#define USE_MORPHNORMALS":"",t.morphColors&&t.isWebGL2?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+g:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","\tattribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","\tattribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","\tattribute vec4 color;","#elif defined( USE_COLOR )","\tattribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(kc).join("\n"),B=[b,Bc(t),"#define SHADER_NAME "+t.shaderName,E,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+p:"",t.envMap?"#define "+C:"",t.envMap?"#define "+A:"",v?"#define CUBEUV_TEXEL_WIDTH "+v.texelWidth:"",v?"#define CUBEUV_TEXEL_HEIGHT "+v.texelHeight:"",v?"#define CUBEUV_MAX_MIP "+v.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMap&&t.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",t.normalMap&&t.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",t.specularColorMap?"#define USE_SPECULARCOLORMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEENCOLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUvs?"#define USE_UV":"",t.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+g:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",0!==t.toneMapping?"#define TONE_MAPPING":"",0!==t.toneMapping?gi.tonemapping_pars_fragment:"",0!==t.toneMapping?Bg("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",gi.encodings_pars_fragment,hl("linearToOutputTexel",t.outputEncoding),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"","\n"].filter(kc).join("\n")),u=Rh(u),u=Lh(u,t),u=sA(u,t),h=Rh(h),h=Lh(h,t),h=sA(h,t),u=Hg(u),h=Hg(h),t.isWebGL2&&!0!==t.isRawShaderMaterial&&(V="#version 300 es\n",T=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+T,B=["#define varying in","300 es"===t.glslVersion?"":"layout(location = 0) out highp vec4 pc_fragColor;","300 es"===t.glslVersion?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+B);const U=V+B+h,Q=zy(i,35633,V+T+u),ne=zy(i,35632,U);if(i.attachShader(S,Q),i.attachShader(S,ne),void 0!==t.index0AttributeName?i.bindAttribLocation(S,0,t.index0AttributeName):!0===t.morphTargets&&i.bindAttribLocation(S,0,"position"),i.linkProgram(S),o.debug.checkShaderErrors){const ce=i.getProgramInfoLog(S).trim(),Le=i.getShaderInfoLog(Q).trim(),Ve=i.getShaderInfoLog(ne).trim();let yt=!0,Rt=!0;if(!1===i.getProgramParameter(S,35714)){yt=!1;const ze=Gy(i,Q,"vertex"),pt=Gy(i,ne,"fragment");console.error("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(S,35715)+"\n\nProgram Info Log: "+ce+"\n"+ze+"\n"+pt)}else""!==ce?console.warn("THREE.WebGLProgram: Program Info Log:",ce):(""===Le||""===Ve)&&(Rt=!1);Rt&&(this.diagnostics={runnable:yt,programLog:ce,vertexShader:{log:Le,prefix:T},fragmentShader:{log:Ve,prefix:B}})}let Ie,G;return i.deleteShader(Q),i.deleteShader(ne),this.getUniforms=function(){return void 0===Ie&&(Ie=new kg(i,S)),Ie},this.getAttributes=function(){return void 0===G&&(G=function Vg(o,e){const t={},n=o.getProgramParameter(e,35721);for(let i=0;i<n;i++){const a=o.getActiveAttrib(e,i),u=a.name;let h=1;35674===a.type&&(h=2),35675===a.type&&(h=3),35676===a.type&&(h=4),t[u]={type:a.type,location:o.getAttribLocation(e,u),locationSize:h}}return t}(i,S)),G},this.destroy=function(){n.releaseStatesOfProgram(this),i.deleteProgram(S),this.program=void 0},this.name=t.shaderName,this.id=Rw++,this.cacheKey=e,this.usedTimes=1,this.program=S,this.vertexShader=Q,this.fragmentShader=ne,this}let aA=0;class lA{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const n=e.fragmentShader,i=this._getShaderStage(e.vertexShader),a=this._getShaderStage(n),u=this._getShaderCacheForMaterial(e);return!1===u.has(i)&&(u.add(i),i.usedTimes++),!1===u.has(a)&&(u.add(a),a.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const n of t)n.usedTimes--,0===n.usedTimes&&this.shaderCache.delete(n.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;return!1===t.has(e)&&t.set(e,new Set),t.get(e)}_getShaderStage(e){const t=this.shaderCache;if(!1===t.has(e)){const n=new Gg(e);t.set(e,n)}return t.get(e)}}class Gg{constructor(e){this.id=aA++,this.code=e,this.usedTimes=0}}function Wg(o,e,t,n,i,a,u){const h=new O,g=new lA,p=[],C=i.isWebGL2,A=i.logarithmicDepthBuffer,v=i.vertexTextures;let b=i.precision;const E={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};return{getParameters:function S(G,ce,Le,Ve,yt){const Rt=Ve.fog,ze=yt.geometry,De=(G.isMeshStandardMaterial?t:e).get(G.envMap||(G.isMeshStandardMaterial?Ve.environment:null)),je=De&&306===De.mapping?De.image.height:null,Ke=E[G.type];null!==G.precision&&(b=i.getMaxPrecision(G.precision),b!==G.precision&&console.warn("THREE.WebGLProgram.getParameters:",G.precision,"not supported, using",b,"instead."));const He=ze.morphAttributes.position||ze.morphAttributes.normal||ze.morphAttributes.color,nt=void 0!==He?He.length:0;let Et,qt,Jt,qn,Vt=0;if(void 0!==ze.morphAttributes.position&&(Vt=1),void 0!==ze.morphAttributes.normal&&(Vt=2),void 0!==ze.morphAttributes.color&&(Vt=3),Ke){const hi=pa[Ke];Et=hi.vertexShader,qt=hi.fragmentShader}else Et=G.vertexShader,qt=G.fragmentShader,g.update(G),Jt=g.getVertexShaderID(G),qn=g.getFragmentShaderID(G);const Mt=o.getRenderTarget(),Ln=G.clearcoat>0,Vn=G.iridescence>0;return{isWebGL2:C,shaderID:Ke,shaderName:G.type,vertexShader:Et,fragmentShader:qt,defines:G.defines,customVertexShaderID:Jt,customFragmentShaderID:qn,isRawShaderMaterial:!0===G.isRawShaderMaterial,glslVersion:G.glslVersion,precision:b,instancing:!0===yt.isInstancedMesh,instancingColor:!0===yt.isInstancedMesh&&null!==yt.instanceColor,supportsVertexTextures:v,outputEncoding:null===Mt?o.outputEncoding:!0===Mt.isXRRenderTarget?Mt.texture.encoding:Co,map:!!G.map,matcap:!!G.matcap,envMap:!!De,envMapMode:De&&De.mapping,envMapCubeUVHeight:je,lightMap:!!G.lightMap,aoMap:!!G.aoMap,emissiveMap:!!G.emissiveMap,bumpMap:!!G.bumpMap,normalMap:!!G.normalMap,objectSpaceNormalMap:1===G.normalMapType,tangentSpaceNormalMap:0===G.normalMapType,decodeVideoTexture:!!G.map&&!0===G.map.isVideoTexture&&G.map.encoding===Ii,clearcoat:Ln,clearcoatMap:Ln&&!!G.clearcoatMap,clearcoatRoughnessMap:Ln&&!!G.clearcoatRoughnessMap,clearcoatNormalMap:Ln&&!!G.clearcoatNormalMap,iridescence:Vn,iridescenceMap:Vn&&!!G.iridescenceMap,iridescenceThicknessMap:Vn&&!!G.iridescenceThicknessMap,displacementMap:!!G.displacementMap,roughnessMap:!!G.roughnessMap,metalnessMap:!!G.metalnessMap,specularMap:!!G.specularMap,specularIntensityMap:!!G.specularIntensityMap,specularColorMap:!!G.specularColorMap,opaque:!1===G.transparent&&1===G.blending,alphaMap:!!G.alphaMap,alphaTest:G.alphaTest>0,gradientMap:!!G.gradientMap,sheen:G.sheen>0,sheenColorMap:!!G.sheenColorMap,sheenRoughnessMap:!!G.sheenRoughnessMap,transmission:G.transmission>0,transmissionMap:!!G.transmissionMap,thicknessMap:!!G.thicknessMap,combine:G.combine,vertexTangents:!!G.normalMap&&!!ze.attributes.tangent,vertexColors:G.vertexColors,vertexAlphas:!0===G.vertexColors&&!!ze.attributes.color&&4===ze.attributes.color.itemSize,vertexUvs:!!(G.map||G.bumpMap||G.normalMap||G.specularMap||G.alphaMap||G.emissiveMap||G.roughnessMap||G.metalnessMap||G.clearcoatMap||G.clearcoatRoughnessMap||G.clearcoatNormalMap||G.iridescenceMap||G.iridescenceThicknessMap||G.displacementMap||G.transmissionMap||G.thicknessMap||G.specularIntensityMap||G.specularColorMap||G.sheenColorMap||G.sheenRoughnessMap),uvsVertexOnly:!(G.map||G.bumpMap||G.normalMap||G.specularMap||G.alphaMap||G.emissiveMap||G.roughnessMap||G.metalnessMap||G.clearcoatNormalMap||G.iridescenceMap||G.iridescenceThicknessMap||G.transmission>0||G.transmissionMap||G.thicknessMap||G.specularIntensityMap||G.specularColorMap||G.sheen>0||G.sheenColorMap||G.sheenRoughnessMap||!G.displacementMap),fog:!!Rt,useFog:!0===G.fog,fogExp2:Rt&&Rt.isFogExp2,flatShading:!!G.flatShading,sizeAttenuation:G.sizeAttenuation,logarithmicDepthBuffer:A,skinning:!0===yt.isSkinnedMesh,morphTargets:void 0!==ze.morphAttributes.position,morphNormals:void 0!==ze.morphAttributes.normal,morphColors:void 0!==ze.morphAttributes.color,morphTargetsCount:nt,morphTextureStride:Vt,numDirLights:ce.directional.length,numPointLights:ce.point.length,numSpotLights:ce.spot.length,numRectAreaLights:ce.rectArea.length,numHemiLights:ce.hemi.length,numDirLightShadows:ce.directionalShadowMap.length,numPointLightShadows:ce.pointShadowMap.length,numSpotLightShadows:ce.spotShadowMap.length,numClippingPlanes:u.numPlanes,numClipIntersection:u.numIntersection,dithering:G.dithering,shadowMapEnabled:o.shadowMap.enabled&&Le.length>0,shadowMapType:o.shadowMap.type,toneMapping:G.toneMapped?o.toneMapping:0,physicallyCorrectLights:o.physicallyCorrectLights,premultipliedAlpha:G.premultipliedAlpha,doubleSided:2===G.side,flipSided:1===G.side,useDepthPacking:!!G.depthPacking,depthPacking:G.depthPacking||0,index0AttributeName:G.index0AttributeName,extensionDerivatives:G.extensions&&G.extensions.derivatives,extensionFragDepth:G.extensions&&G.extensions.fragDepth,extensionDrawBuffers:G.extensions&&G.extensions.drawBuffers,extensionShaderTextureLOD:G.extensions&&G.extensions.shaderTextureLOD,rendererExtensionFragDepth:C||n.has("EXT_frag_depth"),rendererExtensionDrawBuffers:C||n.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:C||n.has("EXT_shader_texture_lod"),customProgramCacheKey:G.customProgramCacheKey()}},getProgramCacheKey:function T(G){const ce=[];if(G.shaderID?ce.push(G.shaderID):(ce.push(G.customVertexShaderID),ce.push(G.customFragmentShaderID)),void 0!==G.defines)for(const Le in G.defines)ce.push(Le),ce.push(G.defines[Le]);return!1===G.isRawShaderMaterial&&(function B(G,ce){G.push(ce.precision),G.push(ce.outputEncoding),G.push(ce.envMapMode),G.push(ce.envMapCubeUVHeight),G.push(ce.combine),G.push(ce.vertexUvs),G.push(ce.fogExp2),G.push(ce.sizeAttenuation),G.push(ce.morphTargetsCount),G.push(ce.morphAttributeCount),G.push(ce.numDirLights),G.push(ce.numPointLights),G.push(ce.numSpotLights),G.push(ce.numHemiLights),G.push(ce.numRectAreaLights),G.push(ce.numDirLightShadows),G.push(ce.numPointLightShadows),G.push(ce.numSpotLightShadows),G.push(ce.shadowMapType),G.push(ce.toneMapping),G.push(ce.numClippingPlanes),G.push(ce.numClipIntersection),G.push(ce.depthPacking)}(ce,G),function V(G,ce){h.disableAll(),ce.isWebGL2&&h.enable(0),ce.supportsVertexTextures&&h.enable(1),ce.instancing&&h.enable(2),ce.instancingColor&&h.enable(3),ce.map&&h.enable(4),ce.matcap&&h.enable(5),ce.envMap&&h.enable(6),ce.lightMap&&h.enable(7),ce.aoMap&&h.enable(8),ce.emissiveMap&&h.enable(9),ce.bumpMap&&h.enable(10),ce.normalMap&&h.enable(11),ce.objectSpaceNormalMap&&h.enable(12),ce.tangentSpaceNormalMap&&h.enable(13),ce.clearcoat&&h.enable(14),ce.clearcoatMap&&h.enable(15),ce.clearcoatRoughnessMap&&h.enable(16),ce.clearcoatNormalMap&&h.enable(17),ce.iridescence&&h.enable(18),ce.iridescenceMap&&h.enable(19),ce.iridescenceThicknessMap&&h.enable(20),ce.displacementMap&&h.enable(21),ce.specularMap&&h.enable(22),ce.roughnessMap&&h.enable(23),ce.metalnessMap&&h.enable(24),ce.gradientMap&&h.enable(25),ce.alphaMap&&h.enable(26),ce.alphaTest&&h.enable(27),ce.vertexColors&&h.enable(28),ce.vertexAlphas&&h.enable(29),ce.vertexUvs&&h.enable(30),ce.vertexTangents&&h.enable(31),ce.uvsVertexOnly&&h.enable(32),ce.fog&&h.enable(33),G.push(h.mask),h.disableAll(),ce.useFog&&h.enable(0),ce.flatShading&&h.enable(1),ce.logarithmicDepthBuffer&&h.enable(2),ce.skinning&&h.enable(3),ce.morphTargets&&h.enable(4),ce.morphNormals&&h.enable(5),ce.morphColors&&h.enable(6),ce.premultipliedAlpha&&h.enable(7),ce.shadowMapEnabled&&h.enable(8),ce.physicallyCorrectLights&&h.enable(9),ce.doubleSided&&h.enable(10),ce.flipSided&&h.enable(11),ce.useDepthPacking&&h.enable(12),ce.dithering&&h.enable(13),ce.specularIntensityMap&&h.enable(14),ce.specularColorMap&&h.enable(15),ce.transmission&&h.enable(16),ce.transmissionMap&&h.enable(17),ce.thicknessMap&&h.enable(18),ce.sheen&&h.enable(19),ce.sheenColorMap&&h.enable(20),ce.sheenRoughnessMap&&h.enable(21),ce.decodeVideoTexture&&h.enable(22),ce.opaque&&h.enable(23),G.push(h.mask)}(ce,G),ce.push(o.outputEncoding)),ce.push(G.customProgramCacheKey),ce.join()},getUniforms:function $(G){const ce=E[G.type];let Le;return Le=ce?gh.clone(pa[ce].uniforms):G.uniforms,Le},acquireProgram:function U(G,ce){let Le;for(let Ve=0,yt=p.length;Ve<yt;Ve++){const Rt=p[Ve];if(Rt.cacheKey===ce){Le=Rt,++Le.usedTimes;break}}return void 0===Le&&(Le=new qy(o,ce,G,a),p.push(Le)),Le},releaseProgram:function Q(G){if(0==--G.usedTimes){const ce=p.indexOf(G);p[ce]=p[p.length-1],p.pop(),G.destroy()}},releaseShaderCache:function ne(G){g.remove(G)},programs:p,dispose:function Ie(){g.dispose()}}}function cA(){let o=new WeakMap;return{get:function e(a){let u=o.get(a);return void 0===u&&(u={},o.set(a,u)),u},remove:function t(a){o.delete(a)},update:function n(a,u,h){o.get(a)[u]=h},dispose:function i(){o=new WeakMap}}}function Nh(o,e){return o.groupOrder!==e.groupOrder?o.groupOrder-e.groupOrder:o.renderOrder!==e.renderOrder?o.renderOrder-e.renderOrder:o.material.id!==e.material.id?o.material.id-e.material.id:o.z!==e.z?o.z-e.z:o.id-e.id}function uA(o,e){return o.groupOrder!==e.groupOrder?o.groupOrder-e.groupOrder:o.renderOrder!==e.renderOrder?o.renderOrder-e.renderOrder:o.z!==e.z?e.z-o.z:o.id-e.id}function jg(){const o=[];let e=0;const t=[],n=[],i=[];function u(A,v,b,E,S,T){let B=o[e];return void 0===B?(B={id:A.id,object:A,geometry:v,material:b,groupOrder:E,renderOrder:A.renderOrder,z:S,group:T},o[e]=B):(B.id=A.id,B.object=A,B.geometry=v,B.material=b,B.groupOrder=E,B.renderOrder=A.renderOrder,B.z=S,B.group=T),e++,B}return{opaque:t,transmissive:n,transparent:i,init:function a(){e=0,t.length=0,n.length=0,i.length=0},push:function h(A,v,b,E,S,T){const B=u(A,v,b,E,S,T);b.transmission>0?n.push(B):!0===b.transparent?i.push(B):t.push(B)},unshift:function g(A,v,b,E,S,T){const B=u(A,v,b,E,S,T);b.transmission>0?n.unshift(B):!0===b.transparent?i.unshift(B):t.unshift(B)},finish:function C(){for(let A=e,v=o.length;A<v;A++){const b=o[A];if(null===b.id)break;b.id=null,b.object=null,b.geometry=null,b.material=null,b.group=null}},sort:function p(A,v){t.length>1&&t.sort(A||Nh),n.length>1&&n.sort(v||uA),i.length>1&&i.sort(v||uA)}}}function kw(){let o=new WeakMap;return{get:function e(n,i){let a;return!1===o.has(n)?(a=new jg,o.set(n,[a])):i>=o.get(n).length?(a=new jg,o.get(n).push(a)):a=o.get(n)[i],a},dispose:function t(){o=new WeakMap}}}function dA(){const o={};return{get:function(e){if(void 0!==o[e.id])return o[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new se,color:new $t};break;case"SpotLight":t={position:new se,direction:new se,color:new $t,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new se,color:new $t,distance:0,decay:0};break;case"HemisphereLight":t={direction:new se,skyColor:new $t,groundColor:new $t};break;case"RectAreaLight":t={color:new $t,position:new se,halfWidth:new se,halfHeight:new se}}return o[e.id]=t,t}}}let Yy=0;function fA(o,e){return(e.castShadow?1:0)-(o.castShadow?1:0)}function Ky(o,e){const t=new dA,n=function hA(){const o={};return{get:function(e){if(void 0!==o[e.id])return o[e.id];let t;switch(e.type){case"DirectionalLight":case"SpotLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new vt};break;case"PointLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new vt,shadowCameraNear:1,shadowCameraFar:1e3}}return o[e.id]=t,t}}}(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadow:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]};for(let C=0;C<9;C++)i.probe.push(new se);const a=new se,u=new $n,h=new $n;return{setup:function g(C,A){let v=0,b=0,E=0;for(let ce=0;ce<9;ce++)i.probe[ce].set(0,0,0);let S=0,T=0,B=0,V=0,$=0,U=0,Q=0,ne=0;C.sort(fA);const Ie=!0!==A?Math.PI:1;for(let ce=0,Le=C.length;ce<Le;ce++){const Ve=C[ce],yt=Ve.color,Rt=Ve.intensity,ze=Ve.distance,pt=Ve.shadow&&Ve.shadow.map?Ve.shadow.map.texture:null;if(Ve.isAmbientLight)v+=yt.r*Rt*Ie,b+=yt.g*Rt*Ie,E+=yt.b*Rt*Ie;else if(Ve.isLightProbe)for(let De=0;De<9;De++)i.probe[De].addScaledVector(Ve.sh.coefficients[De],Rt);else if(Ve.isDirectionalLight){const De=t.get(Ve);if(De.color.copy(Ve.color).multiplyScalar(Ve.intensity*Ie),Ve.castShadow){const je=Ve.shadow,Ke=n.get(Ve);Ke.shadowBias=je.bias,Ke.shadowNormalBias=je.normalBias,Ke.shadowRadius=je.radius,Ke.shadowMapSize=je.mapSize,i.directionalShadow[S]=Ke,i.directionalShadowMap[S]=pt,i.directionalShadowMatrix[S]=Ve.shadow.matrix,U++}i.directional[S]=De,S++}else if(Ve.isSpotLight){const De=t.get(Ve);if(De.position.setFromMatrixPosition(Ve.matrixWorld),De.color.copy(yt).multiplyScalar(Rt*Ie),De.distance=ze,De.coneCos=Math.cos(Ve.angle),De.penumbraCos=Math.cos(Ve.angle*(1-Ve.penumbra)),De.decay=Ve.decay,Ve.castShadow){const je=Ve.shadow,Ke=n.get(Ve);Ke.shadowBias=je.bias,Ke.shadowNormalBias=je.normalBias,Ke.shadowRadius=je.radius,Ke.shadowMapSize=je.mapSize,i.spotShadow[B]=Ke,i.spotShadowMap[B]=pt,i.spotShadowMatrix[B]=Ve.shadow.matrix,ne++}i.spot[B]=De,B++}else if(Ve.isRectAreaLight){const De=t.get(Ve);De.color.copy(yt).multiplyScalar(Rt),De.halfWidth.set(.5*Ve.width,0,0),De.halfHeight.set(0,.5*Ve.height,0),i.rectArea[V]=De,V++}else if(Ve.isPointLight){const De=t.get(Ve);if(De.color.copy(Ve.color).multiplyScalar(Ve.intensity*Ie),De.distance=Ve.distance,De.decay=Ve.decay,Ve.castShadow){const je=Ve.shadow,Ke=n.get(Ve);Ke.shadowBias=je.bias,Ke.shadowNormalBias=je.normalBias,Ke.shadowRadius=je.radius,Ke.shadowMapSize=je.mapSize,Ke.shadowCameraNear=je.camera.near,Ke.shadowCameraFar=je.camera.far,i.pointShadow[T]=Ke,i.pointShadowMap[T]=pt,i.pointShadowMatrix[T]=Ve.shadow.matrix,Q++}i.point[T]=De,T++}else if(Ve.isHemisphereLight){const De=t.get(Ve);De.skyColor.copy(Ve.color).multiplyScalar(Rt*Ie),De.groundColor.copy(Ve.groundColor).multiplyScalar(Rt*Ie),i.hemi[$]=De,$++}}V>0&&(e.isWebGL2||!0===o.has("OES_texture_float_linear")?(i.rectAreaLTC1=nn.LTC_FLOAT_1,i.rectAreaLTC2=nn.LTC_FLOAT_2):!0===o.has("OES_texture_half_float_linear")?(i.rectAreaLTC1=nn.LTC_HALF_1,i.rectAreaLTC2=nn.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),i.ambient[0]=v,i.ambient[1]=b,i.ambient[2]=E;const G=i.hash;(G.directionalLength!==S||G.pointLength!==T||G.spotLength!==B||G.rectAreaLength!==V||G.hemiLength!==$||G.numDirectionalShadows!==U||G.numPointShadows!==Q||G.numSpotShadows!==ne)&&(i.directional.length=S,i.spot.length=B,i.rectArea.length=V,i.point.length=T,i.hemi.length=$,i.directionalShadow.length=U,i.directionalShadowMap.length=U,i.pointShadow.length=Q,i.pointShadowMap.length=Q,i.spotShadow.length=ne,i.spotShadowMap.length=ne,i.directionalShadowMatrix.length=U,i.pointShadowMatrix.length=Q,i.spotShadowMatrix.length=ne,G.directionalLength=S,G.pointLength=T,G.spotLength=B,G.rectAreaLength=V,G.hemiLength=$,G.numDirectionalShadows=U,G.numPointShadows=Q,G.numSpotShadows=ne,i.version=Yy++)},setupView:function p(C,A){let v=0,b=0,E=0,S=0,T=0;const B=A.matrixWorldInverse;for(let V=0,$=C.length;V<$;V++){const U=C[V];if(U.isDirectionalLight){const Q=i.directional[v];Q.direction.setFromMatrixPosition(U.matrixWorld),a.setFromMatrixPosition(U.target.matrixWorld),Q.direction.sub(a),Q.direction.transformDirection(B),v++}else if(U.isSpotLight){const Q=i.spot[E];Q.position.setFromMatrixPosition(U.matrixWorld),Q.position.applyMatrix4(B),Q.direction.setFromMatrixPosition(U.matrixWorld),a.setFromMatrixPosition(U.target.matrixWorld),Q.direction.sub(a),Q.direction.transformDirection(B),E++}else if(U.isRectAreaLight){const Q=i.rectArea[S];Q.position.setFromMatrixPosition(U.matrixWorld),Q.position.applyMatrix4(B),h.identity(),u.copy(U.matrixWorld),u.premultiply(B),h.extractRotation(u),Q.halfWidth.set(.5*U.width,0,0),Q.halfHeight.set(0,.5*U.height,0),Q.halfWidth.applyMatrix4(h),Q.halfHeight.applyMatrix4(h),S++}else if(U.isPointLight){const Q=i.point[b];Q.position.setFromMatrixPosition(U.matrixWorld),Q.position.applyMatrix4(B),b++}else if(U.isHemisphereLight){const Q=i.hemi[T];Q.direction.setFromMatrixPosition(U.matrixWorld),Q.direction.transformDirection(B),T++}}},state:i}}function gA(o,e){const t=new Ky(o,e),n=[],i=[];return{init:function a(){n.length=0,i.length=0},state:{lightsArray:n,shadowsArray:i,lights:t},setupLights:function g(A){t.setup(n,A)},setupLightsView:function p(A){t.setupView(n,A)},pushLight:function u(A){n.push(A)},pushShadow:function h(A){i.push(A)}}}function uo(o,e){let t=new WeakMap;return{get:function n(a,u=0){let h;return!1===t.has(a)?(h=new gA(o,e),t.set(a,[h])):u>=t.get(a).length?(h=new gA(o,e),t.get(a).push(h)):h=t.get(a)[u],h},dispose:function i(){t=new WeakMap}}}class pA extends ha{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=3200,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class mA extends ha{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.referencePosition=new se,this.nearDistance=1,this.farDistance=1e3,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}function CA(o,e,t){let n=new mh;const i=new vt,a=new vt,u=new Mi,h=new pA({depthPacking:3201}),g=new mA,p={},C=t.maxTextureSize,A={0:1,1:0,2:2},v=new ks({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new vt},radius:{value:4}},vertexShader:"void main() {\n\tgl_Position = vec4( position, 1.0 );\n}",fragmentShader:"uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include <packing>\nvoid main() {\n\tconst float samples = float( VSM_SAMPLES );\n\tfloat mean = 0.0;\n\tfloat squared_mean = 0.0;\n\tfloat uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );\n\tfloat uvStart = samples <= 1.0 ? 0.0 : - 1.0;\n\tfor ( float i = 0.0; i < samples; i ++ ) {\n\t\tfloat uvOffset = uvStart + i * uvStride;\n\t\t#ifdef HORIZONTAL_PASS\n\t\t\tvec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );\n\t\t\tmean += distribution.x;\n\t\t\tsquared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n\t\t#else\n\t\t\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );\n\t\t\tmean += depth;\n\t\t\tsquared_mean += depth * depth;\n\t\t#endif\n\t}\n\tmean = mean / samples;\n\tsquared_mean = squared_mean / samples;\n\tfloat std_dev = sqrt( squared_mean - mean * mean );\n\tgl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}"}),b=v.clone();b.defines.HORIZONTAL_PASS=1;const E=new ii;E.setAttribute("position",new Hr(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const S=new Pr(E,v),T=this;function B(U,Q){const ne=e.update(S);v.defines.VSM_SAMPLES!==U.blurSamples&&(v.defines.VSM_SAMPLES=U.blurSamples,b.defines.VSM_SAMPLES=U.blurSamples,v.needsUpdate=!0,b.needsUpdate=!0),null===U.mapPass&&(U.mapPass=new Is(i.x,i.y)),v.uniforms.shadow_pass.value=U.map.texture,v.uniforms.resolution.value=U.mapSize,v.uniforms.radius.value=U.radius,o.setRenderTarget(U.mapPass),o.clear(),o.renderBufferDirect(Q,null,ne,v,S,null),b.uniforms.shadow_pass.value=U.mapPass.texture,b.uniforms.resolution.value=U.mapSize,b.uniforms.radius.value=U.radius,o.setRenderTarget(U.map),o.clear(),o.renderBufferDirect(Q,null,ne,b,S,null)}function V(U,Q,ne,Ie,G,ce){let Le=null;const Ve=!0===ne.isPointLight?U.customDistanceMaterial:U.customDepthMaterial;if(Le=void 0!==Ve?Ve:!0===ne.isPointLight?g:h,o.localClippingEnabled&&!0===Q.clipShadows&&Array.isArray(Q.clippingPlanes)&&0!==Q.clippingPlanes.length||Q.displacementMap&&0!==Q.displacementScale||Q.alphaMap&&Q.alphaTest>0){const yt=Le.uuid,Rt=Q.uuid;let ze=p[yt];void 0===ze&&(ze={},p[yt]=ze);let pt=ze[Rt];void 0===pt&&(pt=Le.clone(),ze[Rt]=pt),Le=pt}return Le.visible=Q.visible,Le.wireframe=Q.wireframe,Le.side=3===ce?null!==Q.shadowSide?Q.shadowSide:Q.side:null!==Q.shadowSide?Q.shadowSide:A[Q.side],Le.alphaMap=Q.alphaMap,Le.alphaTest=Q.alphaTest,Le.clipShadows=Q.clipShadows,Le.clippingPlanes=Q.clippingPlanes,Le.clipIntersection=Q.clipIntersection,Le.displacementMap=Q.displacementMap,Le.displacementScale=Q.displacementScale,Le.displacementBias=Q.displacementBias,Le.wireframeLinewidth=Q.wireframeLinewidth,Le.linewidth=Q.linewidth,!0===ne.isPointLight&&!0===Le.isMeshDistanceMaterial&&(Le.referencePosition.setFromMatrixPosition(ne.matrixWorld),Le.nearDistance=Ie,Le.farDistance=G),Le}function $(U,Q,ne,Ie,G){if(!1===U.visible)return;if(U.layers.test(Q.layers)&&(U.isMesh||U.isLine||U.isPoints)&&(U.castShadow||U.receiveShadow&&3===G)&&(!U.frustumCulled||n.intersectsObject(U))){U.modelViewMatrix.multiplyMatrices(ne.matrixWorldInverse,U.matrixWorld);const Ve=e.update(U),yt=U.material;if(Array.isArray(yt)){const Rt=Ve.groups;for(let ze=0,pt=Rt.length;ze<pt;ze++){const De=Rt[ze],je=yt[De.materialIndex];if(je&&je.visible){const Ke=V(U,je,Ie,ne.near,ne.far,G);o.renderBufferDirect(ne,null,Ve,Ke,U,De)}}}else if(yt.visible){const Rt=V(U,yt,Ie,ne.near,ne.far,G);o.renderBufferDirect(ne,null,Ve,Rt,U,null)}}const Le=U.children;for(let Ve=0,yt=Le.length;Ve<yt;Ve++)$(Le[Ve],Q,ne,Ie,G)}this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=1,this.render=function(U,Q,ne){if(!1===T.enabled||!1===T.autoUpdate&&!1===T.needsUpdate||0===U.length)return;const Ie=o.getRenderTarget(),G=o.getActiveCubeFace(),ce=o.getActiveMipmapLevel(),Le=o.state;Le.setBlending(0),Le.buffers.color.setClear(1,1,1,1),Le.buffers.depth.setTest(!0),Le.setScissorTest(!1);for(let Ve=0,yt=U.length;Ve<yt;Ve++){const Rt=U[Ve],ze=Rt.shadow;if(void 0===ze){console.warn("THREE.WebGLShadowMap:",Rt,"has no shadow.");continue}if(!1===ze.autoUpdate&&!1===ze.needsUpdate)continue;i.copy(ze.mapSize);const pt=ze.getFrameExtents();i.multiply(pt),a.copy(ze.mapSize),(i.x>C||i.y>C)&&(i.x>C&&(a.x=Math.floor(C/pt.x),i.x=a.x*pt.x,ze.mapSize.x=a.x),i.y>C&&(a.y=Math.floor(C/pt.y),i.y=a.y*pt.y,ze.mapSize.y=a.y)),null===ze.map&&(ze.map=new Is(i.x,i.y,3!==this.type?{minFilter:Dn,magFilter:Dn}:{}),ze.map.texture.name=Rt.name+".shadowMap",ze.camera.updateProjectionMatrix()),o.setRenderTarget(ze.map),o.clear();const De=ze.getViewportCount();for(let je=0;je<De;je++){const Ke=ze.getViewport(je);u.set(a.x*Ke.x,a.y*Ke.y,a.x*Ke.z,a.y*Ke.w),Le.viewport(u),ze.updateMatrices(Rt,je),n=ze.getFrustum(),$(Q,ne,ze.camera,Rt,this.type)}!0!==ze.isPointLightShadow&&3===this.type&&B(ze,ne),ze.needsUpdate=!1}T.needsUpdate=!1,o.setRenderTarget(Ie,G,ce)}}function Uw(o,e,t){const n=t.isWebGL2,h=new function i(){let Ue=!1;const xn=new Mi;let It=null;const In=new Mi(0,0,0,0);return{setMask:function(pn){It!==pn&&!Ue&&(o.colorMask(pn,pn,pn,pn),It=pn)},setLocked:function(pn){Ue=pn},setClear:function(pn,ki,Ts,Wr,Lu){!0===Lu&&(pn*=Wr,ki*=Wr,Ts*=Wr),xn.set(pn,ki,Ts,Wr),!1===In.equals(xn)&&(o.clearColor(pn,ki,Ts,Wr),In.copy(xn))},reset:function(){Ue=!1,It=null,In.set(-1,0,0,0)}}},g=new function a(){let Ue=!1,xn=null,It=null,In=null;return{setTest:function(pn){pn?Bn(2929):Ln(2929)},setMask:function(pn){xn!==pn&&!Ue&&(o.depthMask(pn),xn=pn)},setFunc:function(pn){if(It!==pn){if(pn)switch(pn){case 0:o.depthFunc(512);break;case 1:o.depthFunc(519);break;case 2:o.depthFunc(513);break;case 3:default:o.depthFunc(515);break;case 4:o.depthFunc(514);break;case 5:o.depthFunc(518);break;case 6:o.depthFunc(516);break;case 7:o.depthFunc(517)}else o.depthFunc(515);It=pn}},setLocked:function(pn){Ue=pn},setClear:function(pn){In!==pn&&(o.clearDepth(pn),In=pn)},reset:function(){Ue=!1,xn=null,It=null,In=null}}},p=new function u(){let Ue=!1,xn=null,It=null,In=null,pn=null,ki=null,Ts=null,Wr=null,Lu=null;return{setTest:function(Lr){Ue||(Lr?Bn(2960):Ln(2960))},setMask:function(Lr){xn!==Lr&&!Ue&&(o.stencilMask(Lr),xn=Lr)},setFunc:function(Lr,gc,Sa){(It!==Lr||In!==gc||pn!==Sa)&&(o.stencilFunc(Lr,gc,Sa),It=Lr,In=gc,pn=Sa)},setOp:function(Lr,gc,Sa){(ki!==Lr||Ts!==gc||Wr!==Sa)&&(o.stencilOp(Lr,gc,Sa),ki=Lr,Ts=gc,Wr=Sa)},setLocked:function(Lr){Ue=Lr},setClear:function(Lr){Lu!==Lr&&(o.clearStencil(Lr),Lu=Lr)},reset:function(){Ue=!1,xn=null,It=null,In=null,pn=null,ki=null,Ts=null,Wr=null,Lu=null}}},C=new WeakMap,A=new WeakMap;let v={},b={},E=new WeakMap,S=[],T=null,B=!1,V=null,$=null,U=null,Q=null,ne=null,Ie=null,G=null,ce=!1,Le=null,Ve=null,yt=null,Rt=null,ze=null;const pt=o.getParameter(35661);let De=!1,je=0;const Ke=o.getParameter(7938);-1!==Ke.indexOf("WebGL")?(je=parseFloat(/^WebGL (\d)/.exec(Ke)[1]),De=je>=1):-1!==Ke.indexOf("OpenGL ES")&&(je=parseFloat(/^OpenGL ES (\d)/.exec(Ke)[1]),De=je>=2);let He=null,nt={};const Vt=o.getParameter(3088),Et=o.getParameter(2978),qt=(new Mi).fromArray(Vt),Jt=(new Mi).fromArray(Et);function qn(Ue,xn,It){const In=new Uint8Array(4),pn=o.createTexture();o.bindTexture(Ue,pn),o.texParameteri(Ue,10241,9728),o.texParameteri(Ue,10240,9728);for(let ki=0;ki<It;ki++)o.texImage2D(xn+ki,0,6408,1,1,0,6408,5121,In);return pn}const Mt={};function Bn(Ue){!0!==v[Ue]&&(o.enable(Ue),v[Ue]=!0)}function Ln(Ue){!1!==v[Ue]&&(o.disable(Ue),v[Ue]=!1)}Mt[3553]=qn(3553,3553,1),Mt[34067]=qn(34067,34069,6),h.setClear(0,0,0,1),g.setClear(1),p.setClear(0),Bn(2929),g.setFunc(3),cn(!1),li(1),Bn(2884),Xt(0);const Ot={100:32774,101:32778,102:32779};if(n)Ot[103]=32775,Ot[104]=32776;else{const Ue=e.get("EXT_blend_minmax");null!==Ue&&(Ot[103]=Ue.MIN_EXT,Ot[104]=Ue.MAX_EXT)}const St={200:0,201:1,202:768,204:770,210:776,208:774,206:772,203:769,205:771,209:775,207:773};function Xt(Ue,xn,It,In,pn,ki,Ts,Wr){if(0!==Ue){if(!1===B&&(Bn(3042),B=!0),5===Ue)pn=pn||xn,ki=ki||It,Ts=Ts||In,(xn!==$||pn!==ne)&&(o.blendEquationSeparate(Ot[xn],Ot[pn]),$=xn,ne=pn),(It!==U||In!==Q||ki!==Ie||Ts!==G)&&(o.blendFuncSeparate(St[It],St[In],St[ki],St[Ts]),U=It,Q=In,Ie=ki,G=Ts),V=Ue,ce=null;else if(Ue!==V||Wr!==ce){if((100!==$||100!==ne)&&(o.blendEquation(32774),$=100,ne=100),Wr)switch(Ue){case 1:o.blendFuncSeparate(1,771,1,771);break;case 2:o.blendFunc(1,1);break;case 3:o.blendFuncSeparate(0,769,0,1);break;case 4:o.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",Ue)}else switch(Ue){case 1:o.blendFuncSeparate(770,771,1,771);break;case 2:o.blendFunc(770,1);break;case 3:o.blendFuncSeparate(0,769,0,1);break;case 4:o.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",Ue)}U=null,Q=null,Ie=null,G=null,V=Ue,ce=Wr}}else!0===B&&(Ln(3042),B=!1)}function cn(Ue){Le!==Ue&&(o.frontFace(Ue?2304:2305),Le=Ue)}function li(Ue){0!==Ue?(Bn(2884),Ue!==Ve&&o.cullFace(1===Ue?1029:2===Ue?1028:1032)):Ln(2884),Ve=Ue}function Wn(Ue,xn,It){Ue?(Bn(32823),(Rt!==xn||ze!==It)&&(o.polygonOffset(xn,It),Rt=xn,ze=It)):Ln(32823)}function tr(Ue){void 0===Ue&&(Ue=33984+pt-1),He!==Ue&&(o.activeTexture(Ue),He=Ue)}return{buffers:{color:h,depth:g,stencil:p},enable:Bn,disable:Ln,bindFramebuffer:function Vn(Ue,xn){return b[Ue]!==xn&&(o.bindFramebuffer(Ue,xn),b[Ue]=xn,n&&(36009===Ue&&(b[36160]=xn),36160===Ue&&(b[36009]=xn)),!0)},drawBuffers:function rn(Ue,xn){let It=S,In=!1;if(Ue)if(It=E.get(xn),void 0===It&&(It=[],E.set(xn,It)),Ue.isWebGLMultipleRenderTargets){const pn=Ue.texture;if(It.length!==pn.length||36064!==It[0]){for(let ki=0,Ts=pn.length;ki<Ts;ki++)It[ki]=36064+ki;It.length=pn.length,In=!0}}else 36064!==It[0]&&(It[0]=36064,In=!0);else 1029!==It[0]&&(It[0]=1029,In=!0);In&&(t.isWebGL2?o.drawBuffers(It):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(It))},useProgram:function hi(Ue){return T!==Ue&&(o.useProgram(Ue),T=Ue,!0)},setBlending:Xt,setMaterial:function Pn(Ue,xn){2===Ue.side?Ln(2884):Bn(2884);let It=1===Ue.side;xn&&(It=!It),cn(It),1===Ue.blending&&!1===Ue.transparent?Xt(0):Xt(Ue.blending,Ue.blendEquation,Ue.blendSrc,Ue.blendDst,Ue.blendEquationAlpha,Ue.blendSrcAlpha,Ue.blendDstAlpha,Ue.premultipliedAlpha),g.setFunc(Ue.depthFunc),g.setTest(Ue.depthTest),g.setMask(Ue.depthWrite),h.setMask(Ue.colorWrite);const In=Ue.stencilWrite;p.setTest(In),In&&(p.setMask(Ue.stencilWriteMask),p.setFunc(Ue.stencilFunc,Ue.stencilRef,Ue.stencilFuncMask),p.setOp(Ue.stencilFail,Ue.stencilZFail,Ue.stencilZPass)),Wn(Ue.polygonOffset,Ue.polygonOffsetFactor,Ue.polygonOffsetUnits),!0===Ue.alphaToCoverage?Bn(32926):Ln(32926)},setFlipSided:cn,setCullFace:li,setLineWidth:function Kn(Ue){Ue!==yt&&(De&&o.lineWidth(Ue),yt=Ue)},setPolygonOffset:Wn,setScissorTest:function mr(Ue){Ue?Bn(3089):Ln(3089)},activeTexture:tr,bindTexture:function Ce(Ue,xn){null===He&&tr();let It=nt[He];void 0===It&&(It={type:void 0,texture:void 0},nt[He]=It),(It.type!==Ue||It.texture!==xn)&&(o.bindTexture(Ue,xn||Mt[Ue]),It.type=Ue,It.texture=xn)},unbindTexture:function ie(){const Ue=nt[He];void 0!==Ue&&void 0!==Ue.type&&(o.bindTexture(Ue.type,null),Ue.type=void 0,Ue.texture=void 0)},compressedTexImage2D:function ct(){try{o.compressedTexImage2D.apply(o,arguments)}catch(Ue){console.error("THREE.WebGLState:",Ue)}},texImage2D:function Nn(){try{o.texImage2D.apply(o,arguments)}catch(Ue){console.error("THREE.WebGLState:",Ue)}},texImage3D:function bn(){try{o.texImage3D.apply(o,arguments)}catch(Ue){console.error("THREE.WebGLState:",Ue)}},updateUBOMapping:function Ci(Ue,xn){let It=A.get(xn);void 0===It&&(It=new WeakMap,A.set(xn,It));let In=It.get(Ue);void 0===In&&(In=o.getUniformBlockIndex(xn,Ue.name),It.set(Ue,In))},uniformBlockBinding:function ji(Ue,xn){const In=A.get(xn).get(Ue);C.get(Ue)!==In&&(o.uniformBlockBinding(xn,In,Ue.__bindingPointIndex),C.set(Ue,In))},texStorage2D:function ni(){try{o.texStorage2D.apply(o,arguments)}catch(Ue){console.error("THREE.WebGLState:",Ue)}},texStorage3D:function ut(){try{o.texStorage3D.apply(o,arguments)}catch(Ue){console.error("THREE.WebGLState:",Ue)}},texSubImage2D:function jt(){try{o.texSubImage2D.apply(o,arguments)}catch(Ue){console.error("THREE.WebGLState:",Ue)}},texSubImage3D:function en(){try{o.texSubImage3D.apply(o,arguments)}catch(Ue){console.error("THREE.WebGLState:",Ue)}},compressedTexSubImage2D:function hn(){try{o.compressedTexSubImage2D.apply(o,arguments)}catch(Ue){console.error("THREE.WebGLState:",Ue)}},scissor:function Un(Ue){!1===qt.equals(Ue)&&(o.scissor(Ue.x,Ue.y,Ue.z,Ue.w),qt.copy(Ue))},viewport:function Tn(Ue){!1===Jt.equals(Ue)&&(o.viewport(Ue.x,Ue.y,Ue.z,Ue.w),Jt.copy(Ue))},reset:function Gr(){o.disable(3042),o.disable(2884),o.disable(2929),o.disable(32823),o.disable(3089),o.disable(2960),o.disable(32926),o.blendEquation(32774),o.blendFunc(1,0),o.blendFuncSeparate(1,0,1,0),o.colorMask(!0,!0,!0,!0),o.clearColor(0,0,0,0),o.depthMask(!0),o.depthFunc(513),o.clearDepth(1),o.stencilMask(4294967295),o.stencilFunc(519,0,4294967295),o.stencilOp(7680,7680,7680),o.clearStencil(0),o.cullFace(1029),o.frontFace(2305),o.polygonOffset(0,0),o.activeTexture(33984),o.bindFramebuffer(36160,null),!0===n&&(o.bindFramebuffer(36009,null),o.bindFramebuffer(36008,null)),o.useProgram(null),o.lineWidth(1),o.scissor(0,0,o.canvas.width,o.canvas.height),o.viewport(0,0,o.canvas.width,o.canvas.height),v={},He=null,nt={},b={},E=new WeakMap,S=[],T=null,B=!1,V=null,$=null,U=null,Q=null,ne=null,Ie=null,G=null,ce=!1,Le=null,Ve=null,yt=null,Rt=null,ze=null,qt.set(0,0,o.canvas.width,o.canvas.height),Jt.set(0,0,o.canvas.width,o.canvas.height),h.reset(),g.reset(),p.reset()}}}function Jy(o,e,t,n,i,a,u){const h=i.isWebGL2,g=i.maxTextures,p=i.maxCubemapSize,C=i.maxTextureSize,A=i.maxSamples,v=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,b=/OculusBrowser/g.test(navigator.userAgent),E=new WeakMap;let S;const T=new WeakMap;let B=!1;try{B="undefined"!=typeof OffscreenCanvas&&null!==new OffscreenCanvas(1,1).getContext("2d")}catch(Ce){}function V(Ce,ie){return B?new OffscreenCanvas(Ce,ie):Fs("canvas")}function $(Ce,ie,ct,jt){let en=1;if((Ce.width>jt||Ce.height>jt)&&(en=jt/Math.max(Ce.width,Ce.height)),en<1||!0===ie){if("undefined"!=typeof HTMLImageElement&&Ce instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&Ce instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&Ce instanceof ImageBitmap){const hn=ie?Fl:Math.floor,ni=hn(en*Ce.width),ut=hn(en*Ce.height);void 0===S&&(S=V(ni,ut));const Nn=ct?V(ni,ut):S;return Nn.width=ni,Nn.height=ut,Nn.getContext("2d").drawImage(Ce,0,0,ni,ut),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+Ce.width+"x"+Ce.height+") to ("+ni+"x"+ut+")."),Nn}return"data"in Ce&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+Ce.width+"x"+Ce.height+")."),Ce}return Ce}function U(Ce){return Ic(Ce.width)&&Ic(Ce.height)}function ne(Ce,ie){return Ce.generateMipmaps&&ie&&Ce.minFilter!==Dn&&Ce.minFilter!==fi}function Ie(Ce){o.generateMipmap(Ce)}function G(Ce,ie,ct,jt,en=!1){if(!1===h)return ie;if(null!==Ce){if(void 0!==o[Ce])return o[Ce];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+Ce+"'")}let hn=ie;return 6403===ie&&(5126===ct&&(hn=33326),5131===ct&&(hn=33325),5121===ct&&(hn=33321)),33319===ie&&(5126===ct&&(hn=33328),5131===ct&&(hn=33327),5121===ct&&(hn=33323)),6408===ie&&(5126===ct&&(hn=34836),5131===ct&&(hn=34842),5121===ct&&(hn=jt===Ii&&!1===en?35907:32856),32819===ct&&(hn=32854),32820===ct&&(hn=32855)),(33325===hn||33326===hn||33327===hn||33328===hn||34842===hn||34836===hn)&&e.get("EXT_color_buffer_float"),hn}function ce(Ce,ie,ct){return!0===ne(Ce,ct)||Ce.isFramebufferTexture&&Ce.minFilter!==Dn&&Ce.minFilter!==fi?Math.log2(Math.max(ie.width,ie.height))+1:void 0!==Ce.mipmaps&&Ce.mipmaps.length>0?Ce.mipmaps.length:Ce.isCompressedTexture&&Array.isArray(Ce.image)?ie.mipmaps.length:1}function Le(Ce){return Ce===Dn||1004===Ce||1005===Ce?9728:9729}function Ve(Ce){const ie=Ce.target;ie.removeEventListener("dispose",Ve),function Rt(Ce){const ie=n.get(Ce);if(void 0===ie.__webglInit)return;const ct=Ce.source,jt=T.get(ct);if(jt){const en=jt[ie.__cacheKey];en.usedTimes--,0===en.usedTimes&&ze(Ce),0===Object.keys(jt).length&&T.delete(ct)}n.remove(Ce)}(ie),ie.isVideoTexture&&E.delete(ie)}function yt(Ce){const ie=Ce.target;ie.removeEventListener("dispose",yt),function pt(Ce){const ie=Ce.texture,ct=n.get(Ce),jt=n.get(ie);if(void 0!==jt.__webglTexture&&(o.deleteTexture(jt.__webglTexture),u.memory.textures--),Ce.depthTexture&&Ce.depthTexture.dispose(),Ce.isWebGLCubeRenderTarget)for(let en=0;en<6;en++)o.deleteFramebuffer(ct.__webglFramebuffer[en]),ct.__webglDepthbuffer&&o.deleteRenderbuffer(ct.__webglDepthbuffer[en]);else{if(o.deleteFramebuffer(ct.__webglFramebuffer),ct.__webglDepthbuffer&&o.deleteRenderbuffer(ct.__webglDepthbuffer),ct.__webglMultisampledFramebuffer&&o.deleteFramebuffer(ct.__webglMultisampledFramebuffer),ct.__webglColorRenderbuffer)for(let en=0;en<ct.__webglColorRenderbuffer.length;en++)ct.__webglColorRenderbuffer[en]&&o.deleteRenderbuffer(ct.__webglColorRenderbuffer[en]);ct.__webglDepthRenderbuffer&&o.deleteRenderbuffer(ct.__webglDepthRenderbuffer)}if(Ce.isWebGLMultipleRenderTargets)for(let en=0,hn=ie.length;en<hn;en++){const ni=n.get(ie[en]);ni.__webglTexture&&(o.deleteTexture(ni.__webglTexture),u.memory.textures--),n.remove(ie[en])}n.remove(ie),n.remove(Ce)}(ie)}function ze(Ce){const ie=n.get(Ce);o.deleteTexture(ie.__webglTexture),delete T.get(Ce.source)[ie.__cacheKey],u.memory.textures--}let De=0;function nt(Ce,ie){const ct=n.get(Ce);if(Ce.isVideoTexture&&function mr(Ce){const ie=u.render.frame;E.get(Ce)!==ie&&(E.set(Ce,ie),Ce.update())}(Ce),!1===Ce.isRenderTargetTexture&&Ce.version>0&&ct.__version!==Ce.version){const jt=Ce.image;if(null===jt)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else{if(!1!==jt.complete)return void Ln(ct,Ce,ie);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")}}t.activeTexture(33984+ie),t.bindTexture(3553,ct.__webglTexture)}const Jt={[Sn]:10497,[yn]:33071,1002:33648},qn={[Dn]:9728,1004:9984,1005:9986,[fi]:9729,1007:9985,[Ji]:9987};function Mt(Ce,ie,ct){if(ct?(o.texParameteri(Ce,10242,Jt[ie.wrapS]),o.texParameteri(Ce,10243,Jt[ie.wrapT]),(32879===Ce||35866===Ce)&&o.texParameteri(Ce,32882,Jt[ie.wrapR]),o.texParameteri(Ce,10240,qn[ie.magFilter]),o.texParameteri(Ce,10241,qn[ie.minFilter])):(o.texParameteri(Ce,10242,33071),o.texParameteri(Ce,10243,33071),(32879===Ce||35866===Ce)&&o.texParameteri(Ce,32882,33071),(ie.wrapS!==yn||ie.wrapT!==yn)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),o.texParameteri(Ce,10240,Le(ie.magFilter)),o.texParameteri(Ce,10241,Le(ie.minFilter)),ie.minFilter!==Dn&&ie.minFilter!==fi&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),!0===e.has("EXT_texture_filter_anisotropic")){const jt=e.get("EXT_texture_filter_anisotropic");if(ie.type===kt&&!1===e.has("OES_texture_float_linear")||!1===h&&ie.type===Fn&&!1===e.has("OES_texture_half_float_linear"))return;(ie.anisotropy>1||n.get(ie).__currentAnisotropy)&&(o.texParameterf(Ce,jt.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(ie.anisotropy,i.getMaxAnisotropy())),n.get(ie).__currentAnisotropy=ie.anisotropy)}}function Bn(Ce,ie){let ct=!1;void 0===Ce.__webglInit&&(Ce.__webglInit=!0,ie.addEventListener("dispose",Ve));const jt=ie.source;let en=T.get(jt);void 0===en&&(en={},T.set(jt,en));const hn=function He(Ce){const ie=[];return ie.push(Ce.wrapS),ie.push(Ce.wrapT),ie.push(Ce.magFilter),ie.push(Ce.minFilter),ie.push(Ce.anisotropy),ie.push(Ce.internalFormat),ie.push(Ce.format),ie.push(Ce.type),ie.push(Ce.generateMipmaps),ie.push(Ce.premultiplyAlpha),ie.push(Ce.flipY),ie.push(Ce.unpackAlignment),ie.push(Ce.encoding),ie.join()}(ie);if(hn!==Ce.__cacheKey){void 0===en[hn]&&(en[hn]={texture:o.createTexture(),usedTimes:0},u.memory.textures++,ct=!0),en[hn].usedTimes++;const ni=en[Ce.__cacheKey];void 0!==ni&&(en[Ce.__cacheKey].usedTimes--,0===ni.usedTimes&&ze(ie)),Ce.__cacheKey=hn,Ce.__webglTexture=en[hn].texture}return ct}function Ln(Ce,ie,ct){let jt=3553;ie.isDataArrayTexture&&(jt=35866),ie.isData3DTexture&&(jt=32879);const en=Bn(Ce,ie),hn=ie.source;if(t.activeTexture(33984+ct),t.bindTexture(jt,Ce.__webglTexture),hn.version!==hn.__currentVersion||!0===en){o.pixelStorei(37440,ie.flipY),o.pixelStorei(37441,ie.premultiplyAlpha),o.pixelStorei(3317,ie.unpackAlignment),o.pixelStorei(37443,0);const ni=function Q(Ce){return!h&&(Ce.wrapS!==yn||Ce.wrapT!==yn||Ce.minFilter!==Dn&&Ce.minFilter!==fi)}(ie)&&!1===U(ie.image);let ut=$(ie.image,ni,!1,C);ut=tr(ie,ut);const Nn=U(ut)||h,bn=a.convert(ie.format,ie.encoding);let Ci,Un=a.convert(ie.type),Tn=G(ie.internalFormat,bn,Un,ie.encoding,ie.isVideoTexture);Mt(jt,ie,Nn);const ji=ie.mipmaps,Gr=h&&!0!==ie.isVideoTexture,Ue=void 0===hn.__currentVersion||!0===en,xn=ce(ie,ut,Nn);if(ie.isDepthTexture)Tn=6402,h?Tn=ie.type===kt?36012:ie.type===mt?33190:ie.type===gr?35056:33189:ie.type===kt&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),ie.format===Fr&&6402===Tn&&1012!==ie.type&&ie.type!==mt&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),ie.type=mt,Un=a.convert(ie.type)),ie.format===vr&&6402===Tn&&(Tn=34041,ie.type!==gr&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),ie.type=gr,Un=a.convert(ie.type))),Ue&&(Gr?t.texStorage2D(3553,1,Tn,ut.width,ut.height):t.texImage2D(3553,0,Tn,ut.width,ut.height,0,bn,Un,null));else if(ie.isDataTexture)if(ji.length>0&&Nn){Gr&&Ue&&t.texStorage2D(3553,xn,Tn,ji[0].width,ji[0].height);for(let It=0,In=ji.length;It<In;It++)Ci=ji[It],Gr?t.texSubImage2D(3553,It,0,0,Ci.width,Ci.height,bn,Un,Ci.data):t.texImage2D(3553,It,Tn,Ci.width,Ci.height,0,bn,Un,Ci.data);ie.generateMipmaps=!1}else Gr?(Ue&&t.texStorage2D(3553,xn,Tn,ut.width,ut.height),t.texSubImage2D(3553,0,0,0,ut.width,ut.height,bn,Un,ut.data)):t.texImage2D(3553,0,Tn,ut.width,ut.height,0,bn,Un,ut.data);else if(ie.isCompressedTexture){Gr&&Ue&&t.texStorage2D(3553,xn,Tn,ji[0].width,ji[0].height);for(let It=0,In=ji.length;It<In;It++)Ci=ji[It],ie.format!==_r?null!==bn?Gr?t.compressedTexSubImage2D(3553,It,0,0,Ci.width,Ci.height,bn,Ci.data):t.compressedTexImage2D(3553,It,Tn,Ci.width,Ci.height,0,Ci.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Gr?t.texSubImage2D(3553,It,0,0,Ci.width,Ci.height,bn,Un,Ci.data):t.texImage2D(3553,It,Tn,Ci.width,Ci.height,0,bn,Un,Ci.data)}else if(ie.isDataArrayTexture)Gr?(Ue&&t.texStorage3D(35866,xn,Tn,ut.width,ut.height,ut.depth),t.texSubImage3D(35866,0,0,0,0,ut.width,ut.height,ut.depth,bn,Un,ut.data)):t.texImage3D(35866,0,Tn,ut.width,ut.height,ut.depth,0,bn,Un,ut.data);else if(ie.isData3DTexture)Gr?(Ue&&t.texStorage3D(32879,xn,Tn,ut.width,ut.height,ut.depth),t.texSubImage3D(32879,0,0,0,0,ut.width,ut.height,ut.depth,bn,Un,ut.data)):t.texImage3D(32879,0,Tn,ut.width,ut.height,ut.depth,0,bn,Un,ut.data);else if(ie.isFramebufferTexture){if(Ue)if(Gr)t.texStorage2D(3553,xn,Tn,ut.width,ut.height);else{let It=ut.width,In=ut.height;for(let pn=0;pn<xn;pn++)t.texImage2D(3553,pn,Tn,It,In,0,bn,Un,null),It>>=1,In>>=1}}else if(ji.length>0&&Nn){Gr&&Ue&&t.texStorage2D(3553,xn,Tn,ji[0].width,ji[0].height);for(let It=0,In=ji.length;It<In;It++)Ci=ji[It],Gr?t.texSubImage2D(3553,It,0,0,bn,Un,Ci):t.texImage2D(3553,It,Tn,bn,Un,Ci);ie.generateMipmaps=!1}else Gr?(Ue&&t.texStorage2D(3553,xn,Tn,ut.width,ut.height),t.texSubImage2D(3553,0,0,0,bn,Un,ut)):t.texImage2D(3553,0,Tn,bn,Un,ut);ne(ie,Nn)&&Ie(jt),hn.__currentVersion=hn.version,ie.onUpdate&&ie.onUpdate(ie)}Ce.__version=ie.version}function rn(Ce,ie,ct,jt,en){const hn=a.convert(ct.format,ct.encoding),ni=a.convert(ct.type),ut=G(ct.internalFormat,hn,ni,ct.encoding);n.get(ie).__hasExternalTextures||(32879===en||35866===en?t.texImage3D(en,0,ut,ie.width,ie.height,ie.depth,0,hn,ni,null):t.texImage2D(en,0,ut,ie.width,ie.height,0,hn,ni,null)),t.bindFramebuffer(36160,Ce),Wn(ie)?v.framebufferTexture2DMultisampleEXT(36160,jt,en,n.get(ct).__webglTexture,0,Kn(ie)):o.framebufferTexture2D(36160,jt,en,n.get(ct).__webglTexture,0),t.bindFramebuffer(36160,null)}function hi(Ce,ie,ct){if(o.bindRenderbuffer(36161,Ce),ie.depthBuffer&&!ie.stencilBuffer){let jt=33189;if(ct||Wn(ie)){const en=ie.depthTexture;en&&en.isDepthTexture&&(en.type===kt?jt=36012:en.type===mt&&(jt=33190));const hn=Kn(ie);Wn(ie)?v.renderbufferStorageMultisampleEXT(36161,hn,jt,ie.width,ie.height):o.renderbufferStorageMultisample(36161,hn,jt,ie.width,ie.height)}else o.renderbufferStorage(36161,jt,ie.width,ie.height);o.framebufferRenderbuffer(36160,36096,36161,Ce)}else if(ie.depthBuffer&&ie.stencilBuffer){const jt=Kn(ie);ct&&!1===Wn(ie)?o.renderbufferStorageMultisample(36161,jt,35056,ie.width,ie.height):Wn(ie)?v.renderbufferStorageMultisampleEXT(36161,jt,35056,ie.width,ie.height):o.renderbufferStorage(36161,34041,ie.width,ie.height),o.framebufferRenderbuffer(36160,33306,36161,Ce)}else{const jt=!0===ie.isWebGLMultipleRenderTargets?ie.texture:[ie.texture];for(let en=0;en<jt.length;en++){const hn=jt[en],ni=a.convert(hn.format,hn.encoding),ut=a.convert(hn.type),Nn=G(hn.internalFormat,ni,ut,hn.encoding),bn=Kn(ie);ct&&!1===Wn(ie)?o.renderbufferStorageMultisample(36161,bn,Nn,ie.width,ie.height):Wn(ie)?v.renderbufferStorageMultisampleEXT(36161,bn,Nn,ie.width,ie.height):o.renderbufferStorage(36161,Nn,ie.width,ie.height)}}o.bindRenderbuffer(36161,null)}function St(Ce){const ie=n.get(Ce),ct=!0===Ce.isWebGLCubeRenderTarget;if(Ce.depthTexture&&!ie.__autoAllocateDepthBuffer){if(ct)throw new Error("target.depthTexture not supported in Cube render targets");!function Ot(Ce,ie){if(ie&&ie.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(36160,Ce),!ie.depthTexture||!ie.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!n.get(ie.depthTexture).__webglTexture||ie.depthTexture.image.width!==ie.width||ie.depthTexture.image.height!==ie.height)&&(ie.depthTexture.image.width=ie.width,ie.depthTexture.image.height=ie.height,ie.depthTexture.needsUpdate=!0),nt(ie.depthTexture,0);const jt=n.get(ie.depthTexture).__webglTexture,en=Kn(ie);if(ie.depthTexture.format===Fr)Wn(ie)?v.framebufferTexture2DMultisampleEXT(36160,36096,3553,jt,0,en):o.framebufferTexture2D(36160,36096,3553,jt,0);else{if(ie.depthTexture.format!==vr)throw new Error("Unknown depthTexture format");Wn(ie)?v.framebufferTexture2DMultisampleEXT(36160,33306,3553,jt,0,en):o.framebufferTexture2D(36160,33306,3553,jt,0)}}(ie.__webglFramebuffer,Ce)}else if(ct){ie.__webglDepthbuffer=[];for(let jt=0;jt<6;jt++)t.bindFramebuffer(36160,ie.__webglFramebuffer[jt]),ie.__webglDepthbuffer[jt]=o.createRenderbuffer(),hi(ie.__webglDepthbuffer[jt],Ce,!1)}else t.bindFramebuffer(36160,ie.__webglFramebuffer),ie.__webglDepthbuffer=o.createRenderbuffer(),hi(ie.__webglDepthbuffer,Ce,!1);t.bindFramebuffer(36160,null)}function Kn(Ce){return Math.min(A,Ce.samples)}function Wn(Ce){const ie=n.get(Ce);return h&&Ce.samples>0&&!0===e.has("WEBGL_multisampled_render_to_texture")&&!1!==ie.__useRenderToTexture}function tr(Ce,ie){const ct=Ce.encoding,jt=Ce.format,en=Ce.type;return!0===Ce.isCompressedTexture||!0===Ce.isVideoTexture||1035===Ce.format||ct!==Co&&(ct===Ii?!1===h?!0===e.has("EXT_sRGB")&&jt===_r?(Ce.format=1035,Ce.minFilter=fi,Ce.generateMipmaps=!1):ie=yc.sRGBToLinear(ie):(jt!==_r||en!==is)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture encoding:",ct)),ie}this.allocateTextureUnit=function Ke(){const Ce=De;return Ce>=g&&console.warn("THREE.WebGLTextures: Trying to use "+Ce+" texture units while this GPU supports only "+g),De+=1,Ce},this.resetTextureUnits=function je(){De=0},this.setTexture2D=nt,this.setTexture2DArray=function Vt(Ce,ie){const ct=n.get(Ce);Ce.version>0&&ct.__version!==Ce.version?Ln(ct,Ce,ie):(t.activeTexture(33984+ie),t.bindTexture(35866,ct.__webglTexture))},this.setTexture3D=function Et(Ce,ie){const ct=n.get(Ce);Ce.version>0&&ct.__version!==Ce.version?Ln(ct,Ce,ie):(t.activeTexture(33984+ie),t.bindTexture(32879,ct.__webglTexture))},this.setTextureCube=function qt(Ce,ie){const ct=n.get(Ce);Ce.version>0&&ct.__version!==Ce.version?function Vn(Ce,ie,ct){if(6!==ie.image.length)return;const jt=Bn(Ce,ie),en=ie.source;if(t.activeTexture(33984+ct),t.bindTexture(34067,Ce.__webglTexture),en.version!==en.__currentVersion||!0===jt){o.pixelStorei(37440,ie.flipY),o.pixelStorei(37441,ie.premultiplyAlpha),o.pixelStorei(3317,ie.unpackAlignment),o.pixelStorei(37443,0);const hn=ie.isCompressedTexture||ie.image[0].isCompressedTexture,ni=ie.image[0]&&ie.image[0].isDataTexture,ut=[];for(let It=0;It<6;It++)ut[It]=hn||ni?ni?ie.image[It].image:ie.image[It]:$(ie.image[It],!1,!0,p),ut[It]=tr(ie,ut[It]);const Nn=ut[0],bn=U(Nn)||h,Un=a.convert(ie.format,ie.encoding),Tn=a.convert(ie.type),Ci=G(ie.internalFormat,Un,Tn,ie.encoding),ji=h&&!0!==ie.isVideoTexture,Gr=void 0===en.__currentVersion||!0===jt;let xn,Ue=ce(ie,Nn,bn);if(Mt(34067,ie,bn),hn){ji&&Gr&&t.texStorage2D(34067,Ue,Ci,Nn.width,Nn.height);for(let It=0;It<6;It++){xn=ut[It].mipmaps;for(let In=0;In<xn.length;In++){const pn=xn[In];ie.format!==_r?null!==Un?ji?t.compressedTexSubImage2D(34069+It,In,0,0,pn.width,pn.height,Un,pn.data):t.compressedTexImage2D(34069+It,In,Ci,pn.width,pn.height,0,pn.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):ji?t.texSubImage2D(34069+It,In,0,0,pn.width,pn.height,Un,Tn,pn.data):t.texImage2D(34069+It,In,Ci,pn.width,pn.height,0,Un,Tn,pn.data)}}}else{xn=ie.mipmaps,ji&&Gr&&(xn.length>0&&Ue++,t.texStorage2D(34067,Ue,Ci,ut[0].width,ut[0].height));for(let It=0;It<6;It++)if(ni){ji?t.texSubImage2D(34069+It,0,0,0,ut[It].width,ut[It].height,Un,Tn,ut[It].data):t.texImage2D(34069+It,0,Ci,ut[It].width,ut[It].height,0,Un,Tn,ut[It].data);for(let In=0;In<xn.length;In++){const ki=xn[In].image[It].image;ji?t.texSubImage2D(34069+It,In+1,0,0,ki.width,ki.height,Un,Tn,ki.data):t.texImage2D(34069+It,In+1,Ci,ki.width,ki.height,0,Un,Tn,ki.data)}}else{ji?t.texSubImage2D(34069+It,0,0,0,Un,Tn,ut[It]):t.texImage2D(34069+It,0,Ci,Un,Tn,ut[It]);for(let In=0;In<xn.length;In++){const pn=xn[In];ji?t.texSubImage2D(34069+It,In+1,0,0,Un,Tn,pn.image[It]):t.texImage2D(34069+It,In+1,Ci,Un,Tn,pn.image[It])}}}ne(ie,bn)&&Ie(34067),en.__currentVersion=en.version,ie.onUpdate&&ie.onUpdate(ie)}Ce.__version=ie.version}(ct,Ce,ie):(t.activeTexture(33984+ie),t.bindTexture(34067,ct.__webglTexture))},this.rebindTextures=function Xt(Ce,ie,ct){const jt=n.get(Ce);void 0!==ie&&rn(jt.__webglFramebuffer,Ce,Ce.texture,36064,3553),void 0!==ct&&St(Ce)},this.setupRenderTarget=function Pn(Ce){const ie=Ce.texture,ct=n.get(Ce),jt=n.get(ie);Ce.addEventListener("dispose",yt),!0!==Ce.isWebGLMultipleRenderTargets&&(void 0===jt.__webglTexture&&(jt.__webglTexture=o.createTexture()),jt.__version=ie.version,u.memory.textures++);const en=!0===Ce.isWebGLCubeRenderTarget,hn=!0===Ce.isWebGLMultipleRenderTargets,ni=U(Ce)||h;if(en){ct.__webglFramebuffer=[];for(let ut=0;ut<6;ut++)ct.__webglFramebuffer[ut]=o.createFramebuffer()}else{if(ct.__webglFramebuffer=o.createFramebuffer(),hn)if(i.drawBuffers){const ut=Ce.texture;for(let Nn=0,bn=ut.length;Nn<bn;Nn++){const Un=n.get(ut[Nn]);void 0===Un.__webglTexture&&(Un.__webglTexture=o.createTexture(),u.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(h&&Ce.samples>0&&!1===Wn(Ce)){const ut=hn?ie:[ie];ct.__webglMultisampledFramebuffer=o.createFramebuffer(),ct.__webglColorRenderbuffer=[],t.bindFramebuffer(36160,ct.__webglMultisampledFramebuffer);for(let Nn=0;Nn<ut.length;Nn++){const bn=ut[Nn];ct.__webglColorRenderbuffer[Nn]=o.createRenderbuffer(),o.bindRenderbuffer(36161,ct.__webglColorRenderbuffer[Nn]);const Un=a.convert(bn.format,bn.encoding),Tn=a.convert(bn.type),Ci=G(bn.internalFormat,Un,Tn,bn.encoding),ji=Kn(Ce);o.renderbufferStorageMultisample(36161,ji,Ci,Ce.width,Ce.height),o.framebufferRenderbuffer(36160,36064+Nn,36161,ct.__webglColorRenderbuffer[Nn])}o.bindRenderbuffer(36161,null),Ce.depthBuffer&&(ct.__webglDepthRenderbuffer=o.createRenderbuffer(),hi(ct.__webglDepthRenderbuffer,Ce,!0)),t.bindFramebuffer(36160,null)}}if(en){t.bindTexture(34067,jt.__webglTexture),Mt(34067,ie,ni);for(let ut=0;ut<6;ut++)rn(ct.__webglFramebuffer[ut],Ce,ie,36064,34069+ut);ne(ie,ni)&&Ie(34067),t.unbindTexture()}else if(hn){const ut=Ce.texture;for(let Nn=0,bn=ut.length;Nn<bn;Nn++){const Un=ut[Nn],Tn=n.get(Un);t.bindTexture(3553,Tn.__webglTexture),Mt(3553,Un,ni),rn(ct.__webglFramebuffer,Ce,Un,36064+Nn,3553),ne(Un,ni)&&Ie(3553)}t.unbindTexture()}else{let ut=3553;(Ce.isWebGL3DRenderTarget||Ce.isWebGLArrayRenderTarget)&&(h?ut=Ce.isWebGL3DRenderTarget?32879:35866:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),t.bindTexture(ut,jt.__webglTexture),Mt(ut,ie,ni),rn(ct.__webglFramebuffer,Ce,ie,36064,ut),ne(ie,ni)&&Ie(ut),t.unbindTexture()}Ce.depthBuffer&&St(Ce)},this.updateRenderTargetMipmap=function cn(Ce){const ie=U(Ce)||h,ct=!0===Ce.isWebGLMultipleRenderTargets?Ce.texture:[Ce.texture];for(let jt=0,en=ct.length;jt<en;jt++){const hn=ct[jt];if(ne(hn,ie)){const ni=Ce.isWebGLCubeRenderTarget?34067:3553,ut=n.get(hn).__webglTexture;t.bindTexture(ni,ut),Ie(ni),t.unbindTexture()}}},this.updateMultisampleRenderTarget=function li(Ce){if(h&&Ce.samples>0&&!1===Wn(Ce)){const ie=Ce.isWebGLMultipleRenderTargets?Ce.texture:[Ce.texture],ct=Ce.width,jt=Ce.height;let en=16384;const hn=[],ni=Ce.stencilBuffer?33306:36096,ut=n.get(Ce),Nn=!0===Ce.isWebGLMultipleRenderTargets;if(Nn)for(let bn=0;bn<ie.length;bn++)t.bindFramebuffer(36160,ut.__webglMultisampledFramebuffer),o.framebufferRenderbuffer(36160,36064+bn,36161,null),t.bindFramebuffer(36160,ut.__webglFramebuffer),o.framebufferTexture2D(36009,36064+bn,3553,null,0);t.bindFramebuffer(36008,ut.__webglMultisampledFramebuffer),t.bindFramebuffer(36009,ut.__webglFramebuffer);for(let bn=0;bn<ie.length;bn++){hn.push(36064+bn),Ce.depthBuffer&&hn.push(ni);const Un=void 0!==ut.__ignoreDepthValues&&ut.__ignoreDepthValues;if(!1===Un&&(Ce.depthBuffer&&(en|=256),Ce.stencilBuffer&&(en|=1024)),Nn&&o.framebufferRenderbuffer(36008,36064,36161,ut.__webglColorRenderbuffer[bn]),!0===Un&&(o.invalidateFramebuffer(36008,[ni]),o.invalidateFramebuffer(36009,[ni])),Nn){const Tn=n.get(ie[bn]).__webglTexture;o.framebufferTexture2D(36009,36064,3553,Tn,0)}o.blitFramebuffer(0,0,ct,jt,0,0,ct,jt,en,9728),b&&o.invalidateFramebuffer(36008,hn)}if(t.bindFramebuffer(36008,null),t.bindFramebuffer(36009,null),Nn)for(let bn=0;bn<ie.length;bn++){t.bindFramebuffer(36160,ut.__webglMultisampledFramebuffer),o.framebufferRenderbuffer(36160,36064+bn,36161,ut.__webglColorRenderbuffer[bn]);const Un=n.get(ie[bn]).__webglTexture;t.bindFramebuffer(36160,ut.__webglFramebuffer),o.framebufferTexture2D(36009,36064+bn,3553,Un,0)}t.bindFramebuffer(36009,ut.__webglMultisampledFramebuffer)}},this.setupDepthRenderbuffer=St,this.setupFrameBufferTexture=rn,this.useMultisampledRTT=Wn}function $g(o,e,t){const n=t.isWebGL2;return{convert:function i(a,u=null){let h;if(a===is)return 5121;if(1017===a)return 32819;if(1018===a)return 32820;if(1010===a)return 5120;if(1011===a)return 5122;if(1012===a)return 5123;if(1013===a)return 5124;if(a===mt)return 5125;if(a===kt)return 5126;if(a===Fn)return n?5131:(h=e.get("OES_texture_half_float"),null!==h?h.HALF_FLOAT_OES:null);if(1021===a)return 6406;if(a===_r)return 6408;if(1024===a)return 6409;if(1025===a)return 6410;if(a===Fr)return 6402;if(a===vr)return 34041;if(1028===a)return 6403;if(1022===a)return console.warn("THREE.WebGLRenderer: THREE.RGBFormat has been removed. Use THREE.RGBAFormat instead. https://github.com/mrdoob/three.js/pull/23228"),6408;if(1035===a)return h=e.get("EXT_sRGB"),null!==h?h.SRGB_ALPHA_EXT:null;if(1029===a)return 36244;if(1030===a)return 33319;if(1031===a)return 33320;if(1033===a)return 36249;if(33776===a||33777===a||33778===a||33779===a)if(u===Ii){if(h=e.get("WEBGL_compressed_texture_s3tc_srgb"),null===h)return null;if(33776===a)return h.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(33777===a)return h.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(33778===a)return h.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(33779===a)return h.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else{if(h=e.get("WEBGL_compressed_texture_s3tc"),null===h)return null;if(33776===a)return h.COMPRESSED_RGB_S3TC_DXT1_EXT;if(33777===a)return h.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(33778===a)return h.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(33779===a)return h.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(35840===a||35841===a||35842===a||35843===a){if(h=e.get("WEBGL_compressed_texture_pvrtc"),null===h)return null;if(35840===a)return h.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(35841===a)return h.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(35842===a)return h.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(35843===a)return h.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(36196===a)return h=e.get("WEBGL_compressed_texture_etc1"),null!==h?h.COMPRESSED_RGB_ETC1_WEBGL:null;if(37492===a||37496===a){if(h=e.get("WEBGL_compressed_texture_etc"),null===h)return null;if(37492===a)return u===Ii?h.COMPRESSED_SRGB8_ETC2:h.COMPRESSED_RGB8_ETC2;if(37496===a)return u===Ii?h.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:h.COMPRESSED_RGBA8_ETC2_EAC}if(37808===a||37809===a||37810===a||37811===a||37812===a||37813===a||37814===a||37815===a||37816===a||37817===a||37818===a||37819===a||37820===a||37821===a){if(h=e.get("WEBGL_compressed_texture_astc"),null===h)return null;if(37808===a)return u===Ii?h.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:h.COMPRESSED_RGBA_ASTC_4x4_KHR;if(37809===a)return u===Ii?h.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:h.COMPRESSED_RGBA_ASTC_5x4_KHR;if(37810===a)return u===Ii?h.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:h.COMPRESSED_RGBA_ASTC_5x5_KHR;if(37811===a)return u===Ii?h.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:h.COMPRESSED_RGBA_ASTC_6x5_KHR;if(37812===a)return u===Ii?h.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:h.COMPRESSED_RGBA_ASTC_6x6_KHR;if(37813===a)return u===Ii?h.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:h.COMPRESSED_RGBA_ASTC_8x5_KHR;if(37814===a)return u===Ii?h.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:h.COMPRESSED_RGBA_ASTC_8x6_KHR;if(37815===a)return u===Ii?h.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:h.COMPRESSED_RGBA_ASTC_8x8_KHR;if(37816===a)return u===Ii?h.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:h.COMPRESSED_RGBA_ASTC_10x5_KHR;if(37817===a)return u===Ii?h.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:h.COMPRESSED_RGBA_ASTC_10x6_KHR;if(37818===a)return u===Ii?h.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:h.COMPRESSED_RGBA_ASTC_10x8_KHR;if(37819===a)return u===Ii?h.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:h.COMPRESSED_RGBA_ASTC_10x10_KHR;if(37820===a)return u===Ii?h.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:h.COMPRESSED_RGBA_ASTC_12x10_KHR;if(37821===a)return u===Ii?h.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:h.COMPRESSED_RGBA_ASTC_12x12_KHR}if(36492===a){if(h=e.get("EXT_texture_compression_bptc"),null===h)return null;if(36492===a)return u===Ii?h.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:h.COMPRESSED_RGBA_BPTC_UNORM_EXT}return a===gr?n?34042:(h=e.get("WEBGL_depth_texture"),null!==h?h.UNSIGNED_INT_24_8_WEBGL:null):void 0!==o[a]?o[a]:null}}}class AA extends hr{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class gl extends xr{constructor(){super(),this.isGroup=!0,this.type="Group"}}const Qy={type:"move"};class Zg{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return null===this._hand&&(this._hand=new gl,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return null===this._targetRay&&(this._targetRay=new gl,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new se,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new se),this._targetRay}getGripSpace(){return null===this._grip&&(this._grip=new gl,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new se,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new se),this._grip}dispatchEvent(e){return null!==this._targetRay&&this._targetRay.dispatchEvent(e),null!==this._grip&&this._grip.dispatchEvent(e),null!==this._hand&&this._hand.dispatchEvent(e),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),null!==this._targetRay&&(this._targetRay.visible=!1),null!==this._grip&&(this._grip.visible=!1),null!==this._hand&&(this._hand.visible=!1),this}update(e,t,n){let i=null,a=null,u=null;const h=this._targetRay,g=this._grip,p=this._hand;if(e&&"visible-blurred"!==t.session.visibilityState){if(p&&e.hand){u=!0;for(const S of e.hand.values()){const T=t.getJointPose(S,n);if(void 0===p.joints[S.jointName]){const V=new gl;V.matrixAutoUpdate=!1,V.visible=!1,p.joints[S.jointName]=V,p.add(V)}const B=p.joints[S.jointName];null!==T&&(B.matrix.fromArray(T.transform.matrix),B.matrix.decompose(B.position,B.rotation,B.scale),B.jointRadius=T.radius),B.visible=null!==T}const v=p.joints["index-finger-tip"].position.distanceTo(p.joints["thumb-tip"].position),b=.02,E=.005;p.inputState.pinching&&v>b+E?(p.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!p.inputState.pinching&&v<=b-E&&(p.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else null!==g&&e.gripSpace&&(a=t.getPose(e.gripSpace,n),null!==a&&(g.matrix.fromArray(a.transform.matrix),g.matrix.decompose(g.position,g.rotation,g.scale),a.linearVelocity?(g.hasLinearVelocity=!0,g.linearVelocity.copy(a.linearVelocity)):g.hasLinearVelocity=!1,a.angularVelocity?(g.hasAngularVelocity=!0,g.angularVelocity.copy(a.angularVelocity)):g.hasAngularVelocity=!1));null!==h&&(i=t.getPose(e.targetRaySpace,n),null===i&&null!==a&&(i=a),null!==i&&(h.matrix.fromArray(i.transform.matrix),h.matrix.decompose(h.position,h.rotation,h.scale),i.linearVelocity?(h.hasLinearVelocity=!0,h.linearVelocity.copy(i.linearVelocity)):h.hasLinearVelocity=!1,i.angularVelocity?(h.hasAngularVelocity=!0,h.angularVelocity.copy(i.angularVelocity)):h.hasAngularVelocity=!1,this.dispatchEvent(Qy)))}return null!==h&&(h.visible=null!==i),null!==g&&(g.visible=null!==a),null!==p&&(p.visible=null!==u),this}}class IA extends js{constructor(e,t,n,i,a,u,h,g,p,C){if((C=void 0!==C?C:Fr)!==Fr&&C!==vr)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===n&&C===Fr&&(n=mt),void 0===n&&C===vr&&(n=gr),super(null,i,a,u,h,g,C,n,p),this.isDepthTexture=!0,this.image={width:e,height:t},this.magFilter=void 0!==h?h:Dn,this.minFilter=void 0!==g?g:Dn,this.flipY=!1,this.generateMipmaps=!1}}class Xy extends kn{constructor(e,t){super();const n=this;let i=null,a=1,u=null,h="local-floor",g=null,p=null,C=null,A=null,v=null,b=null;const E=t.getContextAttributes();let S=null,T=null;const B=[],V=[],$=new hr;$.layers.enable(1),$.viewport=new Mi;const U=new hr;U.layers.enable(2),U.viewport=new Mi;const Q=[$,U],ne=new AA;ne.layers.enable(1),ne.layers.enable(2);let Ie=null,G=null;function ce(He){const nt=V.indexOf(He.inputSource);if(-1===nt)return;const Vt=B[nt];void 0!==Vt&&Vt.dispatchEvent({type:He.type,data:He.inputSource})}function Le(){i.removeEventListener("select",ce),i.removeEventListener("selectstart",ce),i.removeEventListener("selectend",ce),i.removeEventListener("squeeze",ce),i.removeEventListener("squeezestart",ce),i.removeEventListener("squeezeend",ce),i.removeEventListener("end",Le),i.removeEventListener("inputsourceschange",Ve);for(let He=0;He<B.length;He++){const nt=V[He];null!==nt&&(V[He]=null,B[He].disconnect(nt))}Ie=null,G=null,e.setRenderTarget(S),v=null,A=null,C=null,i=null,T=null,Ke.stop(),n.isPresenting=!1,n.dispatchEvent({type:"sessionend"})}function Ve(He){for(let nt=0;nt<He.removed.length;nt++){const Vt=He.removed[nt],Et=V.indexOf(Vt);Et>=0&&(V[Et]=null,B[Et].dispatchEvent({type:"disconnected",data:Vt}))}for(let nt=0;nt<He.added.length;nt++){const Vt=He.added[nt];let Et=V.indexOf(Vt);if(-1===Et){for(let Jt=0;Jt<B.length;Jt++){if(Jt>=V.length){V.push(Vt),Et=Jt;break}if(null===V[Jt]){V[Jt]=Vt,Et=Jt;break}}if(-1===Et)break}const qt=B[Et];qt&&qt.dispatchEvent({type:"connected",data:Vt})}}this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(He){let nt=B[He];return void 0===nt&&(nt=new Zg,B[He]=nt),nt.getTargetRaySpace()},this.getControllerGrip=function(He){let nt=B[He];return void 0===nt&&(nt=new Zg,B[He]=nt),nt.getGripSpace()},this.getHand=function(He){let nt=B[He];return void 0===nt&&(nt=new Zg,B[He]=nt),nt.getHandSpace()},this.setFramebufferScaleFactor=function(He){a=He,!0===n.isPresenting&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(He){h=He,!0===n.isPresenting&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return g||u},this.setReferenceSpace=function(He){g=He},this.getBaseLayer=function(){return null!==A?A:v},this.getBinding=function(){return C},this.getFrame=function(){return b},this.getSession=function(){return i},this.setSession=function(){var He=(0,de.Z)(function*(nt){if(i=nt,null!==i){if(S=e.getRenderTarget(),i.addEventListener("select",ce),i.addEventListener("selectstart",ce),i.addEventListener("selectend",ce),i.addEventListener("squeeze",ce),i.addEventListener("squeezestart",ce),i.addEventListener("squeezeend",ce),i.addEventListener("end",Le),i.addEventListener("inputsourceschange",Ve),!0!==E.xrCompatible&&(yield t.makeXRCompatible()),void 0===i.renderState.layers||!1===e.capabilities.isWebGL2)v=new XRWebGLLayer(i,t,{antialias:void 0!==i.renderState.layers||E.antialias,alpha:E.alpha,depth:E.depth,stencil:E.stencil,framebufferScaleFactor:a}),i.updateRenderState({baseLayer:v}),T=new Is(v.framebufferWidth,v.framebufferHeight,{format:_r,type:is,encoding:e.outputEncoding});else{let Vt=null,Et=null,qt=null;E.depth&&(qt=E.stencil?35056:33190,Vt=E.stencil?vr:Fr,Et=E.stencil?gr:mt);const Jt={colorFormat:32856,depthFormat:qt,scaleFactor:a};C=new XRWebGLBinding(i,t),A=C.createProjectionLayer(Jt),i.updateRenderState({layers:[A]}),T=new Is(A.textureWidth,A.textureHeight,{format:_r,type:is,depthTexture:new IA(A.textureWidth,A.textureHeight,Et,void 0,void 0,void 0,void 0,void 0,void 0,Vt),stencilBuffer:E.stencil,encoding:e.outputEncoding,samples:E.antialias?4:0}),e.properties.get(T).__ignoreDepthValues=A.ignoreDepthValues}T.isXRRenderTarget=!0,this.setFoveation(1),g=null,u=yield i.requestReferenceSpace(h),Ke.setContext(i),Ke.start(),n.isPresenting=!0,n.dispatchEvent({type:"sessionstart"})}});return function(nt){return He.apply(this,arguments)}}();const yt=new se,Rt=new se;function pt(He,nt){null===nt?He.matrixWorld.copy(He.matrix):He.matrixWorld.multiplyMatrices(nt.matrixWorld,He.matrix),He.matrixWorldInverse.copy(He.matrixWorld).invert()}this.updateCamera=function(He){if(null===i)return;ne.near=U.near=$.near=He.near,ne.far=U.far=$.far=He.far,(Ie!==ne.near||G!==ne.far)&&(i.updateRenderState({depthNear:ne.near,depthFar:ne.far}),Ie=ne.near,G=ne.far);const nt=He.parent,Vt=ne.cameras;pt(ne,nt);for(let qt=0;qt<Vt.length;qt++)pt(Vt[qt],nt);ne.matrixWorld.decompose(ne.position,ne.quaternion,ne.scale),He.position.copy(ne.position),He.quaternion.copy(ne.quaternion),He.scale.copy(ne.scale),He.matrix.copy(ne.matrix),He.matrixWorld.copy(ne.matrixWorld);const Et=He.children;for(let qt=0,Jt=Et.length;qt<Jt;qt++)Et[qt].updateMatrixWorld(!0);2===Vt.length?function ze(He,nt,Vt){yt.setFromMatrixPosition(nt.matrixWorld),Rt.setFromMatrixPosition(Vt.matrixWorld);const Et=yt.distanceTo(Rt),qt=nt.projectionMatrix.elements,Jt=Vt.projectionMatrix.elements,qn=qt[14]/(qt[10]-1),Mt=qt[14]/(qt[10]+1),Bn=(qt[9]+1)/qt[5],Ln=(qt[9]-1)/qt[5],Vn=(qt[8]-1)/qt[0],rn=(Jt[8]+1)/Jt[0],hi=qn*Vn,Ot=qn*rn,St=Et/(-Vn+rn),Xt=St*-Vn;nt.matrixWorld.decompose(He.position,He.quaternion,He.scale),He.translateX(Xt),He.translateZ(St),He.matrixWorld.compose(He.position,He.quaternion,He.scale),He.matrixWorldInverse.copy(He.matrixWorld).invert();const Pn=qn+St,cn=Mt+St;He.projectionMatrix.makePerspective(hi-Xt,Ot+(Et-Xt),Bn*Mt/cn*Pn,Ln*Mt/cn*Pn,Pn,cn)}(ne,$,U):ne.projectionMatrix.copy($.projectionMatrix)},this.getCamera=function(){return ne},this.getFoveation=function(){return null!==A?A.fixedFoveation:null!==v?v.fixedFoveation:void 0},this.setFoveation=function(He){null!==A&&(A.fixedFoveation=He),null!==v&&void 0!==v.fixedFoveation&&(v.fixedFoveation=He)};let De=null;const Ke=new dC;Ke.setAnimationLoop(function je(He,nt){if(p=nt.getViewerPose(g||u),b=nt,null!==p){const Vt=p.views;null!==v&&(e.setRenderTargetFramebuffer(T,v.framebuffer),e.setRenderTarget(T));let Et=!1;Vt.length!==ne.cameras.length&&(ne.cameras.length=0,Et=!0);for(let qt=0;qt<Vt.length;qt++){const Jt=Vt[qt];let qn=null;if(null!==v)qn=v.getViewport(Jt);else{const Bn=C.getViewSubImage(A,Jt);qn=Bn.viewport,0===qt&&(e.setRenderTargetTextures(T,Bn.colorTexture,A.ignoreDepthValues?void 0:Bn.depthStencilTexture),e.setRenderTarget(T))}let Mt=Q[qt];void 0===Mt&&(Mt=new hr,Mt.layers.enable(qt),Mt.viewport=new Mi,Q[qt]=Mt),Mt.matrix.fromArray(Jt.transform.matrix),Mt.projectionMatrix.fromArray(Jt.projectionMatrix),Mt.viewport.set(qn.x,qn.y,qn.width,qn.height),0===qt&&ne.matrix.copy(Mt.matrix),!0===Et&&ne.cameras.push(Mt)}}for(let Vt=0;Vt<B.length;Vt++){const Et=V[Vt],qt=B[Vt];null!==Et&&void 0!==qt&&qt.update(Et,nt,g||u)}De&&De(He,nt),b=null}),this.setAnimationLoop=function(He){De=He},this.dispose=function(){}}}function _A(o,e){function i(S,T){S.opacity.value=T.opacity,T.color&&S.diffuse.value.copy(T.color),T.emissive&&S.emissive.value.copy(T.emissive).multiplyScalar(T.emissiveIntensity),T.map&&(S.map.value=T.map),T.alphaMap&&(S.alphaMap.value=T.alphaMap),T.bumpMap&&(S.bumpMap.value=T.bumpMap,S.bumpScale.value=T.bumpScale,1===T.side&&(S.bumpScale.value*=-1)),T.displacementMap&&(S.displacementMap.value=T.displacementMap,S.displacementScale.value=T.displacementScale,S.displacementBias.value=T.displacementBias),T.emissiveMap&&(S.emissiveMap.value=T.emissiveMap),T.normalMap&&(S.normalMap.value=T.normalMap,S.normalScale.value.copy(T.normalScale),1===T.side&&S.normalScale.value.negate()),T.specularMap&&(S.specularMap.value=T.specularMap),T.alphaTest>0&&(S.alphaTest.value=T.alphaTest);const B=e.get(T).envMap;if(B&&(S.envMap.value=B,S.flipEnvMap.value=B.isCubeTexture&&!1===B.isRenderTargetTexture?-1:1,S.reflectivity.value=T.reflectivity,S.ior.value=T.ior,S.refractionRatio.value=T.refractionRatio),T.lightMap){S.lightMap.value=T.lightMap;const U=!0!==o.physicallyCorrectLights?Math.PI:1;S.lightMapIntensity.value=T.lightMapIntensity*U}let V,$;T.aoMap&&(S.aoMap.value=T.aoMap,S.aoMapIntensity.value=T.aoMapIntensity),T.map?V=T.map:T.specularMap?V=T.specularMap:T.displacementMap?V=T.displacementMap:T.normalMap?V=T.normalMap:T.bumpMap?V=T.bumpMap:T.roughnessMap?V=T.roughnessMap:T.metalnessMap?V=T.metalnessMap:T.alphaMap?V=T.alphaMap:T.emissiveMap?V=T.emissiveMap:T.clearcoatMap?V=T.clearcoatMap:T.clearcoatNormalMap?V=T.clearcoatNormalMap:T.clearcoatRoughnessMap?V=T.clearcoatRoughnessMap:T.iridescenceMap?V=T.iridescenceMap:T.iridescenceThicknessMap?V=T.iridescenceThicknessMap:T.specularIntensityMap?V=T.specularIntensityMap:T.specularColorMap?V=T.specularColorMap:T.transmissionMap?V=T.transmissionMap:T.thicknessMap?V=T.thicknessMap:T.sheenColorMap?V=T.sheenColorMap:T.sheenRoughnessMap&&(V=T.sheenRoughnessMap),void 0!==V&&(V.isWebGLRenderTarget&&(V=V.texture),!0===V.matrixAutoUpdate&&V.updateMatrix(),S.uvTransform.value.copy(V.matrix)),T.aoMap?$=T.aoMap:T.lightMap&&($=T.lightMap),void 0!==$&&($.isWebGLRenderTarget&&($=$.texture),!0===$.matrixAutoUpdate&&$.updateMatrix(),S.uv2Transform.value.copy($.matrix))}return{refreshFogUniforms:function t(S,T){S.fogColor.value.copy(T.color),T.isFog?(S.fogNear.value=T.near,S.fogFar.value=T.far):T.isFogExp2&&(S.fogDensity.value=T.density)},refreshMaterialUniforms:function n(S,T,B,V,$){T.isMeshBasicMaterial||T.isMeshLambertMaterial?i(S,T):T.isMeshToonMaterial?(i(S,T),function C(S,T){T.gradientMap&&(S.gradientMap.value=T.gradientMap)}(S,T)):T.isMeshPhongMaterial?(i(S,T),function p(S,T){S.specular.value.copy(T.specular),S.shininess.value=Math.max(T.shininess,1e-4)}(S,T)):T.isMeshStandardMaterial?(i(S,T),function A(S,T){S.roughness.value=T.roughness,S.metalness.value=T.metalness,T.roughnessMap&&(S.roughnessMap.value=T.roughnessMap),T.metalnessMap&&(S.metalnessMap.value=T.metalnessMap),e.get(T).envMap&&(S.envMapIntensity.value=T.envMapIntensity)}(S,T),T.isMeshPhysicalMaterial&&function v(S,T,B){S.ior.value=T.ior,T.sheen>0&&(S.sheenColor.value.copy(T.sheenColor).multiplyScalar(T.sheen),S.sheenRoughness.value=T.sheenRoughness,T.sheenColorMap&&(S.sheenColorMap.value=T.sheenColorMap),T.sheenRoughnessMap&&(S.sheenRoughnessMap.value=T.sheenRoughnessMap)),T.clearcoat>0&&(S.clearcoat.value=T.clearcoat,S.clearcoatRoughness.value=T.clearcoatRoughness,T.clearcoatMap&&(S.clearcoatMap.value=T.clearcoatMap),T.clearcoatRoughnessMap&&(S.clearcoatRoughnessMap.value=T.clearcoatRoughnessMap),T.clearcoatNormalMap&&(S.clearcoatNormalScale.value.copy(T.clearcoatNormalScale),S.clearcoatNormalMap.value=T.clearcoatNormalMap,1===T.side&&S.clearcoatNormalScale.value.negate())),T.iridescence>0&&(S.iridescence.value=T.iridescence,S.iridescenceIOR.value=T.iridescenceIOR,S.iridescenceThicknessMinimum.value=T.iridescenceThicknessRange[0],S.iridescenceThicknessMaximum.value=T.iridescenceThicknessRange[1],T.iridescenceMap&&(S.iridescenceMap.value=T.iridescenceMap),T.iridescenceThicknessMap&&(S.iridescenceThicknessMap.value=T.iridescenceThicknessMap)),T.transmission>0&&(S.transmission.value=T.transmission,S.transmissionSamplerMap.value=B.texture,S.transmissionSamplerSize.value.set(B.width,B.height),T.transmissionMap&&(S.transmissionMap.value=T.transmissionMap),S.thickness.value=T.thickness,T.thicknessMap&&(S.thicknessMap.value=T.thicknessMap),S.attenuationDistance.value=T.attenuationDistance,S.attenuationColor.value.copy(T.attenuationColor)),S.specularIntensity.value=T.specularIntensity,S.specularColor.value.copy(T.specularColor),T.specularIntensityMap&&(S.specularIntensityMap.value=T.specularIntensityMap),T.specularColorMap&&(S.specularColorMap.value=T.specularColorMap)}(S,T,$)):T.isMeshMatcapMaterial?(i(S,T),function b(S,T){T.matcap&&(S.matcap.value=T.matcap)}(S,T)):T.isMeshDepthMaterial?i(S,T):T.isMeshDistanceMaterial?(i(S,T),function E(S,T){S.referencePosition.value.copy(T.referencePosition),S.nearDistance.value=T.nearDistance,S.farDistance.value=T.farDistance}(S,T)):T.isMeshNormalMaterial?i(S,T):T.isLineBasicMaterial?(function a(S,T){S.diffuse.value.copy(T.color),S.opacity.value=T.opacity}(S,T),T.isLineDashedMaterial&&function u(S,T){S.dashSize.value=T.dashSize,S.totalSize.value=T.dashSize+T.gapSize,S.scale.value=T.scale}(S,T)):T.isPointsMaterial?function h(S,T,B,V){let $;S.diffuse.value.copy(T.color),S.opacity.value=T.opacity,S.size.value=T.size*B,S.scale.value=.5*V,T.map&&(S.map.value=T.map),T.alphaMap&&(S.alphaMap.value=T.alphaMap),T.alphaTest>0&&(S.alphaTest.value=T.alphaTest),T.map?$=T.map:T.alphaMap&&($=T.alphaMap),void 0!==$&&(!0===$.matrixAutoUpdate&&$.updateMatrix(),S.uvTransform.value.copy($.matrix))}(S,T,B,V):T.isSpriteMaterial?function g(S,T){let B;S.diffuse.value.copy(T.color),S.opacity.value=T.opacity,S.rotation.value=T.rotation,T.map&&(S.map.value=T.map),T.alphaMap&&(S.alphaMap.value=T.alphaMap),T.alphaTest>0&&(S.alphaTest.value=T.alphaTest),T.map?B=T.map:T.alphaMap&&(B=T.alphaMap),void 0!==B&&(!0===B.matrixAutoUpdate&&B.updateMatrix(),S.uvTransform.value.copy(B.matrix))}(S,T):T.isShadowMaterial?(S.color.value.copy(T.color),S.opacity.value=T.opacity):T.isShaderMaterial&&(T.uniformsNeedUpdate=!1)}}}function e0(o,e,t,n){let i={},a={},u=[];const h=t.isWebGL2?o.getParameter(35375):0;function b(V,$,U){const Q=V.value;if(void 0===U[$])return U[$]="number"==typeof Q?Q:Q.clone(),!0;if("number"==typeof Q){if(U[$]!==Q)return U[$]=Q,!0}else{const ne=U[$];if(!1===ne.equals(Q))return ne.copy(Q),!0}return!1}function S(V){const $=V.value,U={boundary:0,storage:0};return"number"==typeof $?(U.boundary=4,U.storage=4):$.isVector2?(U.boundary=8,U.storage=8):$.isVector3||$.isColor?(U.boundary=16,U.storage=12):$.isVector4?(U.boundary=16,U.storage=16):$.isMatrix3?(U.boundary=48,U.storage=48):$.isMatrix4?(U.boundary=64,U.storage=64):$.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",$),U}function T(V){const $=V.target;$.removeEventListener("dispose",T);const U=u.indexOf($.__bindingPointIndex);u.splice(U,1),o.deleteBuffer(i[$.id]),delete i[$.id],delete a[$.id]}return{bind:function g(V,$){n.uniformBlockBinding(V,$.program)},update:function p(V,$){let U=i[V.id];void 0===U&&(function E(V){const $=V.uniforms;let U=0;let ne=0;for(let Ie=0,G=$.length;Ie<G;Ie++){const ce=$[Ie],Le=S(ce);if(ce.__data=new Float32Array(Le.storage/Float32Array.BYTES_PER_ELEMENT),ce.__offset=U,Ie>0){ne=U%16;const Ve=16-ne;0!==ne&&Ve-Le.boundary<0&&(U+=16-ne,ce.__offset=U)}U+=Le.storage}ne=U%16,ne>0&&(U+=16-ne),V.__size=U,V.__cache={}}(V),U=function C(V){const $=function A(){for(let V=0;V<h;V++)if(-1===u.indexOf(V))return u.push(V),V;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}();V.__bindingPointIndex=$;const U=o.createBuffer(),Q=V.__size,ne=V.usage;return o.bindBuffer(35345,U),o.bufferData(35345,Q,ne),o.bindBuffer(35345,null),o.bindBufferBase(35345,$,U),U}(V),i[V.id]=U,V.addEventListener("dispose",T)),n.updateUBOMapping(V,$.program);const ne=e.render.frame;a[V.id]!==ne&&(function v(V){const U=V.uniforms,Q=V.__cache;o.bindBuffer(35345,i[V.id]);for(let ne=0,Ie=U.length;ne<Ie;ne++){const G=U[ne];if(!0===b(G,ne,Q)){const ce=G.value,Le=G.__offset;"number"==typeof ce?(G.__data[0]=ce,o.bufferSubData(35345,Le,G.__data)):(G.value.isMatrix3?(G.__data[0]=G.value.elements[0],G.__data[1]=G.value.elements[1],G.__data[2]=G.value.elements[2],G.__data[3]=G.value.elements[0],G.__data[4]=G.value.elements[3],G.__data[5]=G.value.elements[4],G.__data[6]=G.value.elements[5],G.__data[7]=G.value.elements[0],G.__data[8]=G.value.elements[6],G.__data[9]=G.value.elements[7],G.__data[10]=G.value.elements[8],G.__data[11]=G.value.elements[0]):ce.toArray(G.__data),o.bufferSubData(35345,Le,G.__data))}}o.bindBuffer(35345,null)}(V),a[V.id]=ne)},dispose:function B(){for(const V in i)o.deleteBuffer(i[V]);u=[],i={},a={}}}}function id(o={}){this.isWebGLRenderer=!0;const e=void 0!==o.canvas?o.canvas:function t0(){const o=Fs("canvas");return o.style.display="block",o}(),t=void 0!==o.context?o.context:null,n=void 0===o.depth||o.depth,i=void 0===o.stencil||o.stencil,a=void 0!==o.antialias&&o.antialias,u=void 0===o.premultipliedAlpha||o.premultipliedAlpha,h=void 0!==o.preserveDrawingBuffer&&o.preserveDrawingBuffer,g=void 0!==o.powerPreference?o.powerPreference:"default",p=void 0!==o.failIfMajorPerformanceCaveat&&o.failIfMajorPerformanceCaveat;let C;C=null!==t?t.getContextAttributes().alpha:void 0!==o.alpha&&o.alpha;let A=null,v=null;const b=[],E=[];this.domElement=e,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputEncoding=Co,this.physicallyCorrectLights=!1,this.toneMapping=0,this.toneMappingExposure=1,Object.defineProperties(this,{gammaFactor:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaFactor has been removed."),2},set:function(){console.warn("THREE.WebGLRenderer: .gammaFactor has been removed.")}}});const S=this;let T=!1,B=0,V=0,$=null,U=-1,Q=null;const ne=new Mi,Ie=new Mi;let G=null,ce=e.width,Le=e.height,Ve=1,yt=null,Rt=null;const ze=new Mi(0,0,ce,Le),pt=new Mi(0,0,ce,Le);let De=!1;const je=new mh;let Ke=!1,He=!1,nt=null;const Vt=new $n,Et=new vt,qt=new se,Jt={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function qn(){return null===$?Ve:1}let Ln,Vn,rn,hi,Ot,St,Xt,Pn,cn,li,Kn,Wn,mr,tr,Ce,ie,ct,jt,en,hn,ni,ut,Nn,bn,Mt=t;function Bn(ue,Qe){for(let dt=0;dt<ue.length;dt++){const Lt=e.getContext(ue[dt],Qe);if(null!==Lt)return Lt}return null}try{const ue={alpha:!0,depth:n,stencil:i,antialias:a,premultipliedAlpha:u,preserveDrawingBuffer:h,powerPreference:g,failIfMajorPerformanceCaveat:p};if("setAttribute"in e&&e.setAttribute("data-engine","three.js r143"),e.addEventListener("webglcontextlost",Ci,!1),e.addEventListener("webglcontextrestored",ji,!1),e.addEventListener("webglcontextcreationerror",Gr,!1),null===Mt){const Qe=["webgl2","webgl","experimental-webgl"];if(!0===S.isWebGL1Renderer&&Qe.shift(),Mt=Bn(Qe,ue),null===Mt)throw Bn(Qe)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}void 0===Mt.getShaderPrecisionFormat&&(Mt.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(ue){throw console.error("THREE.WebGLRenderer: "+ue.message),ue}function Un(){Ln=new Th(Mt),Vn=new xy(Mt,Ln,o),Ln.init(Vn),ut=new $g(Mt,Ln,Vn),rn=new Uw(Mt,Ln,Vn),hi=new zC,Ot=new cA,St=new Jy(Mt,Ln,rn,Ot,Vn,ut,hi),Xt=new kC(S),Pn=new Sh(S),cn=new Iv(Mt,Vn),Nn=new vy(Mt,Ln,cn,Vn),li=new HC(Mt,cn,hi,Nn),Kn=new wy(Mt,li,cn,hi),en=new GC(Mt,Vn,St),ie=new by(Ot),Wn=new Wg(S,Xt,Pn,Ln,Vn,Nn,ie),mr=new _A(S,Ot),tr=new kw,Ce=new uo(Ln,Vn),jt=new _y(S,Xt,rn,Kn,C,u),ct=new CA(S,Kn,Vn),bn=new e0(Mt,hi,Vn,rn),hn=new yy(Mt,Ln,hi,Vn),ni=new xg(Mt,Ln,hi,Vn),hi.programs=Wn.programs,S.capabilities=Vn,S.extensions=Ln,S.properties=Ot,S.renderLists=tr,S.shadowMap=ct,S.state=rn,S.info=hi}Un();const Tn=new Xy(S,Mt);function Ci(ue){ue.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),T=!0}function ji(){console.log("THREE.WebGLRenderer: Context Restored."),T=!1;const ue=hi.autoReset,Qe=ct.enabled,dt=ct.autoUpdate,it=ct.needsUpdate,Lt=ct.type;Un(),hi.autoReset=ue,ct.enabled=Qe,ct.autoUpdate=dt,ct.needsUpdate=it,ct.type=Lt}function Gr(ue){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",ue.statusMessage)}function Ue(ue){const Qe=ue.target;Qe.removeEventListener("dispose",Ue),function xn(ue){(function It(ue){const Qe=Ot.get(ue).programs;void 0!==Qe&&(Qe.forEach(function(dt){Wn.releaseProgram(dt)}),ue.isShaderMaterial&&Wn.releaseShaderCache(ue))})(ue),Ot.remove(ue)}(Qe)}this.xr=Tn,this.getContext=function(){return Mt},this.getContextAttributes=function(){return Mt.getContextAttributes()},this.forceContextLoss=function(){const ue=Ln.get("WEBGL_lose_context");ue&&ue.loseContext()},this.forceContextRestore=function(){const ue=Ln.get("WEBGL_lose_context");ue&&ue.restoreContext()},this.getPixelRatio=function(){return Ve},this.setPixelRatio=function(ue){void 0!==ue&&(Ve=ue,this.setSize(ce,Le,!1))},this.getSize=function(ue){return ue.set(ce,Le)},this.setSize=function(ue,Qe,dt){Tn.isPresenting?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(ce=ue,Le=Qe,e.width=Math.floor(ue*Ve),e.height=Math.floor(Qe*Ve),!1!==dt&&(e.style.width=ue+"px",e.style.height=Qe+"px"),this.setViewport(0,0,ue,Qe))},this.getDrawingBufferSize=function(ue){return ue.set(ce*Ve,Le*Ve).floor()},this.setDrawingBufferSize=function(ue,Qe,dt){ce=ue,Le=Qe,Ve=dt,e.width=Math.floor(ue*dt),e.height=Math.floor(Qe*dt),this.setViewport(0,0,ue,Qe)},this.getCurrentViewport=function(ue){return ue.copy(ne)},this.getViewport=function(ue){return ue.copy(ze)},this.setViewport=function(ue,Qe,dt,it){ue.isVector4?ze.set(ue.x,ue.y,ue.z,ue.w):ze.set(ue,Qe,dt,it),rn.viewport(ne.copy(ze).multiplyScalar(Ve).floor())},this.getScissor=function(ue){return ue.copy(pt)},this.setScissor=function(ue,Qe,dt,it){ue.isVector4?pt.set(ue.x,ue.y,ue.z,ue.w):pt.set(ue,Qe,dt,it),rn.scissor(Ie.copy(pt).multiplyScalar(Ve).floor())},this.getScissorTest=function(){return De},this.setScissorTest=function(ue){rn.setScissorTest(De=ue)},this.setOpaqueSort=function(ue){yt=ue},this.setTransparentSort=function(ue){Rt=ue},this.getClearColor=function(ue){return ue.copy(jt.getClearColor())},this.setClearColor=function(){jt.setClearColor.apply(jt,arguments)},this.getClearAlpha=function(){return jt.getClearAlpha()},this.setClearAlpha=function(){jt.setClearAlpha.apply(jt,arguments)},this.clear=function(ue=!0,Qe=!0,dt=!0){let it=0;ue&&(it|=16384),Qe&&(it|=256),dt&&(it|=1024),Mt.clear(it)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){e.removeEventListener("webglcontextlost",Ci,!1),e.removeEventListener("webglcontextrestored",ji,!1),e.removeEventListener("webglcontextcreationerror",Gr,!1),tr.dispose(),Ce.dispose(),Ot.dispose(),Xt.dispose(),Pn.dispose(),Kn.dispose(),Nn.dispose(),bn.dispose(),Wn.dispose(),Tn.dispose(),Tn.removeEventListener("sessionstart",ki),Tn.removeEventListener("sessionend",Ts),nt&&(nt.dispose(),nt=null),Wr.stop()},this.renderBufferDirect=function(ue,Qe,dt,it,Lt,ei){null===Qe&&(Qe=Jt);const ci=Lt.isMesh&&Lt.matrixWorld.determinant()<0,_i=function rE(ue,Qe,dt,it,Lt){!0!==Qe.isScene&&(Qe=Jt),St.resetTextureUnits();const ei=Qe.fog,_i=null===$?S.outputEncoding:!0===$.isXRRenderTarget?$.texture.encoding:Co,Ai=(it.isMeshStandardMaterial?Pn:Xt).get(it.envMap||(it.isMeshStandardMaterial?Qe.environment:null)),Yi=!0===it.vertexColors&&!!dt.attributes.color&&4===dt.attributes.color.itemSize,Li=!!it.normalMap&&!!dt.attributes.tangent,Bi=!!dt.morphAttributes.position,Rr=!!dt.morphAttributes.normal,nh=!!dt.morphAttributes.color,Yf=it.toneMapped?S.toneMapping:0,Kf=dt.morphAttributes.position||dt.morphAttributes.normal||dt.morphAttributes.color,Dl=void 0!==Kf?Kf.length:0,$i=Ot.get(it),Jf=v.state.lights;!0!==Ke||!0!==He&&ue===Q||ie.setState(it,ue,ue===Q&&it.id===U);let ts=!1;it.version===$i.__version?($i.needsLights&&$i.lightsStateVersion!==Jf.state.version||$i.outputEncoding!==_i||Lt.isInstancedMesh&&!1===$i.instancing||!Lt.isInstancedMesh&&!0===$i.instancing||Lt.isSkinnedMesh&&!1===$i.skinning||!Lt.isSkinnedMesh&&!0===$i.skinning||$i.envMap!==Ai||!0===it.fog&&$i.fog!==ei||void 0!==$i.numClippingPlanes&&($i.numClippingPlanes!==ie.numPlanes||$i.numIntersection!==ie.numIntersection)||$i.vertexAlphas!==Yi||$i.vertexTangents!==Li||$i.morphTargets!==Bi||$i.morphNormals!==Rr||$i.morphColors!==nh||$i.toneMapping!==Yf||!0===Vn.isWebGL2&&$i.morphTargetsCount!==Dl)&&(ts=!0):(ts=!0,$i.__version=it.version);let Ta=$i.currentProgram;!0===ts&&(Ta=tw(it,Qe,Lt));let Ru=!1,nC=!1,nw=!1;const mo=Ta.getUniforms(),iC=$i.uniforms;if(rn.useProgram(Ta.program)&&(Ru=!0,nC=!0,nw=!0),it.id!==U&&(U=it.id,nC=!0),Ru||Q!==ue){if(mo.setValue(Mt,"projectionMatrix",ue.projectionMatrix),Vn.logarithmicDepthBuffer&&mo.setValue(Mt,"logDepthBufFC",2/(Math.log(ue.far+1)/Math.LN2)),Q!==ue&&(Q=ue,nC=!0,nw=!0),it.isShaderMaterial||it.isMeshPhongMaterial||it.isMeshToonMaterial||it.isMeshStandardMaterial||it.envMap){const Qo=mo.map.cameraPosition;void 0!==Qo&&Qo.setValue(Mt,qt.setFromMatrixPosition(ue.matrixWorld))}(it.isMeshPhongMaterial||it.isMeshToonMaterial||it.isMeshLambertMaterial||it.isMeshBasicMaterial||it.isMeshStandardMaterial||it.isShaderMaterial)&&mo.setValue(Mt,"isOrthographic",!0===ue.isOrthographicCamera),(it.isMeshPhongMaterial||it.isMeshToonMaterial||it.isMeshLambertMaterial||it.isMeshBasicMaterial||it.isMeshStandardMaterial||it.isShaderMaterial||it.isShadowMaterial||Lt.isSkinnedMesh)&&mo.setValue(Mt,"viewMatrix",ue.matrixWorldInverse)}if(Lt.isSkinnedMesh){mo.setOptional(Mt,Lt,"bindMatrix"),mo.setOptional(Mt,Lt,"bindMatrixInverse");const Qo=Lt.skeleton;Qo&&(Vn.floatVertexTextures?(null===Qo.boneTexture&&Qo.computeBoneTexture(),mo.setValue(Mt,"boneTexture",Qo.boneTexture,St),mo.setValue(Mt,"boneTextureSize",Qo.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}const iw=dt.morphAttributes;if((void 0!==iw.position||void 0!==iw.normal||void 0!==iw.color&&!0===Vn.isWebGL2)&&en.update(Lt,dt,it,Ta),(nC||$i.receiveShadow!==Lt.receiveShadow)&&($i.receiveShadow=Lt.receiveShadow,mo.setValue(Mt,"receiveShadow",Lt.receiveShadow)),nC&&(mo.setValue(Mt,"toneMappingExposure",S.toneMappingExposure),$i.needsLights&&function sE(ue,Qe){ue.ambientLightColor.needsUpdate=Qe,ue.lightProbe.needsUpdate=Qe,ue.directionalLights.needsUpdate=Qe,ue.directionalLightShadows.needsUpdate=Qe,ue.pointLights.needsUpdate=Qe,ue.pointLightShadows.needsUpdate=Qe,ue.spotLights.needsUpdate=Qe,ue.spotLightShadows.needsUpdate=Qe,ue.rectAreaLights.needsUpdate=Qe,ue.hemisphereLights.needsUpdate=Qe}(iC,nw),ei&&!0===it.fog&&mr.refreshFogUniforms(iC,ei),mr.refreshMaterialUniforms(iC,it,Ve,Le,nt),kg.upload(Mt,$i.uniformsList,iC,St)),it.isShaderMaterial&&!0===it.uniformsNeedUpdate&&(kg.upload(Mt,$i.uniformsList,iC,St),it.uniformsNeedUpdate=!1),it.isSpriteMaterial&&mo.setValue(Mt,"center",Lt.center),mo.setValue(Mt,"modelViewMatrix",Lt.modelViewMatrix),mo.setValue(Mt,"normalMatrix",Lt.normalMatrix),mo.setValue(Mt,"modelMatrix",Lt.matrixWorld),it.isShaderMaterial||it.isRawShaderMaterial){const Qo=it.uniformsGroups;for(let rw=0,aE=Qo.length;rw<aE;rw++)if(Vn.isWebGL2){const ZS=Qo[rw];bn.update(ZS,Ta),bn.bind(ZS,Ta)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return Ta}(ue,Qe,dt,it,Lt);rn.setMaterial(it,ci);let Ai=dt.index;const Yi=dt.attributes.position;if(null===Ai){if(void 0===Yi||0===Yi.count)return}else if(0===Ai.count)return;let Li=1;!0===it.wireframe&&(Ai=li.getWireframeAttribute(dt),Li=2),Nn.setup(Lt,it,_i,dt,Ai);let Bi,Rr=hn;null!==Ai&&(Bi=cn.get(Ai),Rr=ni,Rr.setIndex(Bi));const nh=null!==Ai?Ai.count:Yi.count,Yf=dt.drawRange.start*Li,Kf=dt.drawRange.count*Li,Dl=null!==ei?ei.start*Li:0,$i=null!==ei?ei.count*Li:1/0,Jf=Math.max(Yf,Dl),ts=Math.min(nh,Yf+Kf,Dl+$i)-1,Ta=Math.max(0,ts-Jf+1);if(0!==Ta){if(Lt.isMesh)!0===it.wireframe?(rn.setLineWidth(it.wireframeLinewidth*qn()),Rr.setMode(1)):Rr.setMode(4);else if(Lt.isLine){let Ru=it.linewidth;void 0===Ru&&(Ru=1),rn.setLineWidth(Ru*qn()),Rr.setMode(Lt.isLineSegments?1:Lt.isLineLoop?2:3)}else Lt.isPoints?Rr.setMode(0):Lt.isSprite&&Rr.setMode(4);if(Lt.isInstancedMesh)Rr.renderInstances(Jf,Ta,Lt.count);else if(dt.isInstancedBufferGeometry){const Ru=Math.min(dt.instanceCount,dt._maxInstanceCount);Rr.renderInstances(Jf,Ta,Ru)}else Rr.render(Jf,Ta)}},this.compile=function(ue,Qe){v=Ce.get(ue),v.init(),E.push(v),ue.traverseVisible(function(dt){dt.isLight&&dt.layers.test(Qe.layers)&&(v.pushLight(dt),dt.castShadow&&v.pushShadow(dt))}),v.setupLights(S.physicallyCorrectLights),ue.traverse(function(dt){const it=dt.material;if(it)if(Array.isArray(it))for(let Lt=0;Lt<it.length;Lt++)tw(it[Lt],ue,dt);else tw(it,ue,dt)}),E.pop(),v=null};let In=null;function ki(){Wr.stop()}function Ts(){Wr.start()}const Wr=new dC;function Lu(ue,Qe,dt,it){if(!1===ue.visible)return;if(ue.layers.test(Qe.layers))if(ue.isGroup)dt=ue.renderOrder;else if(ue.isLOD)!0===ue.autoUpdate&&ue.update(Qe);else if(ue.isLight)v.pushLight(ue),ue.castShadow&&v.pushShadow(ue);else if(ue.isSprite){if(!ue.frustumCulled||je.intersectsSprite(ue)){it&&qt.setFromMatrixPosition(ue.matrixWorld).applyMatrix4(Vt);const ci=Kn.update(ue),_i=ue.material;_i.visible&&A.push(ue,ci,_i,dt,qt.z,null)}}else if((ue.isMesh||ue.isLine||ue.isPoints)&&(ue.isSkinnedMesh&&ue.skeleton.frame!==hi.render.frame&&(ue.skeleton.update(),ue.skeleton.frame=hi.render.frame),!ue.frustumCulled||je.intersectsObject(ue))){it&&qt.setFromMatrixPosition(ue.matrixWorld).applyMatrix4(Vt);const ci=Kn.update(ue),_i=ue.material;if(Array.isArray(_i)){const Ai=ci.groups;for(let Yi=0,Li=Ai.length;Yi<Li;Yi++){const Bi=Ai[Yi],Rr=_i[Bi.materialIndex];Rr&&Rr.visible&&A.push(ue,ci,Rr,dt,qt.z,Bi)}}else _i.visible&&A.push(ue,ci,_i,dt,qt.z,null)}const ei=ue.children;for(let ci=0,_i=ei.length;ci<_i;ci++)Lu(ei[ci],Qe,dt,it)}function Lr(ue,Qe,dt,it){const Lt=ue.opaque,ei=ue.transmissive,ci=ue.transparent;v.setupLightsView(dt),ei.length>0&&function gc(ue,Qe,dt){const it=Vn.isWebGL2;null===nt&&(nt=new Is(1,1,{generateMipmaps:!0,type:Ln.has("EXT_color_buffer_half_float")?Fn:is,minFilter:Ji,samples:it&&!0===a?4:0})),S.getDrawingBufferSize(Et),it?nt.setSize(Et.x,Et.y):nt.setSize(Fl(Et.x),Fl(Et.y));const Lt=S.getRenderTarget();S.setRenderTarget(nt),S.clear();const ei=S.toneMapping;S.toneMapping=0,Sa(ue,Qe,dt),S.toneMapping=ei,St.updateMultisampleRenderTarget(nt),St.updateRenderTargetMipmap(nt),S.setRenderTarget(Lt)}(Lt,Qe,dt),it&&rn.viewport(ne.copy(it)),Lt.length>0&&Sa(Lt,Qe,dt),ei.length>0&&Sa(ei,Qe,dt),ci.length>0&&Sa(ci,Qe,dt),rn.buffers.depth.setTest(!0),rn.buffers.depth.setMask(!0),rn.buffers.color.setMask(!0),rn.setPolygonOffset(!1)}function Sa(ue,Qe,dt){const it=!0===Qe.isScene?Qe.overrideMaterial:null;for(let Lt=0,ei=ue.length;Lt<ei;Lt++){const ci=ue[Lt],_i=ci.object,Ai=ci.geometry,Yi=null===it?ci.material:it,Li=ci.group;_i.layers.test(dt.layers)&&iE(_i,Qe,dt,Ai,Yi,Li)}}function iE(ue,Qe,dt,it,Lt,ei){ue.onBeforeRender(S,Qe,dt,it,Lt,ei),ue.modelViewMatrix.multiplyMatrices(dt.matrixWorldInverse,ue.matrixWorld),ue.normalMatrix.getNormalMatrix(ue.modelViewMatrix),Lt.onBeforeRender(S,Qe,dt,it,ue,ei),!0===Lt.transparent&&2===Lt.side?(Lt.side=1,Lt.needsUpdate=!0,S.renderBufferDirect(dt,Qe,it,Lt,ue,ei),Lt.side=0,Lt.needsUpdate=!0,S.renderBufferDirect(dt,Qe,it,Lt,ue,ei),Lt.side=2):S.renderBufferDirect(dt,Qe,it,Lt,ue,ei),ue.onAfterRender(S,Qe,dt,it,Lt,ei)}function tw(ue,Qe,dt){!0!==Qe.isScene&&(Qe=Jt);const it=Ot.get(ue),Lt=v.state.lights,ci=Lt.state.version,_i=Wn.getParameters(ue,Lt.state,v.state.shadowsArray,Qe,dt),Ai=Wn.getProgramCacheKey(_i);let Yi=it.programs;it.environment=ue.isMeshStandardMaterial?Qe.environment:null,it.fog=Qe.fog,it.envMap=(ue.isMeshStandardMaterial?Pn:Xt).get(ue.envMap||it.environment),void 0===Yi&&(ue.addEventListener("dispose",Ue),Yi=new Map,it.programs=Yi);let Li=Yi.get(Ai);if(void 0!==Li){if(it.currentProgram===Li&&it.lightsStateVersion===ci)return $S(ue,_i),Li}else _i.uniforms=Wn.getUniforms(ue),ue.onBuild(dt,_i,S),ue.onBeforeCompile(_i,S),Li=Wn.acquireProgram(_i,Ai),Yi.set(Ai,Li),it.uniforms=_i.uniforms;const Bi=it.uniforms;(!ue.isShaderMaterial&&!ue.isRawShaderMaterial||!0===ue.clipping)&&(Bi.clippingPlanes=ie.uniform),$S(ue,_i),it.needsLights=function oE(ue){return ue.isMeshLambertMaterial||ue.isMeshToonMaterial||ue.isMeshPhongMaterial||ue.isMeshStandardMaterial||ue.isShadowMaterial||ue.isShaderMaterial&&!0===ue.lights}(ue),it.lightsStateVersion=ci,it.needsLights&&(Bi.ambientLightColor.value=Lt.state.ambient,Bi.lightProbe.value=Lt.state.probe,Bi.directionalLights.value=Lt.state.directional,Bi.directionalLightShadows.value=Lt.state.directionalShadow,Bi.spotLights.value=Lt.state.spot,Bi.spotLightShadows.value=Lt.state.spotShadow,Bi.rectAreaLights.value=Lt.state.rectArea,Bi.ltc_1.value=Lt.state.rectAreaLTC1,Bi.ltc_2.value=Lt.state.rectAreaLTC2,Bi.pointLights.value=Lt.state.point,Bi.pointLightShadows.value=Lt.state.pointShadow,Bi.hemisphereLights.value=Lt.state.hemi,Bi.directionalShadowMap.value=Lt.state.directionalShadowMap,Bi.directionalShadowMatrix.value=Lt.state.directionalShadowMatrix,Bi.spotShadowMap.value=Lt.state.spotShadowMap,Bi.spotShadowMatrix.value=Lt.state.spotShadowMatrix,Bi.pointShadowMap.value=Lt.state.pointShadowMap,Bi.pointShadowMatrix.value=Lt.state.pointShadowMatrix);const Rr=Li.getUniforms(),nh=kg.seqWithValue(Rr.seq,Bi);return it.currentProgram=Li,it.uniformsList=nh,Li}function $S(ue,Qe){const dt=Ot.get(ue);dt.outputEncoding=Qe.outputEncoding,dt.instancing=Qe.instancing,dt.skinning=Qe.skinning,dt.morphTargets=Qe.morphTargets,dt.morphNormals=Qe.morphNormals,dt.morphColors=Qe.morphColors,dt.morphTargetsCount=Qe.morphTargetsCount,dt.numClippingPlanes=Qe.numClippingPlanes,dt.numIntersection=Qe.numClipIntersection,dt.vertexAlphas=Qe.vertexAlphas,dt.vertexTangents=Qe.vertexTangents,dt.toneMapping=Qe.toneMapping}Wr.setAnimationLoop(function pn(ue){In&&In(ue)}),"undefined"!=typeof self&&Wr.setContext(self),this.setAnimationLoop=function(ue){In=ue,Tn.setAnimationLoop(ue),null===ue?Wr.stop():Wr.start()},Tn.addEventListener("sessionstart",ki),Tn.addEventListener("sessionend",Ts),this.render=function(ue,Qe){if(void 0===Qe||!0===Qe.isCamera){if(!0!==T){if(!0===ue.autoUpdate&&ue.updateMatrixWorld(),null===Qe.parent&&Qe.updateMatrixWorld(),!0===Tn.enabled&&!0===Tn.isPresenting&&(!0===Tn.cameraAutoUpdate&&Tn.updateCamera(Qe),Qe=Tn.getCamera()),!0===ue.isScene&&ue.onBeforeRender(S,ue,Qe,$),v=Ce.get(ue,E.length),v.init(),E.push(v),Vt.multiplyMatrices(Qe.projectionMatrix,Qe.matrixWorldInverse),je.setFromProjectionMatrix(Vt),He=this.localClippingEnabled,Ke=ie.init(this.clippingPlanes,He,Qe),A=tr.get(ue,b.length),A.init(),b.push(A),Lu(ue,Qe,0,S.sortObjects),A.finish(),!0===S.sortObjects&&A.sort(yt,Rt),!0===Ke&&ie.beginShadows(),ct.render(v.state.shadowsArray,ue,Qe),!0===Ke&&ie.endShadows(),!0===this.info.autoReset&&this.info.reset(),jt.render(A,ue),v.setupLights(S.physicallyCorrectLights),Qe.isArrayCamera){const it=Qe.cameras;for(let Lt=0,ei=it.length;Lt<ei;Lt++){const ci=it[Lt];Lr(A,ue,ci,ci.viewport)}}else Lr(A,ue,Qe);null!==$&&(St.updateMultisampleRenderTarget($),St.updateRenderTargetMipmap($)),!0===ue.isScene&&ue.onAfterRender(S,ue,Qe),Nn.resetDefaultState(),U=-1,Q=null,E.pop(),v=E.length>0?E[E.length-1]:null,b.pop(),A=b.length>0?b[b.length-1]:null}}else console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.")},this.getActiveCubeFace=function(){return B},this.getActiveMipmapLevel=function(){return V},this.getRenderTarget=function(){return $},this.setRenderTargetTextures=function(ue,Qe,dt){Ot.get(ue.texture).__webglTexture=Qe,Ot.get(ue.depthTexture).__webglTexture=dt;const it=Ot.get(ue);it.__hasExternalTextures=!0,it.__hasExternalTextures&&(it.__autoAllocateDepthBuffer=void 0===dt,it.__autoAllocateDepthBuffer||!0===Ln.has("WEBGL_multisampled_render_to_texture")&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),it.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(ue,Qe){const dt=Ot.get(ue);dt.__webglFramebuffer=Qe,dt.__useDefaultFramebuffer=void 0===Qe},this.setRenderTarget=function(ue,Qe=0,dt=0){$=ue,B=Qe,V=dt;let it=!0;if(ue){const Ai=Ot.get(ue);void 0!==Ai.__useDefaultFramebuffer?(rn.bindFramebuffer(36160,null),it=!1):void 0===Ai.__webglFramebuffer?St.setupRenderTarget(ue):Ai.__hasExternalTextures&&St.rebindTextures(ue,Ot.get(ue.texture).__webglTexture,Ot.get(ue.depthTexture).__webglTexture)}let Lt=null,ei=!1,ci=!1;if(ue){const Ai=ue.texture;(Ai.isData3DTexture||Ai.isDataArrayTexture)&&(ci=!0);const Yi=Ot.get(ue).__webglFramebuffer;ue.isWebGLCubeRenderTarget?(Lt=Yi[Qe],ei=!0):Lt=Vn.isWebGL2&&ue.samples>0&&!1===St.useMultisampledRTT(ue)?Ot.get(ue).__webglMultisampledFramebuffer:Yi,ne.copy(ue.viewport),Ie.copy(ue.scissor),G=ue.scissorTest}else ne.copy(ze).multiplyScalar(Ve).floor(),Ie.copy(pt).multiplyScalar(Ve).floor(),G=De;if(rn.bindFramebuffer(36160,Lt)&&Vn.drawBuffers&&it&&rn.drawBuffers(ue,Lt),rn.viewport(ne),rn.scissor(Ie),rn.setScissorTest(G),ei){const Ai=Ot.get(ue.texture);Mt.framebufferTexture2D(36160,36064,34069+Qe,Ai.__webglTexture,dt)}else if(ci){const Ai=Ot.get(ue.texture);Mt.framebufferTextureLayer(36160,36064,Ai.__webglTexture,dt||0,Qe||0)}U=-1},this.readRenderTargetPixels=function(ue,Qe,dt,it,Lt,ei,ci){if(!ue||!ue.isWebGLRenderTarget)return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let _i=Ot.get(ue).__webglFramebuffer;if(ue.isWebGLCubeRenderTarget&&void 0!==ci&&(_i=_i[ci]),_i){rn.bindFramebuffer(36160,_i);try{const Ai=ue.texture,Yi=Ai.format,Li=Ai.type;if(Yi!==_r&&ut.convert(Yi)!==Mt.getParameter(35739))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");const Bi=Li===Fn&&(Ln.has("EXT_color_buffer_half_float")||Vn.isWebGL2&&Ln.has("EXT_color_buffer_float"));if(!(Li===is||ut.convert(Li)===Mt.getParameter(35738)||Li===kt&&(Vn.isWebGL2||Ln.has("OES_texture_float")||Ln.has("WEBGL_color_buffer_float"))||Bi))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");Qe>=0&&Qe<=ue.width-it&&dt>=0&&dt<=ue.height-Lt&&Mt.readPixels(Qe,dt,it,Lt,ut.convert(Yi),ut.convert(Li),ei)}finally{const Ai=null!==$?Ot.get($).__webglFramebuffer:null;rn.bindFramebuffer(36160,Ai)}}},this.copyFramebufferToTexture=function(ue,Qe,dt=0){const it=Math.pow(2,-dt),Lt=Math.floor(Qe.image.width*it),ei=Math.floor(Qe.image.height*it);St.setTexture2D(Qe,0),Mt.copyTexSubImage2D(3553,dt,0,0,ue.x,ue.y,Lt,ei),rn.unbindTexture()},this.copyTextureToTexture=function(ue,Qe,dt,it=0){const Lt=Qe.image.width,ei=Qe.image.height,ci=ut.convert(dt.format),_i=ut.convert(dt.type);St.setTexture2D(dt,0),Mt.pixelStorei(37440,dt.flipY),Mt.pixelStorei(37441,dt.premultiplyAlpha),Mt.pixelStorei(3317,dt.unpackAlignment),Qe.isDataTexture?Mt.texSubImage2D(3553,it,ue.x,ue.y,Lt,ei,ci,_i,Qe.image.data):Qe.isCompressedTexture?Mt.compressedTexSubImage2D(3553,it,ue.x,ue.y,Qe.mipmaps[0].width,Qe.mipmaps[0].height,ci,Qe.mipmaps[0].data):Mt.texSubImage2D(3553,it,ue.x,ue.y,ci,_i,Qe.image),0===it&&dt.generateMipmaps&&Mt.generateMipmap(3553),rn.unbindTexture()},this.copyTextureToTexture3D=function(ue,Qe,dt,it,Lt=0){if(S.isWebGL1Renderer)return void console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");const ei=ue.max.x-ue.min.x+1,ci=ue.max.y-ue.min.y+1,_i=ue.max.z-ue.min.z+1,Ai=ut.convert(it.format),Yi=ut.convert(it.type);let Li;if(it.isData3DTexture)St.setTexture3D(it,0),Li=32879;else{if(!it.isDataArrayTexture)return void console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");St.setTexture2DArray(it,0),Li=35866}Mt.pixelStorei(37440,it.flipY),Mt.pixelStorei(37441,it.premultiplyAlpha),Mt.pixelStorei(3317,it.unpackAlignment);const Bi=Mt.getParameter(3314),Rr=Mt.getParameter(32878),nh=Mt.getParameter(3316),Yf=Mt.getParameter(3315),Kf=Mt.getParameter(32877),Dl=dt.isCompressedTexture?dt.mipmaps[0]:dt.image;Mt.pixelStorei(3314,Dl.width),Mt.pixelStorei(32878,Dl.height),Mt.pixelStorei(3316,ue.min.x),Mt.pixelStorei(3315,ue.min.y),Mt.pixelStorei(32877,ue.min.z),dt.isDataTexture||dt.isData3DTexture?Mt.texSubImage3D(Li,Lt,Qe.x,Qe.y,Qe.z,ei,ci,_i,Ai,Yi,Dl.data):dt.isCompressedTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),Mt.compressedTexSubImage3D(Li,Lt,Qe.x,Qe.y,Qe.z,ei,ci,_i,Ai,Dl.data)):Mt.texSubImage3D(Li,Lt,Qe.x,Qe.y,Qe.z,ei,ci,_i,Ai,Yi,Dl),Mt.pixelStorei(3314,Bi),Mt.pixelStorei(32878,Rr),Mt.pixelStorei(3316,nh),Mt.pixelStorei(3315,Yf),Mt.pixelStorei(32877,Kf),0===Lt&&it.generateMipmaps&&Mt.generateMipmap(Li),rn.unbindTexture()},this.initTexture=function(ue){ue.isCubeTexture?St.setTextureCube(ue,0):ue.isData3DTexture?St.setTexture3D(ue,0):ue.isDataArrayTexture?St.setTexture2DArray(ue,0):St.setTexture2D(ue,0),rn.unbindTexture()},this.resetState=function(){B=0,V=0,$=null,rn.reset(),Nn.reset()},"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}(class vA extends id{}).prototype.isWebGL1Renderer=!0;class zc extends xr{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0,"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),null!==e.background&&(this.background=e.background.clone()),null!==e.environment&&(this.environment=e.environment.clone()),null!==e.fog&&(this.fog=e.fog.clone()),null!==e.overrideMaterial&&(this.overrideMaterial=e.overrideMaterial.clone()),this.autoUpdate=e.autoUpdate,this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return null!==this.fog&&(t.object.fog=this.fog.toJSON()),t}}class Yg{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=void 0!==e?e.length/t:0,this.usage=35044,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=qi()}onUploadCallback(){}set needsUpdate(e){!0===e&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,n){e*=this.stride,n*=t.stride;for(let i=0,a=this.stride;i<a;i++)this.array[e+i]=t.array[n+i];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){void 0===e.arrayBuffers&&(e.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=qi()),void 0===e.arrayBuffers[this.array.buffer._uuid]&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),n=new this.constructor(t,this.stride);return n.setUsage(this.usage),n}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return void 0===e.arrayBuffers&&(e.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=qi()),void 0===e.arrayBuffers[this.array.buffer._uuid]&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const Us=new se;class Gc{constructor(e,t,n,i=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=n,this.normalized=!0===i}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,n=this.data.count;t<n;t++)Us.fromBufferAttribute(this,t),Us.applyMatrix4(e),this.setXYZ(t,Us.x,Us.y,Us.z);return this}applyNormalMatrix(e){for(let t=0,n=this.count;t<n;t++)Us.fromBufferAttribute(this,t),Us.applyNormalMatrix(e),this.setXYZ(t,Us.x,Us.y,Us.z);return this}transformDirection(e){for(let t=0,n=this.count;t<n;t++)Us.fromBufferAttribute(this,t),Us.transformDirection(e),this.setXYZ(t,Us.x,Us.y,Us.z);return this}setX(e,t){return this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){return this.data.array[e*this.data.stride+this.offset]}getY(e){return this.data.array[e*this.data.stride+this.offset+1]}getZ(e){return this.data.array[e*this.data.stride+this.offset+2]}getW(e){return this.data.array[e*this.data.stride+this.offset+3]}setXY(e,t,n){return this.data.array[(e=e*this.data.stride+this.offset)+0]=t,this.data.array[e+1]=n,this}setXYZ(e,t,n,i){return this.data.array[(e=e*this.data.stride+this.offset)+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=i,this}setXYZW(e,t,n,i,a){return this.data.array[(e=e*this.data.stride+this.offset)+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=i,this.data.array[e+3]=a,this}clone(e){if(void 0===e){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will deinterleave buffer data.");const t=[];for(let n=0;n<this.count;n++){const i=n*this.data.stride+this.offset;for(let a=0;a<this.itemSize;a++)t.push(this.data.array[i+a])}return new Hr(new this.array.constructor(t),this.itemSize,this.normalized)}return void 0===e.interleavedBuffers&&(e.interleavedBuffers={}),void 0===e.interleavedBuffers[this.data.uuid]&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new Gc(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(void 0===e){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will deinterleave buffer data.");const t=[];for(let n=0;n<this.count;n++){const i=n*this.data.stride+this.offset;for(let a=0;a<this.itemSize;a++)t.push(this.data.array[i+a])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}return void 0===e.interleavedBuffers&&(e.interleavedBuffers={}),void 0===e.interleavedBuffers[this.data.uuid]&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}const Qg=new se,Xg=new Mi,ep=new Mi,wA=new se,ma=new $n;class ld extends Pr{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new $n,this.bindMatrixInverse=new $n}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,this}bind(e,t){this.skeleton=e,void 0===t&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new Mi,t=this.geometry.attributes.skinWeight;for(let n=0,i=t.count;n<i;n++){e.fromBufferAttribute(t,n);const a=1/e.manhattanLength();a!==1/0?e.multiplyScalar(a):e.set(1,0,0,0),t.setXYZW(n,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),"attached"===this.bindMode?this.bindMatrixInverse.copy(this.matrixWorld).invert():"detached"===this.bindMode?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}boneTransform(e,t){const n=this.skeleton,i=this.geometry;Xg.fromBufferAttribute(i.attributes.skinIndex,e),ep.fromBufferAttribute(i.attributes.skinWeight,e),Qg.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let a=0;a<4;a++){const u=ep.getComponent(a);if(0!==u){const h=Xg.getComponent(a);ma.multiplyMatrices(n.bones[h].matrixWorld,n.boneInverses[h]),t.addScaledVector(wA.copy(Qg).applyMatrix4(ma),u)}}return t.applyMatrix4(this.bindMatrixInverse)}}class tp extends xr{constructor(){super(),this.isBone=!0,this.type="Bone"}}class cd extends js{constructor(e=null,t=1,n=1,i,a,u,h,g,p=Dn,C=Dn,A,v){super(null,u,h,g,p,C,i,a,A,v),this.isDataTexture=!0,this.image={data:e,width:t,height:n},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const r0=new $n,np=new $n;class ud{constructor(e=[],t=[]){this.uuid=qi(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(16*e.length),0===t.length)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let n=0,i=this.bones.length;n<i;n++)this.boneInverses.push(new $n)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const n=new $n;this.bones[e]&&n.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(n)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const n=this.bones[e];n&&n.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const n=this.bones[e];n&&(n.parent&&n.parent.isBone?(n.matrix.copy(n.parent.matrixWorld).invert(),n.matrix.multiply(n.matrixWorld)):n.matrix.copy(n.matrixWorld),n.matrix.decompose(n.position,n.quaternion,n.scale))}}update(){const e=this.bones,t=this.boneInverses,n=this.boneMatrices,i=this.boneTexture;for(let a=0,u=e.length;a<u;a++)r0.multiplyMatrices(e[a]?e[a].matrixWorld:np,t[a]),r0.toArray(n,16*a);null!==i&&(i.needsUpdate=!0)}clone(){return new ud(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(4*this.bones.length);e=Xi(e),e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const n=new cd(t,e,e,_r,kt);return n.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=n,this.boneTextureSize=e,this}getBoneByName(e){for(let t=0,n=this.bones.length;t<n;t++){const i=this.bones[t];if(i.name===e)return i}}dispose(){null!==this.boneTexture&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let n=0,i=e.bones.length;n<i;n++){const a=e.bones[n];let u=t[a];void 0===u&&(console.warn("THREE.Skeleton: No bone found with UUID:",a),u=new tp),this.bones.push(u),this.boneInverses.push((new $n).fromArray(e.boneInverses[n]))}return this.init(),this}toJSON(){const e={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,n=this.boneInverses;for(let i=0,a=t.length;i<a;i++)e.bones.push(t[i].uuid),e.boneInverses.push(n[i].toArray());return e}}class Hs extends ha{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new $t(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const TA=new se,Bh=new se,EA=new $n,ip=new tl,dd=new Fo;class Mo extends xr{constructor(e=new ii,t=new Hs){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(null===e.index){const t=e.attributes.position,n=[0];for(let i=1,a=t.count;i<a;i++)TA.fromBufferAttribute(t,i-1),Bh.fromBufferAttribute(t,i),n[i]=n[i-1],n[i]+=TA.distanceTo(Bh);e.setAttribute("lineDistance",new on(n,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const n=this.geometry,i=this.matrixWorld,a=e.params.Line.threshold,u=n.drawRange;if(null===n.boundingSphere&&n.computeBoundingSphere(),dd.copy(n.boundingSphere),dd.applyMatrix4(i),dd.radius+=a,!1===e.ray.intersectsSphere(dd))return;EA.copy(i).invert(),ip.copy(e.ray).applyMatrix4(EA);const h=a/((this.scale.x+this.scale.y+this.scale.z)/3),g=h*h,p=new se,C=new se,A=new se,v=new se,b=this.isLineSegments?2:1,E=n.index,T=n.attributes.position;if(null!==E)for(let $=Math.max(0,u.start),U=Math.min(E.count,u.start+u.count)-1;$<U;$+=b){const Q=E.getX($),ne=E.getX($+1);if(p.fromBufferAttribute(T,Q),C.fromBufferAttribute(T,ne),ip.distanceSqToSegment(p,C,v,A)>g)continue;v.applyMatrix4(this.matrixWorld);const G=e.ray.origin.distanceTo(v);G<e.near||G>e.far||t.push({distance:G,point:A.clone().applyMatrix4(this.matrixWorld),index:$,face:null,faceIndex:null,object:this})}else for(let $=Math.max(0,u.start),U=Math.min(T.count,u.start+u.count)-1;$<U;$+=b){if(p.fromBufferAttribute(T,$),C.fromBufferAttribute(T,$+1),ip.distanceSqToSegment(p,C,v,A)>g)continue;v.applyMatrix4(this.matrixWorld);const ne=e.ray.origin.distanceTo(v);ne<e.near||ne>e.far||t.push({distance:ne,point:A.clone().applyMatrix4(this.matrixWorld),index:$,face:null,faceIndex:null,object:this})}}updateMorphTargets(){const t=this.geometry.morphAttributes,n=Object.keys(t);if(n.length>0){const i=t[n[0]];if(void 0!==i){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,u=i.length;a<u;a++){const h=i[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[h]=a}}}}}const rp=new se,DA=new se;class Vh extends Mo{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(null===e.index){const t=e.attributes.position,n=[];for(let i=0,a=t.count;i<a;i+=2)rp.fromBufferAttribute(t,i),DA.fromBufferAttribute(t,i+1),n[i]=0===i?0:n[i-1],n[i+1]=n[i]+rp.distanceTo(DA);e.setAttribute("lineDistance",new on(n,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class tc extends Mo{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class sp extends ha{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new $t(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const PA=new $n,op=new tl,Uh=new Fo,Qs=new se;class Hh extends xr{constructor(e=new ii,t=new sp){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=e.material,this.geometry=e.geometry,this}raycast(e,t){const n=this.geometry,i=this.matrixWorld,a=e.params.Points.threshold,u=n.drawRange;if(null===n.boundingSphere&&n.computeBoundingSphere(),Uh.copy(n.boundingSphere),Uh.applyMatrix4(i),Uh.radius+=a,!1===e.ray.intersectsSphere(Uh))return;PA.copy(i).invert(),op.copy(e.ray).applyMatrix4(PA);const h=a/((this.scale.x+this.scale.y+this.scale.z)/3),g=h*h,p=n.index,A=n.attributes.position;if(null!==p)for(let E=Math.max(0,u.start),S=Math.min(p.count,u.start+u.count);E<S;E++){const T=p.getX(E);Qs.fromBufferAttribute(A,T),ap(Qs,T,g,i,e,t,this)}else for(let E=Math.max(0,u.start),S=Math.min(A.count,u.start+u.count);E<S;E++)Qs.fromBufferAttribute(A,E),ap(Qs,E,g,i,e,t,this)}updateMorphTargets(){const t=this.geometry.morphAttributes,n=Object.keys(t);if(n.length>0){const i=t[n[0]];if(void 0!==i){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,u=i.length;a<u;a++){const h=i[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[h]=a}}}}}function ap(o,e,t,n,i,a,u){const h=op.distanceSqToPoint(o);if(h<t){const g=new se;op.closestPointToPoint(o,g),g.applyMatrix4(n);const p=i.ray.origin.distanceTo(g);if(p<i.near||p>i.far)return;a.push({distance:p,distanceToRay:Math.sqrt(h),point:g,index:e,face:null,object:u})}}class ho extends ii{constructor(e=[],t=[],n=1,i=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:n,detail:i};const a=[],u=[];function g(V,$,U,Q){const ne=Q+1,Ie=[];for(let G=0;G<=ne;G++){Ie[G]=[];const ce=V.clone().lerp(U,G/ne),Le=$.clone().lerp(U,G/ne),Ve=ne-G;for(let yt=0;yt<=Ve;yt++)Ie[G][yt]=0===yt&&G===ne?ce:ce.clone().lerp(Le,yt/Ve)}for(let G=0;G<ne;G++)for(let ce=0;ce<2*(ne-G)-1;ce++){const Le=Math.floor(ce/2);ce%2==0?(v(Ie[G][Le+1]),v(Ie[G+1][Le]),v(Ie[G][Le])):(v(Ie[G][Le+1]),v(Ie[G+1][Le+1]),v(Ie[G+1][Le]))}}function v(V){a.push(V.x,V.y,V.z)}function b(V,$){const U=3*V;$.x=e[U+0],$.y=e[U+1],$.z=e[U+2]}function S(V,$,U,Q){Q<0&&1===V.x&&(u[$]=V.x-1),0===U.x&&0===U.z&&(u[$]=Q/2/Math.PI+.5)}function T(V){return Math.atan2(V.z,-V.x)}function B(V){return Math.atan2(-V.y,Math.sqrt(V.x*V.x+V.z*V.z))}(function h(V){const $=new se,U=new se,Q=new se;for(let ne=0;ne<t.length;ne+=3)b(t[ne+0],$),b(t[ne+1],U),b(t[ne+2],Q),g($,U,Q,V)})(i),function p(V){const $=new se;for(let U=0;U<a.length;U+=3)$.x=a[U+0],$.y=a[U+1],$.z=a[U+2],$.normalize().multiplyScalar(V),a[U+0]=$.x,a[U+1]=$.y,a[U+2]=$.z}(n),function C(){const V=new se;for(let $=0;$<a.length;$+=3){V.x=a[$+0],V.y=a[$+1],V.z=a[$+2];const U=T(V)/2/Math.PI+.5,Q=B(V)/Math.PI+.5;u.push(U,1-Q)}(function E(){const V=new se,$=new se,U=new se,Q=new se,ne=new vt,Ie=new vt,G=new vt;for(let ce=0,Le=0;ce<a.length;ce+=9,Le+=6){V.set(a[ce+0],a[ce+1],a[ce+2]),$.set(a[ce+3],a[ce+4],a[ce+5]),U.set(a[ce+6],a[ce+7],a[ce+8]),ne.set(u[Le+0],u[Le+1]),Ie.set(u[Le+2],u[Le+3]),G.set(u[Le+4],u[Le+5]),Q.copy(V).add($).add(U).divideScalar(3);const Ve=T(Q);S(ne,Le+0,V,Ve),S(Ie,Le+2,$,Ve),S(G,Le+4,U,Ve)}})(),function A(){for(let V=0;V<u.length;V+=6){const $=u[V+0],U=u[V+2],Q=u[V+4],ne=Math.max($,U,Q),Ie=Math.min($,U,Q);ne>.9&&Ie<.1&&($<.2&&(u[V+0]+=1),U<.2&&(u[V+2]+=1),Q<.2&&(u[V+4]+=1))}}()}(),this.setAttribute("position",new on(a,3)),this.setAttribute("normal",new on(a.slice(),3)),this.setAttribute("uv",new on(u,2)),0===i?this.computeVertexNormals():this.normalizeNormals()}static fromJSON(e){return new ho(e.vertices,e.indices,e.radius,e.details)}}class rc extends ho{constructor(e=1,t=0){const n=(1+Math.sqrt(5))/2;super([-1,n,0,1,n,0,-1,-n,0,1,-n,0,0,-1,n,0,1,n,0,-1,-n,0,1,-n,n,0,-1,n,0,1,-n,0,-1,-n,0,1],[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1],e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new rc(e.radius,e.detail)}}class Al extends ii{constructor(e=1,t=32,n=16,i=0,a=2*Math.PI,u=0,h=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:n,phiStart:i,phiLength:a,thetaStart:u,thetaLength:h},t=Math.max(3,Math.floor(t)),n=Math.max(2,Math.floor(n));const g=Math.min(u+h,Math.PI);let p=0;const C=[],A=new se,v=new se,b=[],E=[],S=[],T=[];for(let B=0;B<=n;B++){const V=[],$=B/n;let U=0;0==B&&0==u?U=.5/t:B==n&&g==Math.PI&&(U=-.5/t);for(let Q=0;Q<=t;Q++){const ne=Q/t;A.x=-e*Math.cos(i+ne*a)*Math.sin(u+$*h),A.y=e*Math.cos(u+$*h),A.z=e*Math.sin(i+ne*a)*Math.sin(u+$*h),E.push(A.x,A.y,A.z),v.copy(A).normalize(),S.push(v.x,v.y,v.z),T.push(ne+U,1-$),V.push(p++)}C.push(V)}for(let B=0;B<n;B++)for(let V=0;V<t;V++){const $=C[B][V+1],U=C[B][V],Q=C[B+1][V],ne=C[B+1][V+1];(0!==B||u>0)&&b.push($,U,ne),(B!==n-1||g<Math.PI)&&b.push(U,Q,ne)}this.setIndex(b),this.setAttribute("position",new on(E,3)),this.setAttribute("normal",new on(S,3)),this.setAttribute("uv",new on(T,2))}static fromJSON(e){return new Al(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class sc extends ha{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new $t(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new $t(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new vt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Ua extends sc{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new vt(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Oi(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new $t(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=0,this.attenuationColor=new $t(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new $t(1,1,1),this.specularColorMap=null,this._sheen=0,this._clearcoat=0,this._iridescence=0,this._transmission=0,this.setValues(e)}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}function So(o,e,t){return tf(o)?new o.constructor(o.subarray(e,void 0!==t?t:o.length)):o.slice(e,t)}function Il(o,e,t){return!o||!t&&o.constructor===e?o:"number"==typeof e.BYTES_PER_ELEMENT?new e(o):Array.prototype.slice.call(o)}function tf(o){return ArrayBuffer.isView(o)&&!(o instanceof DataView)}function nf(o){const t=o.length,n=new Array(t);for(let i=0;i!==t;++i)n[i]=i;return n.sort(function e(i,a){return o[i]-o[a]}),n}function ZA(o,e,t){const n=o.length,i=new o.constructor(n);for(let a=0,u=0;u!==n;++a){const h=t[a]*e;for(let g=0;g!==e;++g)i[u++]=o[h+g]}return i}function _d(o,e,t,n){let i=1,a=o[0];for(;void 0!==a&&void 0===a[n];)a=o[i++];if(void 0===a)return;let u=a[n];if(void 0!==u)if(Array.isArray(u))do{u=a[n],void 0!==u&&(e.push(a.time),t.push.apply(t,u)),a=o[i++]}while(void 0!==a);else if(void 0!==u.toArray)do{u=a[n],void 0!==u&&(e.push(a.time),u.toArray(t,t.length)),a=o[i++]}while(void 0!==a);else do{u=a[n],void 0!==u&&(e.push(a.time),t.push(u)),a=o[i++]}while(void 0!==a)}class hu{constructor(e,t,n,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=void 0!==i?i:new t.constructor(n),this.sampleValues=t,this.valueSize=n,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let n=this._cachedIndex,i=t[n],a=t[n-1];e:{t:{let u;n:{i:if(!(e<i)){for(let h=n+2;;){if(void 0===i){if(e<a)break i;return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}if(n===h)break;if(a=i,i=t[++n],e<i)break t}u=t.length;break n}if(e>=a)break e;{const h=t[1];e<h&&(n=2,a=h);for(let g=n-2;;){if(void 0===a)return this._cachedIndex=0,this.copySampleValue_(0);if(n===g)break;if(i=a,a=t[--n-1],e>=a)break t}u=n,n=0}}for(;n<u;){const h=n+u>>>1;e<t[h]?u=h:n=h+1}if(i=t[n],a=t[n-1],void 0===a)return this._cachedIndex=0,this.copySampleValue_(0);if(void 0===i)return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}this._cachedIndex=n,this.intervalChanged_(n,a,i)}return this.interpolate_(n,a,e,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,n=this.sampleValues,i=this.valueSize,a=e*i;for(let u=0;u!==i;++u)t[u]=n[a+u];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class Mp extends hu{constructor(e,t,n,i){super(e,t,n,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:2400,endingEnd:2400}}intervalChanged_(e,t,n){const i=this.parameterPositions;let a=e-2,u=e+1,h=i[a],g=i[u];if(void 0===h)switch(this.getSettings_().endingStart){case 2401:a=e,h=2*t-n;break;case 2402:a=i.length-2,h=t+i[a]-i[a+1];break;default:a=e,h=n}if(void 0===g)switch(this.getSettings_().endingEnd){case 2401:u=e,g=2*n-t;break;case 2402:u=1,g=n+i[1]-i[0];break;default:u=e-1,g=t}const p=.5*(n-t),C=this.valueSize;this._weightPrev=p/(t-h),this._weightNext=p/(g-n),this._offsetPrev=a*C,this._offsetNext=u*C}interpolate_(e,t,n,i){const a=this.resultBuffer,u=this.sampleValues,h=this.valueSize,g=e*h,p=g-h,C=this._offsetPrev,A=this._offsetNext,v=this._weightPrev,b=this._weightNext,E=(n-t)/(i-t),S=E*E,T=S*E,B=-v*T+2*v*S-v*E,V=(1+v)*T+(-1.5-2*v)*S+(-.5+v)*E+1,$=(-1-b)*T+(1.5+b)*S+.5*E,U=b*T-b*S;for(let Q=0;Q!==h;++Q)a[Q]=B*u[C+Q]+V*u[p+Q]+$*u[g+Q]+U*u[A+Q];return a}}class sf extends hu{constructor(e,t,n,i){super(e,t,n,i)}interpolate_(e,t,n,i){const a=this.resultBuffer,u=this.sampleValues,h=this.valueSize,g=e*h,p=g-h,C=(n-t)/(i-t),A=1-C;for(let v=0;v!==h;++v)a[v]=u[p+v]*A+u[g+v]*C;return a}}class _0 extends hu{constructor(e,t,n,i){super(e,t,n,i)}interpolate_(e){return this.copySampleValue_(e-1)}}class fo{constructor(e,t,n,i){if(void 0===e)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===t||0===t.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Il(t,this.TimeBufferType),this.values=Il(n,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let n;if(t.toJSON!==this.toJSON)n=t.toJSON(e);else{n={name:e.name,times:Il(e.times,Array),values:Il(e.values,Array)};const i=e.getInterpolation();i!==e.DefaultInterpolation&&(n.interpolation=i)}return n.type=e.ValueTypeName,n}InterpolantFactoryMethodDiscrete(e){return new _0(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new sf(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new Mp(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case ea:t=this.InterpolantFactoryMethodDiscrete;break;case ta:t=this.InterpolantFactoryMethodLinear;break;case 2302:t=this.InterpolantFactoryMethodSmooth}if(void 0===t){const n="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(e===this.DefaultInterpolation)throw new Error(n);this.setInterpolation(this.DefaultInterpolation)}return console.warn("THREE.KeyframeTrack:",n),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return ea;case this.InterpolantFactoryMethodLinear:return ta;case this.InterpolantFactoryMethodSmooth:return 2302}}getValueSize(){return this.values.length/this.times.length}shift(e){if(0!==e){const t=this.times;for(let n=0,i=t.length;n!==i;++n)t[n]+=e}return this}scale(e){if(1!==e){const t=this.times;for(let n=0,i=t.length;n!==i;++n)t[n]*=e}return this}trim(e,t){const n=this.times,i=n.length;let a=0,u=i-1;for(;a!==i&&n[a]<e;)++a;for(;-1!==u&&n[u]>t;)--u;if(++u,0!==a||u!==i){a>=u&&(u=Math.max(u,1),a=u-1);const h=this.getValueSize();this.times=So(n,a,u),this.values=So(this.values,a*h,u*h)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!=0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const n=this.times,i=this.values,a=n.length;0===a&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let u=null;for(let h=0;h!==a;h++){const g=n[h];if("number"==typeof g&&isNaN(g)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,h,g),e=!1;break}if(null!==u&&u>g){console.error("THREE.KeyframeTrack: Out of order keys.",this,h,g,u),e=!1;break}u=g}if(void 0!==i&&tf(i))for(let h=0,g=i.length;h!==g;++h){const p=i[h];if(isNaN(p)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,h,p),e=!1;break}}return e}optimize(){const e=So(this.times),t=So(this.values),n=this.getValueSize(),i=2302===this.getInterpolation(),a=e.length-1;let u=1;for(let h=1;h<a;++h){let g=!1;const p=e[h];if(p!==e[h+1]&&(1!==h||p!==e[0]))if(i)g=!0;else{const A=h*n,v=A-n,b=A+n;for(let E=0;E!==n;++E){const S=t[A+E];if(S!==t[v+E]||S!==t[b+E]){g=!0;break}}}if(g){if(h!==u){e[u]=e[h];const A=h*n,v=u*n;for(let b=0;b!==n;++b)t[v+b]=t[A+b]}++u}}if(a>0){e[u]=e[a];for(let h=a*n,g=u*n,p=0;p!==n;++p)t[g+p]=t[h+p];++u}return u!==e.length?(this.times=So(e,0,u),this.values=So(t,0,u*n)):(this.times=e,this.values=t),this}clone(){const e=So(this.times,0),t=So(this.values,0),i=new(0,this.constructor)(this.name,e,t);return i.createInterpolant=this.createInterpolant,i}}fo.prototype.TimeBufferType=Float32Array,fo.prototype.ValueBufferType=Float32Array,fo.prototype.DefaultInterpolation=ta;class Ha extends fo{}Ha.prototype.ValueTypeName="bool",Ha.prototype.ValueBufferType=Array,Ha.prototype.DefaultInterpolation=ea,Ha.prototype.InterpolantFactoryMethodLinear=void 0,Ha.prototype.InterpolantFactoryMethodSmooth=void 0;class of extends fo{}of.prototype.ValueTypeName="color";class af extends fo{}af.prototype.ValueTypeName="number";class v0 extends hu{constructor(e,t,n,i){super(e,t,n,i)}interpolate_(e,t,n,i){const a=this.resultBuffer,u=this.sampleValues,h=this.valueSize,g=(n-t)/(i-t);let p=e*h;for(let C=p+h;p!==C;p+=4)Kr.slerpFlat(a,0,u,p-h,u,p,g);return a}}class va extends fo{InterpolantFactoryMethodLinear(e){return new v0(this.times,this.values,this.getValueSize(),e)}}va.prototype.ValueTypeName="quaternion",va.prototype.DefaultInterpolation=ta,va.prototype.InterpolantFactoryMethodSmooth=void 0;class za extends fo{}za.prototype.ValueTypeName="string",za.prototype.ValueBufferType=Array,za.prototype.DefaultInterpolation=ea,za.prototype.InterpolantFactoryMethodLinear=void 0,za.prototype.InterpolantFactoryMethodSmooth=void 0;class oc extends fo{}oc.prototype.ValueTypeName="vector";class fu{constructor(e,t=-1,n,i=2500){this.name=e,this.tracks=n,this.duration=t,this.blendMode=i,this.uuid=qi(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],n=e.tracks,i=1/(e.fps||1);for(let u=0,h=n.length;u!==h;++u)t.push(qA(n[u]).scale(i));const a=new this(e.name,e.duration,t,e.blendMode);return a.uuid=e.uuid,a}static toJSON(e){const t=[],n=e.tracks,i={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let a=0,u=n.length;a!==u;++a)t.push(fo.toJSON(n[a]));return i}static CreateFromMorphTargetSequence(e,t,n,i){const a=t.length,u=[];for(let h=0;h<a;h++){let g=[],p=[];g.push((h+a-1)%a,h,(h+1)%a),p.push(0,1,0);const C=nf(g);g=ZA(g,1,C),p=ZA(p,1,C),!i&&0===g[0]&&(g.push(a),p.push(p[0])),u.push(new af(".morphTargetInfluences["+t[h].name+"]",g,p).scale(1/n))}return new this(e,-1,u)}static findByName(e,t){let n=e;if(!Array.isArray(e)){const i=e;n=i.geometry&&i.geometry.animations||i.animations}for(let i=0;i<n.length;i++)if(n[i].name===t)return n[i];return null}static CreateClipsFromMorphTargetSequences(e,t,n){const i={},a=/^([\w-]*?)([\d]+)$/;for(let h=0,g=e.length;h<g;h++){const p=e[h],C=p.name.match(a);if(C&&C.length>1){const A=C[1];let v=i[A];v||(i[A]=v=[]),v.push(p)}}const u=[];for(const h in i)u.push(this.CreateFromMorphTargetSequence(h,i[h],t,n));return u}static parseAnimation(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const n=function(A,v,b,E,S){if(0!==b.length){const T=[],B=[];_d(b,T,B,E),0!==T.length&&S.push(new A(v,T,B))}},i=[],a=e.name||"default",u=e.fps||30,h=e.blendMode;let g=e.length||-1;const p=e.hierarchy||[];for(let A=0;A<p.length;A++){const v=p[A].keys;if(v&&0!==v.length)if(v[0].morphTargets){const b={};let E;for(E=0;E<v.length;E++)if(v[E].morphTargets)for(let S=0;S<v[E].morphTargets.length;S++)b[v[E].morphTargets[S]]=-1;for(const S in b){const T=[],B=[];for(let V=0;V!==v[E].morphTargets.length;++V){const $=v[E];T.push($.time),B.push($.morphTarget===S?1:0)}i.push(new af(".morphTargetInfluence["+S+"]",T,B))}g=b.length*u}else{const b=".bones["+t[A].name+"]";n(oc,b+".position",v,"pos",i),n(va,b+".quaternion",v,"rot",i),n(oc,b+".scale",v,"scl",i)}}return 0===i.length?null:new this(a,g,i,h)}resetDuration(){let t=0;for(let n=0,i=this.tracks.length;n!==i;++n){const a=this.tracks[n];t=Math.max(t,a.times[a.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function qA(o){if(void 0===o.type)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=function Sp(o){switch(o.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return af;case"vector":case"vector2":case"vector3":case"vector4":return oc;case"color":return of;case"quaternion":return va;case"bool":case"boolean":return Ha;case"string":return za}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+o)}(o.type);if(void 0===o.times){const t=[],n=[];_d(o.keys,t,n,"value"),o.times=t,o.values=n}return void 0!==e.parse?e.parse(o):new e(o.name,o.times,o.values,o.interpolation)}const ac={enabled:!1,files:{},add:function(o,e){!1!==this.enabled&&(this.files[o]=e)},get:function(o){if(!1!==this.enabled)return this.files[o]},remove:function(o){delete this.files[o]},clear:function(){this.files={}}};class lf{constructor(e,t,n){const i=this;let g,a=!1,u=0,h=0;const p=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=n,this.itemStart=function(C){h++,!1===a&&void 0!==i.onStart&&i.onStart(C,u,h),a=!0},this.itemEnd=function(C){u++,void 0!==i.onProgress&&i.onProgress(C,u,h),u===h&&(a=!1,void 0!==i.onLoad&&i.onLoad())},this.itemError=function(C){void 0!==i.onError&&i.onError(C)},this.resolveURL=function(C){return g?g(C):C},this.setURLModifier=function(C){return g=C,this},this.addHandler=function(C,A){return p.push(C,A),this},this.removeHandler=function(C){const A=p.indexOf(C);return-1!==A&&p.splice(A,2),this},this.getHandler=function(C){for(let A=0,v=p.length;A<v;A+=2){const b=p[A],E=p[A+1];if(b.global&&(b.lastIndex=0),b.test(C))return E}return null}}}const YA=new lf;class vd{constructor(e){this.manager=void 0!==e?e:YA,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const n=this;return new Promise(function(i,a){n.load(e,i,t,a)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}const ya={};class KA extends Error{constructor(e,t){super(e),this.response=t}}class To extends vd{constructor(e){super(e)}load(e,t,n,i){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);const a=ac.get(e);if(void 0!==a)return this.manager.itemStart(e),setTimeout(()=>{t&&t(a),this.manager.itemEnd(e)},0),a;if(void 0!==ya[e])return void ya[e].push({onLoad:t,onProgress:n,onError:i});ya[e]=[],ya[e].push({onLoad:t,onProgress:n,onError:i});const u=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),h=this.mimeType,g=this.responseType;fetch(u).then(p=>{if(200===p.status||0===p.status){if(0===p.status&&console.warn("THREE.FileLoader: HTTP Status 0 received."),"undefined"==typeof ReadableStream||void 0===p.body||void 0===p.body.getReader)return p;const C=ya[e],A=p.body.getReader(),v=p.headers.get("Content-Length"),b=v?parseInt(v):0,E=0!==b;let S=0;const T=new ReadableStream({start(B){!function V(){A.read().then(({done:$,value:U})=>{if($)B.close();else{S+=U.byteLength;const Q=new ProgressEvent("progress",{lengthComputable:E,loaded:S,total:b});for(let ne=0,Ie=C.length;ne<Ie;ne++){const G=C[ne];G.onProgress&&G.onProgress(Q)}B.enqueue(U),V()}})}()}});return new Response(T)}throw new KA(`fetch for "${p.url}" responded with ${p.status}: ${p.statusText}`,p)}).then(p=>{switch(g){case"arraybuffer":return p.arrayBuffer();case"blob":return p.blob();case"document":return p.text().then(C=>(new DOMParser).parseFromString(C,h));case"json":return p.json();default:if(void 0===h)return p.text();{const A=/charset="?([^;"\s]*)"?/i.exec(h),v=A&&A[1]?A[1].toLowerCase():void 0,b=new TextDecoder(v);return p.arrayBuffer().then(E=>b.decode(E))}}}).then(p=>{ac.add(e,p);const C=ya[e];delete ya[e];for(let A=0,v=C.length;A<v;A++){const b=C[A];b.onLoad&&b.onLoad(p)}}).catch(p=>{const C=ya[e];if(void 0===C)throw this.manager.itemError(e),p;delete ya[e];for(let A=0,v=C.length;A<v;A++){const b=C[A];b.onError&&b.onError(p)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class yd extends vd{constructor(e){super(e)}load(e,t,n,i){void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);const a=this,u=ac.get(e);if(void 0!==u)return a.manager.itemStart(e),setTimeout(function(){t&&t(u),a.manager.itemEnd(e)},0),u;const h=Fs("img");function g(){C(),ac.add(e,this),t&&t(this),a.manager.itemEnd(e)}function p(A){C(),i&&i(A),a.manager.itemError(e),a.manager.itemEnd(e)}function C(){h.removeEventListener("load",g,!1),h.removeEventListener("error",p,!1)}return h.addEventListener("load",g,!1),h.addEventListener("error",p,!1),"data:"!==e.slice(0,5)&&void 0!==this.crossOrigin&&(h.crossOrigin=this.crossOrigin),a.manager.itemStart(e),h.src=e,h}}class lc extends vd{constructor(e){super(e)}load(e,t,n,i){const a=new js,u=new yd(this.manager);return u.setCrossOrigin(this.crossOrigin),u.setPath(this.path),u.load(e,function(h){a.image=h,a.needsUpdate=!0,void 0!==t&&t(a)},n,i),a}}class xd extends xr{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new $t(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,void 0!==this.groundColor&&(t.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(t.object.distance=this.distance),void 0!==this.angle&&(t.object.angle=this.angle),void 0!==this.decay&&(t.object.decay=this.decay),void 0!==this.penumbra&&(t.object.penumbra=this.penumbra),void 0!==this.shadow&&(t.object.shadow=this.shadow.toJSON()),t}}const Tp=new $n,Ep=new se,Dp=new se;class cf{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new vt(512,512),this.map=null,this.mapPass=null,this.matrix=new $n,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new mh,this._frameExtents=new vt(1,1),this._viewportCount=1,this._viewports=[new Mi(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,n=this.matrix;Ep.setFromMatrixPosition(e.matrixWorld),t.position.copy(Ep),Dp.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(Dp),t.updateMatrixWorld(),Tp.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(Tp),n.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),n.multiply(t.projectionMatrix),n.multiply(t.matrixWorldInverse)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return(new this.constructor).copy(this)}toJSON(){const e={};return 0!==this.bias&&(e.bias=this.bias),0!==this.normalBias&&(e.normalBias=this.normalBias),1!==this.radius&&(e.radius=this.radius),(512!==this.mapSize.x||512!==this.mapSize.y)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class XA extends cf{constructor(){super(new hr(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const t=this.camera,n=2*Qi*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height,a=e.distance||t.far;(n!==t.fov||i!==t.aspect||a!==t.far)&&(t.fov=n,t.aspect=i,t.far=a,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class Pp extends xd{constructor(e,t,n=0,i=Math.PI/3,a=0,u=1){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(xr.DefaultUp),this.updateMatrix(),this.target=new xr,this.distance=n,this.angle=i,this.penumbra=a,this.decay=u,this.shadow=new XA}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const b0=new $n,bd=new se,Op=new se;class eI extends cf{constructor(){super(new hr(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new vt(4,2),this._viewportCount=6,this._viewports=[new Mi(2,1,1,1),new Mi(0,1,1,1),new Mi(3,1,1,1),new Mi(1,1,1,1),new Mi(3,0,1,1),new Mi(1,0,1,1)],this._cubeDirections=[new se(1,0,0),new se(-1,0,0),new se(0,0,1),new se(0,0,-1),new se(0,1,0),new se(0,-1,0)],this._cubeUps=[new se(0,1,0),new se(0,1,0),new se(0,1,0),new se(0,1,0),new se(0,0,1),new se(0,0,-1)]}updateMatrices(e,t=0){const n=this.camera,i=this.matrix,a=e.distance||n.far;a!==n.far&&(n.far=a,n.updateProjectionMatrix()),bd.setFromMatrixPosition(e.matrixWorld),n.position.copy(bd),Op.copy(n.position),Op.add(this._cubeDirections[t]),n.up.copy(this._cubeUps[t]),n.lookAt(Op),n.updateMatrixWorld(),i.makeTranslation(-bd.x,-bd.y,-bd.z),b0.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(b0)}}class go extends xd{constructor(e,t,n=0,i=1){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=n,this.decay=i,this.shadow=new eI}get power(){return 4*this.intensity*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class zr extends cf{constructor(){super(new dl(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class gu extends xd{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(xr.DefaultUp),this.updateMatrix(),this.target=new xr,this.shadow=new zr}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class uf extends xd{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class xa{static decodeText(e){if("undefined"!=typeof TextDecoder)return(new TextDecoder).decode(e);let t="";for(let n=0,i=e.length;n<i;n++)t+=String.fromCharCode(e[n]);try{return decodeURIComponent(escape(t))}catch(n){return t}}static extractUrlBase(e){const t=e.lastIndexOf("/");return-1===t?"./":e.slice(0,t+1)}static resolveURL(e,t){return"string"!=typeof e||""===e?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class Jw extends vd{constructor(e){super(e),this.isImageBitmapLoader=!0,"undefined"==typeof createImageBitmap&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),"undefined"==typeof fetch&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,n,i){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);const a=this,u=ac.get(e);if(void 0!==u)return a.manager.itemStart(e),setTimeout(function(){t&&t(u),a.manager.itemEnd(e)},0),u;const h={};h.credentials="anonymous"===this.crossOrigin?"same-origin":"include",h.headers=this.requestHeader,fetch(e,h).then(function(g){return g.blob()}).then(function(g){return createImageBitmap(g,Object.assign(a.options,{colorSpaceConversion:"none"}))}).then(function(g){ac.add(e,g),t&&t(g),a.manager.itemEnd(e)}).catch(function(g){i&&i(g),a.manager.itemError(e),a.manager.itemEnd(e)}),a.manager.itemStart(e)}}class Rp{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=rI(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=rI();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}function rI(){return("undefined"==typeof performance?Date:performance).now()}const gf="\\[\\]\\.:\\/",Fp=new RegExp("["+gf+"]","g"),Cu="[^"+gf+"]",kp="[^"+gf.replace("\\.","")+"]",fI=new RegExp("^"+/((?:WC+[\/:])*)/.source.replace("WC",Cu)+/(WCOD+)?/.source.replace("WCOD",kp)+/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",Cu)+/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",Cu)+"$"),gI=["material","materials","bones"];class pI{constructor(e,t,n){const i=n||er.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,i)}getValue(e,t){this.bind();const i=this._bindings[this._targetGroup.nCachedObjects_];void 0!==i&&i.getValue(e,t)}setValue(e,t){const n=this._bindings;for(let i=this._targetGroup.nCachedObjects_,a=n.length;i!==a;++i)n[i].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].unbind()}}let er=(()=>{class o{constructor(t,n,i){this.path=n,this.parsedPath=i||o.parseTrackName(n),this.node=o.findNode(t,this.parsedPath.nodeName)||t,this.rootNode=t,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(t,n,i){return t&&t.isAnimationObjectGroup?new o.Composite(t,n,i):new o(t,n,i)}static sanitizeNodeName(t){return t.replace(/\s/g,"_").replace(Fp,"")}static parseTrackName(t){const n=fI.exec(t);if(null===n)throw new Error("PropertyBinding: Cannot parse trackName: "+t);const i={nodeName:n[2],objectName:n[3],objectIndex:n[4],propertyName:n[5],propertyIndex:n[6]},a=i.nodeName&&i.nodeName.lastIndexOf(".");if(void 0!==a&&-1!==a){const u=i.nodeName.substring(a+1);-1!==gI.indexOf(u)&&(i.nodeName=i.nodeName.substring(0,a),i.objectName=u)}if(null===i.propertyName||0===i.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+t);return i}static findNode(t,n){if(void 0===n||""===n||"."===n||-1===n||n===t.name||n===t.uuid)return t;if(t.skeleton){const i=t.skeleton.getBoneByName(n);if(void 0!==i)return i}if(t.children){const i=function(u){for(let h=0;h<u.length;h++){const g=u[h];if(g.name===n||g.uuid===n)return g;const p=i(g.children);if(p)return p}return null},a=i(t.children);if(a)return a}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(t,n){t[n]=this.targetObject[this.propertyName]}_getValue_array(t,n){const i=this.resolvedProperty;for(let a=0,u=i.length;a!==u;++a)t[n++]=i[a]}_getValue_arrayElement(t,n){t[n]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(t,n){this.resolvedProperty.toArray(t,n)}_setValue_direct(t,n){this.targetObject[this.propertyName]=t[n]}_setValue_direct_setNeedsUpdate(t,n){this.targetObject[this.propertyName]=t[n],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(t,n){this.targetObject[this.propertyName]=t[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(t,n){const i=this.resolvedProperty;for(let a=0,u=i.length;a!==u;++a)i[a]=t[n++]}_setValue_array_setNeedsUpdate(t,n){const i=this.resolvedProperty;for(let a=0,u=i.length;a!==u;++a)i[a]=t[n++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(t,n){const i=this.resolvedProperty;for(let a=0,u=i.length;a!==u;++a)i[a]=t[n++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(t,n){this.resolvedProperty[this.propertyIndex]=t[n]}_setValue_arrayElement_setNeedsUpdate(t,n){this.resolvedProperty[this.propertyIndex]=t[n],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(t,n){this.resolvedProperty[this.propertyIndex]=t[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(t,n){this.resolvedProperty.fromArray(t,n)}_setValue_fromArray_setNeedsUpdate(t,n){this.resolvedProperty.fromArray(t,n),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(t,n){this.resolvedProperty.fromArray(t,n),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(t,n){this.bind(),this.getValue(t,n)}_setValue_unbound(t,n){this.bind(),this.setValue(t,n)}bind(){let t=this.node;const n=this.parsedPath,i=n.objectName,a=n.propertyName;let u=n.propertyIndex;if(t||(t=o.findNode(this.rootNode,n.nodeName)||this.rootNode,this.node=t),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!t)return void console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");if(i){let C=n.objectIndex;switch(i){case"materials":if(!t.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!t.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);t=t.material.materials;break;case"bones":if(!t.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);t=t.skeleton.bones;for(let A=0;A<t.length;A++)if(t[A].name===C){C=A;break}break;default:if(void 0===t[i])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);t=t[i]}if(void 0!==C){if(void 0===t[C])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,t);t=t[C]}}const h=t[a];if(void 0===h)return void console.error("THREE.PropertyBinding: Trying to update property for track: "+n.nodeName+"."+a+" but it wasn't found.",t);let g=this.Versioning.None;this.targetObject=t,void 0!==t.needsUpdate?g=this.Versioning.NeedsUpdate:void 0!==t.matrixWorldNeedsUpdate&&(g=this.Versioning.MatrixWorldNeedsUpdate);let p=this.BindingType.Direct;if(void 0!==u){if("morphTargetInfluences"===a){if(!t.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(!t.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);void 0!==t.morphTargetDictionary[u]&&(u=t.morphTargetDictionary[u])}p=this.BindingType.ArrayElement,this.resolvedProperty=h,this.propertyIndex=u}else void 0!==h.fromArray&&void 0!==h.toArray?(p=this.BindingType.HasFromToArray,this.resolvedProperty=h):Array.isArray(h)?(p=this.BindingType.EntireArray,this.resolvedProperty=h):this.propertyName=a;this.getValue=this.GetterByBindingType[p],this.setValue=this.SetterByBindingTypeAndVersioning[p][g]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}return o.Composite=pI,o})();er.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},er.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},er.prototype.GetterByBindingType=[er.prototype._getValue_direct,er.prototype._getValue_array,er.prototype._getValue_arrayElement,er.prototype._getValue_toArray],er.prototype.SetterByBindingTypeAndVersioning=[[er.prototype._setValue_direct,er.prototype._setValue_direct_setNeedsUpdate,er.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[er.prototype._setValue_array,er.prototype._setValue_array_setNeedsUpdate,er.prototype._setValue_array_setMatrixWorldNeedsUpdate],[er.prototype._setValue_arrayElement,er.prototype._setValue_arrayElement_setNeedsUpdate,er.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[er.prototype._setValue_fromArray,er.prototype._setValue_fromArray_setNeedsUpdate,er.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]],new Float32Array(1);const Gp=new se,an=new Gu;class V0 extends Vh{constructor(e){const t=new ii,n=new Hs({color:16777215,vertexColors:!0,toneMapped:!1}),i=[],a=[],u={};function h(E,S){g(E),g(S)}function g(E){i.push(0,0,0),a.push(0,0,0),void 0===u[E]&&(u[E]=[]),u[E].push(i.length/3-1)}h("n1","n2"),h("n2","n4"),h("n4","n3"),h("n3","n1"),h("f1","f2"),h("f2","f4"),h("f4","f3"),h("f3","f1"),h("n1","f1"),h("n2","f2"),h("n3","f3"),h("n4","f4"),h("p","n1"),h("p","n2"),h("p","n3"),h("p","n4"),h("u1","u2"),h("u2","u3"),h("u3","u1"),h("c","t"),h("p","c"),h("cn1","cn2"),h("cn3","cn4"),h("cf1","cf2"),h("cf3","cf4"),t.setAttribute("position",new on(i,3)),t.setAttribute("color",new on(a,3)),super(t,n),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=u,this.update();const p=new $t(16755200),C=new $t(16711680),A=new $t(43775),v=new $t(16777215),b=new $t(3355443);this.setColors(p,C,A,v,b)}setColors(e,t,n,i,a){const h=this.geometry.getAttribute("color");h.setXYZ(0,e.r,e.g,e.b),h.setXYZ(1,e.r,e.g,e.b),h.setXYZ(2,e.r,e.g,e.b),h.setXYZ(3,e.r,e.g,e.b),h.setXYZ(4,e.r,e.g,e.b),h.setXYZ(5,e.r,e.g,e.b),h.setXYZ(6,e.r,e.g,e.b),h.setXYZ(7,e.r,e.g,e.b),h.setXYZ(8,e.r,e.g,e.b),h.setXYZ(9,e.r,e.g,e.b),h.setXYZ(10,e.r,e.g,e.b),h.setXYZ(11,e.r,e.g,e.b),h.setXYZ(12,e.r,e.g,e.b),h.setXYZ(13,e.r,e.g,e.b),h.setXYZ(14,e.r,e.g,e.b),h.setXYZ(15,e.r,e.g,e.b),h.setXYZ(16,e.r,e.g,e.b),h.setXYZ(17,e.r,e.g,e.b),h.setXYZ(18,e.r,e.g,e.b),h.setXYZ(19,e.r,e.g,e.b),h.setXYZ(20,e.r,e.g,e.b),h.setXYZ(21,e.r,e.g,e.b),h.setXYZ(22,e.r,e.g,e.b),h.setXYZ(23,e.r,e.g,e.b),h.setXYZ(24,t.r,t.g,t.b),h.setXYZ(25,t.r,t.g,t.b),h.setXYZ(26,t.r,t.g,t.b),h.setXYZ(27,t.r,t.g,t.b),h.setXYZ(28,t.r,t.g,t.b),h.setXYZ(29,t.r,t.g,t.b),h.setXYZ(30,t.r,t.g,t.b),h.setXYZ(31,t.r,t.g,t.b),h.setXYZ(32,n.r,n.g,n.b),h.setXYZ(33,n.r,n.g,n.b),h.setXYZ(34,n.r,n.g,n.b),h.setXYZ(35,n.r,n.g,n.b),h.setXYZ(36,n.r,n.g,n.b),h.setXYZ(37,n.r,n.g,n.b),h.setXYZ(38,i.r,i.g,i.b),h.setXYZ(39,i.r,i.g,i.b),h.setXYZ(40,a.r,a.g,a.b),h.setXYZ(41,a.r,a.g,a.b),h.setXYZ(42,a.r,a.g,a.b),h.setXYZ(43,a.r,a.g,a.b),h.setXYZ(44,a.r,a.g,a.b),h.setXYZ(45,a.r,a.g,a.b),h.setXYZ(46,a.r,a.g,a.b),h.setXYZ(47,a.r,a.g,a.b),h.setXYZ(48,a.r,a.g,a.b),h.setXYZ(49,a.r,a.g,a.b),h.needsUpdate=!0}update(){const e=this.geometry,t=this.pointMap;an.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),Mr("c",t,e,an,0,0,-1),Mr("t",t,e,an,0,0,1),Mr("n1",t,e,an,-1,-1,-1),Mr("n2",t,e,an,1,-1,-1),Mr("n3",t,e,an,-1,1,-1),Mr("n4",t,e,an,1,1,-1),Mr("f1",t,e,an,-1,-1,1),Mr("f2",t,e,an,1,-1,1),Mr("f3",t,e,an,-1,1,1),Mr("f4",t,e,an,1,1,1),Mr("u1",t,e,an,.7,1.1,-1),Mr("u2",t,e,an,-.7,1.1,-1),Mr("u3",t,e,an,0,2,-1),Mr("cf1",t,e,an,-1,0,1),Mr("cf2",t,e,an,1,0,1),Mr("cf3",t,e,an,0,-1,1),Mr("cf4",t,e,an,0,1,1),Mr("cn1",t,e,an,-1,0,-1),Mr("cn2",t,e,an,1,0,-1),Mr("cn3",t,e,an,0,-1,-1),Mr("cn4",t,e,an,0,1,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function Mr(o,e,t,n,i,a,u){Gp.set(i,a,u).unproject(n);const h=e[o];if(void 0!==h){const g=t.getAttribute("position");for(let p=0,C=h.length;p<C;p++)g.setXYZ(h[p],Gp.x,Gp.y,Gp.z)}}"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:"143"}})),"undefined"!=typeof window&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__="143");const Ed={uniforms:{tDiffuse:{value:null},opacity:{value:1}},vertexShader:"\n\n\t\tvarying vec2 vUv;\n\n\t\tvoid main() {\n\n\t\t\tvUv = uv;\n\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\n\t\t}",fragmentShader:"\n\n\t\tuniform float opacity;\n\n\t\tuniform sampler2D tDiffuse;\n\n\t\tvarying vec2 vUv;\n\n\t\tvoid main() {\n\n\t\t\tgl_FragColor = texture2D( tDiffuse, vUv );\n\t\t\tgl_FragColor.a *= opacity;\n\n\n\t\t}"};class Au{constructor(){this.enabled=!0,this.needsSwap=!0,this.clear=!1,this.renderToScreen=!1}setSize(){}render(){console.error("THREE.Pass: .render() must be implemented in derived pass.")}}const z0=new dl(-1,1,1,-1,0,1),uc=new ii;uc.setAttribute("position",new on([-1,3,0,-1,-1,0,3,-1,0],3)),uc.setAttribute("uv",new on([0,2,0,0,2,0],2));class Iu{constructor(e){this._mesh=new Pr(uc,e)}dispose(){this._mesh.geometry.dispose()}render(e){e.render(this._mesh,z0)}get material(){return this._mesh.material}set material(e){this._mesh.material=e}}class MI extends Au{constructor(e,t){super(),this.textureID=void 0!==t?t:"tDiffuse",e instanceof ks?(this.uniforms=e.uniforms,this.material=e):e&&(this.uniforms=gh.clone(e.uniforms),this.material=new ks({defines:Object.assign({},e.defines),uniforms:this.uniforms,vertexShader:e.vertexShader,fragmentShader:e.fragmentShader})),this.fsQuad=new Iu(this.material)}render(e,t,n){this.uniforms[this.textureID]&&(this.uniforms[this.textureID].value=n.texture),this.fsQuad.material=this.material,this.renderToScreen?(e.setRenderTarget(null),this.fsQuad.render(e)):(e.setRenderTarget(t),this.clear&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),this.fsQuad.render(e))}}class SI extends Au{constructor(e,t){super(),this.scene=e,this.camera=t,this.clear=!0,this.needsSwap=!1,this.inverse=!1}render(e,t,n){const i=e.getContext(),a=e.state;let u,h;a.buffers.color.setMask(!1),a.buffers.depth.setMask(!1),a.buffers.color.setLocked(!0),a.buffers.depth.setLocked(!0),this.inverse?(u=0,h=1):(u=1,h=0),a.buffers.stencil.setTest(!0),a.buffers.stencil.setOp(i.REPLACE,i.REPLACE,i.REPLACE),a.buffers.stencil.setFunc(i.ALWAYS,u,4294967295),a.buffers.stencil.setClear(h),a.buffers.stencil.setLocked(!0),e.setRenderTarget(n),this.clear&&e.clear(),e.render(this.scene,this.camera),e.setRenderTarget(t),this.clear&&e.clear(),e.render(this.scene,this.camera),a.buffers.color.setLocked(!1),a.buffers.depth.setLocked(!1),a.buffers.stencil.setLocked(!1),a.buffers.stencil.setFunc(i.EQUAL,1,4294967295),a.buffers.stencil.setOp(i.KEEP,i.KEEP,i.KEEP),a.buffers.stencil.setLocked(!0)}}class G0 extends Au{constructor(){super(),this.needsSwap=!1}render(e){e.state.buffers.stencil.setLocked(!1),e.state.buffers.stencil.setTest(!1)}}class TI{constructor(e,t){if(this.renderer=e,void 0===t){const n=e.getSize(new vt);this._pixelRatio=e.getPixelRatio(),this._width=n.width,this._height=n.height,(t=new Is(this._width*this._pixelRatio,this._height*this._pixelRatio)).texture.name="EffectComposer.rt1"}else this._pixelRatio=1,this._width=t.width,this._height=t.height;this.renderTarget1=t,this.renderTarget2=t.clone(),this.renderTarget2.texture.name="EffectComposer.rt2",this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2,this.renderToScreen=!0,this.passes=[],void 0===Ed&&console.error("THREE.EffectComposer relies on CopyShader"),void 0===MI&&console.error("THREE.EffectComposer relies on ShaderPass"),this.copyPass=new MI(Ed),this.clock=new Rp}swapBuffers(){const e=this.readBuffer;this.readBuffer=this.writeBuffer,this.writeBuffer=e}addPass(e){this.passes.push(e),e.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}insertPass(e,t){this.passes.splice(t,0,e),e.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}removePass(e){const t=this.passes.indexOf(e);-1!==t&&this.passes.splice(t,1)}isLastEnabledPass(e){for(let t=e+1;t<this.passes.length;t++)if(this.passes[t].enabled)return!1;return!0}render(e){void 0===e&&(e=this.clock.getDelta());const t=this.renderer.getRenderTarget();let n=!1;for(let i=0,a=this.passes.length;i<a;i++){const u=this.passes[i];if(!1!==u.enabled){if(u.renderToScreen=this.renderToScreen&&this.isLastEnabledPass(i),u.render(this.renderer,this.writeBuffer,this.readBuffer,e,n),u.needsSwap){if(n){const h=this.renderer.getContext(),g=this.renderer.state.buffers.stencil;g.setFunc(h.NOTEQUAL,1,4294967295),this.copyPass.render(this.renderer,this.writeBuffer,this.readBuffer,e),g.setFunc(h.EQUAL,1,4294967295)}this.swapBuffers()}void 0!==SI&&(u instanceof SI?n=!0:u instanceof G0&&(n=!1))}}this.renderer.setRenderTarget(t)}reset(e){if(void 0===e){const t=this.renderer.getSize(new vt);this._pixelRatio=this.renderer.getPixelRatio(),this._width=t.width,this._height=t.height,(e=this.renderTarget1.clone()).setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}this.renderTarget1.dispose(),this.renderTarget2.dispose(),this.renderTarget1=e,this.renderTarget2=e.clone(),this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2}setSize(e,t){this._width=e,this._height=t;const n=this._width*this._pixelRatio,i=this._height*this._pixelRatio;this.renderTarget1.setSize(n,i),this.renderTarget2.setSize(n,i);for(let a=0;a<this.passes.length;a++)this.passes[a].setSize(n,i)}setPixelRatio(e){this._pixelRatio=e,this.setSize(this._width,this._height)}}new dl(-1,1,1,-1,0,1);const Zp=new ii;Zp.setAttribute("position",new on([-1,3,0,-1,-1,0,3,-1,0],3)),Zp.setAttribute("uv",new on([0,2,0,0,2,0],2));class $0 extends Au{constructor(e,t,n,i,a){super(),this.scene=e,this.camera=t,this.overrideMaterial=n,this.clearColor=i,this.clearAlpha=void 0!==a?a:0,this.clear=!0,this.clearDepth=!1,this.needsSwap=!1,this._oldClearColor=new $t}render(e,t,n){const i=e.autoClear;let a,u;e.autoClear=!1,void 0!==this.overrideMaterial&&(u=this.scene.overrideMaterial,this.scene.overrideMaterial=this.overrideMaterial),this.clearColor&&(e.getClearColor(this._oldClearColor),a=e.getClearAlpha(),e.setClearColor(this.clearColor,this.clearAlpha)),this.clearDepth&&e.clearDepth(),e.setRenderTarget(this.renderToScreen?null:n),this.clear&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),e.render(this.scene,this.camera),this.clearColor&&e.setClearColor(this._oldClearColor,a),void 0!==this.overrideMaterial&&(this.scene.overrideMaterial=u),e.autoClear=i}}const DI={shaderID:"luminosityHighPass",uniforms:{tDiffuse:{value:null},luminosityThreshold:{value:1},smoothWidth:{value:1},defaultColor:{value:new $t(0)},defaultOpacity:{value:0}},vertexShader:"\n\n\t\tvarying vec2 vUv;\n\n\t\tvoid main() {\n\n\t\t\tvUv = uv;\n\n\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\n\t\t}",fragmentShader:"\n\n\t\tuniform sampler2D tDiffuse;\n\t\tuniform vec3 defaultColor;\n\t\tuniform float defaultOpacity;\n\t\tuniform float luminosityThreshold;\n\t\tuniform float smoothWidth;\n\n\t\tvarying vec2 vUv;\n\n\t\tvoid main() {\n\n\t\t\tvec4 texel = texture2D( tDiffuse, vUv );\n\n\t\t\tvec3 luma = vec3( 0.299, 0.587, 0.114 );\n\n\t\t\tfloat v = dot( texel.xyz, luma );\n\n\t\t\tvec4 outputColor = vec4( defaultColor.rgb, defaultOpacity );\n\n\t\t\tfloat alpha = smoothstep( luminosityThreshold, luminosityThreshold + smoothWidth, v );\n\n\t\t\tgl_FragColor = mix( outputColor, texel, alpha );\n\n\t\t}"};class Dd extends Au{constructor(e,t,n,i){super(),this.strength=void 0!==t?t:1,this.radius=n,this.threshold=i,this.resolution=void 0!==e?new vt(e.x,e.y):new vt(256,256),this.clearColor=new $t(0,0,0),this.renderTargetsHorizontal=[],this.renderTargetsVertical=[],this.nMips=5;let a=Math.round(this.resolution.x/2),u=Math.round(this.resolution.y/2);this.renderTargetBright=new Is(a,u),this.renderTargetBright.texture.name="UnrealBloomPass.bright",this.renderTargetBright.texture.generateMipmaps=!1;for(let A=0;A<this.nMips;A++){const v=new Is(a,u);v.texture.name="UnrealBloomPass.h"+A,v.texture.generateMipmaps=!1,this.renderTargetsHorizontal.push(v);const b=new Is(a,u);b.texture.name="UnrealBloomPass.v"+A,b.texture.generateMipmaps=!1,this.renderTargetsVertical.push(b),a=Math.round(a/2),u=Math.round(u/2)}void 0===DI&&console.error("THREE.UnrealBloomPass relies on LuminosityHighPassShader");const h=DI;this.highPassUniforms=gh.clone(h.uniforms),this.highPassUniforms.luminosityThreshold.value=i,this.highPassUniforms.smoothWidth.value=.01,this.materialHighPassFilter=new ks({uniforms:this.highPassUniforms,vertexShader:h.vertexShader,fragmentShader:h.fragmentShader,defines:{}}),this.separableBlurMaterials=[];const g=[3,5,7,9,11];a=Math.round(this.resolution.x/2),u=Math.round(this.resolution.y/2);for(let A=0;A<this.nMips;A++)this.separableBlurMaterials.push(this.getSeperableBlurMaterial(g[A])),this.separableBlurMaterials[A].uniforms.texSize.value=new vt(a,u),a=Math.round(a/2),u=Math.round(u/2);this.compositeMaterial=this.getCompositeMaterial(this.nMips),this.compositeMaterial.uniforms.blurTexture1.value=this.renderTargetsVertical[0].texture,this.compositeMaterial.uniforms.blurTexture2.value=this.renderTargetsVertical[1].texture,this.compositeMaterial.uniforms.blurTexture3.value=this.renderTargetsVertical[2].texture,this.compositeMaterial.uniforms.blurTexture4.value=this.renderTargetsVertical[3].texture,this.compositeMaterial.uniforms.blurTexture5.value=this.renderTargetsVertical[4].texture,this.compositeMaterial.uniforms.bloomStrength.value=t,this.compositeMaterial.uniforms.bloomRadius.value=.1,this.compositeMaterial.needsUpdate=!0,this.compositeMaterial.uniforms.bloomFactors.value=[1,.8,.6,.4,.2],this.bloomTintColors=[new se(1,1,1),new se(1,1,1),new se(1,1,1),new se(1,1,1),new se(1,1,1)],this.compositeMaterial.uniforms.bloomTintColors.value=this.bloomTintColors,void 0===Ed&&console.error("THREE.UnrealBloomPass relies on CopyShader");const C=Ed;this.copyUniforms=gh.clone(C.uniforms),this.copyUniforms.opacity.value=1,this.materialCopy=new ks({uniforms:this.copyUniforms,vertexShader:C.vertexShader,fragmentShader:C.fragmentShader,blending:2,depthTest:!1,depthWrite:!1,transparent:!0}),this.enabled=!0,this.needsSwap=!1,this._oldClearColor=new $t,this.oldClearAlpha=1,this.basic=new Ks,this.fsQuad=new Iu(null)}dispose(){for(let e=0;e<this.renderTargetsHorizontal.length;e++)this.renderTargetsHorizontal[e].dispose();for(let e=0;e<this.renderTargetsVertical.length;e++)this.renderTargetsVertical[e].dispose();this.renderTargetBright.dispose()}setSize(e,t){let n=Math.round(e/2),i=Math.round(t/2);this.renderTargetBright.setSize(n,i);for(let a=0;a<this.nMips;a++)this.renderTargetsHorizontal[a].setSize(n,i),this.renderTargetsVertical[a].setSize(n,i),this.separableBlurMaterials[a].uniforms.texSize.value=new vt(n,i),n=Math.round(n/2),i=Math.round(i/2)}render(e,t,n,i,a){e.getClearColor(this._oldClearColor),this.oldClearAlpha=e.getClearAlpha();const u=e.autoClear;e.autoClear=!1,e.setClearColor(this.clearColor,0),a&&e.state.buffers.stencil.setTest(!1),this.renderToScreen&&(this.fsQuad.material=this.basic,this.basic.map=n.texture,e.setRenderTarget(null),e.clear(),this.fsQuad.render(e)),this.highPassUniforms.tDiffuse.value=n.texture,this.highPassUniforms.luminosityThreshold.value=this.threshold,this.fsQuad.material=this.materialHighPassFilter,e.setRenderTarget(this.renderTargetBright),e.clear(),this.fsQuad.render(e);let h=this.renderTargetBright;for(let g=0;g<this.nMips;g++)this.fsQuad.material=this.separableBlurMaterials[g],this.separableBlurMaterials[g].uniforms.colorTexture.value=h.texture,this.separableBlurMaterials[g].uniforms.direction.value=Dd.BlurDirectionX,e.setRenderTarget(this.renderTargetsHorizontal[g]),e.clear(),this.fsQuad.render(e),this.separableBlurMaterials[g].uniforms.colorTexture.value=this.renderTargetsHorizontal[g].texture,this.separableBlurMaterials[g].uniforms.direction.value=Dd.BlurDirectionY,e.setRenderTarget(this.renderTargetsVertical[g]),e.clear(),this.fsQuad.render(e),h=this.renderTargetsVertical[g];this.fsQuad.material=this.compositeMaterial,this.compositeMaterial.uniforms.bloomStrength.value=this.strength,this.compositeMaterial.uniforms.bloomRadius.value=this.radius,this.compositeMaterial.uniforms.bloomTintColors.value=this.bloomTintColors,e.setRenderTarget(this.renderTargetsHorizontal[0]),e.clear(),this.fsQuad.render(e),this.fsQuad.material=this.materialCopy,this.copyUniforms.tDiffuse.value=this.renderTargetsHorizontal[0].texture,a&&e.state.buffers.stencil.setTest(!0),this.renderToScreen?(e.setRenderTarget(null),this.fsQuad.render(e)):(e.setRenderTarget(n),this.fsQuad.render(e)),e.setClearColor(this._oldClearColor,this.oldClearAlpha),e.autoClear=u}getSeperableBlurMaterial(e){return new ks({defines:{KERNEL_RADIUS:e,SIGMA:e},uniforms:{colorTexture:{value:null},texSize:{value:new vt(.5,.5)},direction:{value:new vt(.5,.5)}},vertexShader:"varying vec2 vUv;\n\t\t\t\tvoid main() {\n\t\t\t\t\tvUv = uv;\n\t\t\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\t\t\t\t}",fragmentShader:"#include <common>\n\t\t\t\tvarying vec2 vUv;\n\t\t\t\tuniform sampler2D colorTexture;\n\t\t\t\tuniform vec2 texSize;\n\t\t\t\tuniform vec2 direction;\n\n\t\t\t\tfloat gaussianPdf(in float x, in float sigma) {\n\t\t\t\t\treturn 0.39894 * exp( -0.5 * x * x/( sigma * sigma))/sigma;\n\t\t\t\t}\n\t\t\t\tvoid main() {\n\t\t\t\t\tvec2 invSize = 1.0 / texSize;\n\t\t\t\t\tfloat fSigma = float(SIGMA);\n\t\t\t\t\tfloat weightSum = gaussianPdf(0.0, fSigma);\n\t\t\t\t\tvec3 diffuseSum = texture2D( colorTexture, vUv).rgb * weightSum;\n\t\t\t\t\tfor( int i = 1; i < KERNEL_RADIUS; i ++ ) {\n\t\t\t\t\t\tfloat x = float(i);\n\t\t\t\t\t\tfloat w = gaussianPdf(x, fSigma);\n\t\t\t\t\t\tvec2 uvOffset = direction * invSize * x;\n\t\t\t\t\t\tvec3 sample1 = texture2D( colorTexture, vUv + uvOffset).rgb;\n\t\t\t\t\t\tvec3 sample2 = texture2D( colorTexture, vUv - uvOffset).rgb;\n\t\t\t\t\t\tdiffuseSum += (sample1 + sample2) * w;\n\t\t\t\t\t\tweightSum += 2.0 * w;\n\t\t\t\t\t}\n\t\t\t\t\tgl_FragColor = vec4(diffuseSum/weightSum, 1.0);\n\t\t\t\t}"})}getCompositeMaterial(e){return new ks({defines:{NUM_MIPS:e},uniforms:{blurTexture1:{value:null},blurTexture2:{value:null},blurTexture3:{value:null},blurTexture4:{value:null},blurTexture5:{value:null},bloomStrength:{value:1},bloomFactors:{value:null},bloomTintColors:{value:null},bloomRadius:{value:0}},vertexShader:"varying vec2 vUv;\n\t\t\t\tvoid main() {\n\t\t\t\t\tvUv = uv;\n\t\t\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\t\t\t\t}",fragmentShader:"varying vec2 vUv;\n\t\t\t\tuniform sampler2D blurTexture1;\n\t\t\t\tuniform sampler2D blurTexture2;\n\t\t\t\tuniform sampler2D blurTexture3;\n\t\t\t\tuniform sampler2D blurTexture4;\n\t\t\t\tuniform sampler2D blurTexture5;\n\t\t\t\tuniform float bloomStrength;\n\t\t\t\tuniform float bloomRadius;\n\t\t\t\tuniform float bloomFactors[NUM_MIPS];\n\t\t\t\tuniform vec3 bloomTintColors[NUM_MIPS];\n\n\t\t\t\tfloat lerpBloomFactor(const in float factor) {\n\t\t\t\t\tfloat mirrorFactor = 1.2 - factor;\n\t\t\t\t\treturn mix(factor, mirrorFactor, bloomRadius);\n\t\t\t\t}\n\n\t\t\t\tvoid main() {\n\t\t\t\t\tgl_FragColor = bloomStrength * ( lerpBloomFactor(bloomFactors[0]) * vec4(bloomTintColors[0], 1.0) * texture2D(blurTexture1, vUv) +\n\t\t\t\t\t\tlerpBloomFactor(bloomFactors[1]) * vec4(bloomTintColors[1], 1.0) * texture2D(blurTexture2, vUv) +\n\t\t\t\t\t\tlerpBloomFactor(bloomFactors[2]) * vec4(bloomTintColors[2], 1.0) * texture2D(blurTexture3, vUv) +\n\t\t\t\t\t\tlerpBloomFactor(bloomFactors[3]) * vec4(bloomTintColors[3], 1.0) * texture2D(blurTexture4, vUv) +\n\t\t\t\t\t\tlerpBloomFactor(bloomFactors[4]) * vec4(bloomTintColors[4], 1.0) * texture2D(blurTexture5, vUv) );\n\t\t\t\t}"})}}Dd.BlurDirectionX=new vt(1,0),Dd.BlurDirectionY=new vt(0,1);const _M=["canvas"];let vM=(()=>{class o{constructor(t){var n;this.animationService=t,this.idAnimationEclipse=-1,this.idAnimationRemoveEclipse=-1,this.height=window.innerHeight,null===(n=this.animationService.startAnimationGlowSun$)||void 0===n||n.subscribe(i=>{console.log("nel sun glow: "+i),"dark"==i&&this.eclipseAnimation(),"light"==i&&this.removeEclipseAnimation()})}get canvas(){return this.canvasRef.nativeElement}setupResize(){window.addEventListener("resize",this.resize.bind(this))}resize(){this.renderer.setSize(window.innerWidth,this.height),this.camera.aspect=window.innerWidth/this.height,this.bloomComposer.setSize(window.innerWidth,this.height),this.camera.updateProjectionMatrix()}ngAfterViewInit(){this.createScene()}ngOnInit(){}createScene(){this.scene=new zc,this.scene.background=null,this.ambientLight=new uf(0,1),this.ambientLight.position.y=200,this.ambientLight.position.set(0,-10,5),this.scene.add(this.ambientLight),this.directionalLight=new gu(16777215,1),this.directionalLight.position.set(0,-1,4),this.scene.add(this.directionalLight);let t=this.getAspectRatio();this.camera=new hr(75,t,.01,300),this.camera.position.z=5,this.camera.position.y=2,this.camera.lookAt(0,0,0),this.camera.name="principale";const n=new V0(this.directionalLight.shadow.camera);this.scene.add(n),this.renderer=new id({alpha:!0,antialias:!0,canvas:this.canvas}),this.renderer.autoClear=!1,this.renderer.setClearColor(0,0),this.renderer.setPixelRatio(window.devicePixelRatio?window.devicePixelRatio:1),this.renderer.setSize(window.innerWidth,this.height);let i=this.scene,a=this.camera;a.position.z=6;const u=new $0(i,a);this.bloomPass=new Dd(new vt(window.innerWidth,this.height),1.9,.9,3.85),this.bloomPass.threshold=0,this.bloomPass.strength=1.8,this.bloomPass.radius=2;const h=new TI(this.renderer);h.setSize(window.innerWidth,this.height),h.renderToScreen=!0,h.addPass(u),h.addPass(this.bloomPass),this.bloomComposer=h;const g=new $t("#FDB813"),p=new rc(.95,25),C=new Ks({color:g});this.sphereGlow=new Pr(p,C),this.sphereGlow.position.set(0,1.55,0),this.sphereGlow.layers.set(1),this.scene.add(this.sphereGlow);const A=new Al(80,64,64);this.starMaterial=new Ks({map:(new lc).load("assets/images/solids/starGalaxy.png"),side:1,transparent:!0,lightMapIntensity:500,reflectivity:1500});const v=new Pr(A,this.starMaterial);let b;v.layers.set(1),this.scene.add(v),function S(){b=requestAnimationFrame(S),a.layers.set(1),h.render()}(),this.resize(),this.setupResize()}eclipseAnimation(){let t=this.scene,n=this.camera,i=this;!function a(){i.idAnimationEclipse=requestAnimationFrame(a),i.eclipseAnimationStart(i.idAnimationEclipse),i.renderer.render(t,n)}()}eclipseAnimationStart(t){this.idAnimationEclipse=t,this.bloomPass.radius>.8&&(this.bloomPass.radius-=.004),this.bloomPass.strength>.8&&(this.bloomPass.strength-=.003),this.bloomPass.radius<1.69&&(this.starMaterial.transparent=!1),this.bloomPass.radius<.8&&(console.log("cancellato "+this.bloomPass.radius),cancelAnimationFrame(t),this.idAnimationEclipse=-1),this.camera.layers.set(1),this.bloomComposer.render()}removeEclipseAnimation(){let t=this.scene,n=this.camera,i=this;!function a(){i.idAnimationEclipse=requestAnimationFrame(a),i.removeEclipseAnimationStart(i.idAnimationEclipse),i.renderer.render(t,n)}()}removeEclipseAnimationStart(t){this.idAnimationEclipse=t,this.bloomPass.radius<=2&&(this.bloomPass.radius+=.002),this.bloomPass.strength<=1.8&&(this.bloomPass.strength+=.003),this.bloomPass.radius>1.68&&(this.starMaterial.transparent=!0),this.bloomPass.radius>=2&&(cancelAnimationFrame(t),this.idAnimationRemoveEclipse=-1),this.camera.layers.set(1),this.bloomComposer.render()}getAspectRatio(){return window.innerWidth/this.height}}return o.\u0275fac=function(t){return new(t||o)(c.Y36(xe))},o.\u0275cmp=c.Xpm({type:o,selectors:[["app-sun-glow"]],viewQuery:function(t,n){if(1&t&&c.Gf(_M,5),2&t){let i;c.iGM(i=c.CRH())&&(n.canvasRef=i.first)}},decls:3,vars:0,consts:[[1,"containerSunGlowCanva"],["id","canvas",1,"sunGlowCanvas",2,"border","3px solid black","width","100%"],["canvas",""]],template:function(t,n){1&t&&(c.TgZ(0,"div",0),c._UZ(1,"canvas",1,2),c.qZA())},styles:[".sunGlowCanvas[_ngcontent-%COMP%]{position:absolute;z-index:-1999}"]}),o})();const yM=["canvas"];let PI=(()=>{class o{constructor(t){this.animationService=t,this.height=window.innerHeight}get canvas(){return this.canvasRef.nativeElement}ngAfterViewInit(){this.createScene()}ngOnInit(){}createScene(){this.scene=new zc,this.scene.background=null,this.ambientLight=new uf(0,1),this.ambientLight.position.y=200,this.ambientLight.position.set(0,-10,5),this.scene.add(this.ambientLight),this.directionalLight=new gu(16777215,1),this.directionalLight.position.set(0,-1,4),this.scene.add(this.directionalLight),this.light1=new go(16754253,1),this.light1.position.set(0,-50,300),this.scene.add(this.light1),this.light2=new go(15085056,4),this.light2.position.set(0,-100,500),this.light2.intensity=2,this.scene.add(this.light2),this.light3=new go(4929308,20),this.light3.position.set(0,0,0),this.scene.add(this.light3),this.light4=new go(4929308,.5),this.light4.position.set(-500,300,500),this.scene.add(this.light4);const t=new Al(35,50,50),n=new sc({map:(new lc).load("assets/images/solids/sunSolid.jpg")}),i=new Pr(t,n);i.position.y=62.5,this.scene.add(i);let a=this.getAspectRatio();this.camera=new hr(75,a,.01,300),this.camera.position.z=200,this.camera.position.y=2,this.camera.lookAt(0,0,0);const u=new id({alpha:!0,antialias:!0,canvas:this.canvas});u.autoClear=!1,u.setClearColor(0,0),u.setPixelRatio(devicePixelRatio),u.setSize(window.innerWidth,this.height),this.renderer=u;let p,h=this.scene,g=this.camera;(function C(){p=requestAnimationFrame(C),u.render(h,g),i.rotation.y+=.003})(),console.log("id: "+p),function C(){requestAnimationFrame(C),u.render(h,g)}(),this.setupResize(),this.resize()}setupResize(){window.addEventListener("resize",this.resize.bind(this))}resize(){this.renderer.setSize(window.innerWidth,this.height),this.camera.aspect=window.innerWidth/this.height,this.camera.updateProjectionMatrix()}getAspectRatio(){return window.innerWidth/this.height}}return o.\u0275fac=function(t){return new(t||o)(c.Y36(xe))},o.\u0275cmp=c.Xpm({type:o,selectors:[["app-sun-solid"]],viewQuery:function(t,n){if(1&t&&c.Gf(yM,5),2&t){let i;c.iGM(i=c.CRH())&&(n.canvasRef=i.first)}},decls:3,vars:0,consts:[[1,"containerSunCanva"],["id","canvas",1,"sunCanvas",2,"border","1px solid black","width","100%"],["canvas",""]],template:function(t,n){1&t&&(c.TgZ(0,"div",0),c._UZ(1,"canvas",1,2),c.qZA())},styles:[".sunCanvas[_ngcontent-%COMP%]{position:absolute;z-index:-1500}"]}),o})();class If extends vd{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(t){return new Y0(t)}),this.register(function(t){return new _u(t)}),this.register(function(t){return new tx(t)}),this.register(function(t){return new J0(t)}),this.register(function(t){return new Q0(t)}),this.register(function(t){return new LI(t)}),this.register(function(t){return new X0(t)}),this.register(function(t){return new q0(t)}),this.register(function(t){return new ex(t)}),this.register(function(t){return new K0(t)}),this.register(function(t){return new OI(t)}),this.register(function(t){return new RI(t)})}load(e,t,n,i){const a=this;let u;u=""!==this.resourcePath?this.resourcePath:""!==this.path?this.path:xa.extractUrlBase(e),this.manager.itemStart(e);const h=function(p){i?i(p):console.error(p),a.manager.itemError(e),a.manager.itemEnd(e)},g=new To(this.manager);g.setPath(this.path),g.setResponseType("arraybuffer"),g.setRequestHeader(this.requestHeader),g.setWithCredentials(this.withCredentials),g.load(e,function(p){try{a.parse(p,u,function(C){t(C),a.manager.itemEnd(e)},h)}catch(C){h(C)}},n,h)}setDRACOLoader(e){return this.dracoLoader=e,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return-1===this.pluginCallbacks.indexOf(e)&&this.pluginCallbacks.push(e),this}unregister(e){return-1!==this.pluginCallbacks.indexOf(e)&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,t,n,i){let a;const u={},h={};if("string"==typeof e)a=e;else if(xa.decodeText(new Uint8Array(e,0,4))===NI){try{u[pi.KHR_BINARY_GLTF]=new kI(e)}catch(A){return void(i&&i(A))}a=u[pi.KHR_BINARY_GLTF].content}else a=xa.decodeText(new Uint8Array(e));const g=JSON.parse(a);if(void 0===g.asset||g.asset.version[0]<2)return void(i&&i(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported.")));const p=new ux(g,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});p.fileLoader.setRequestHeader(this.requestHeader);for(let C=0;C<this.pluginCallbacks.length;C++){const A=this.pluginCallbacks[C](p);h[A.name]=A,u[A.name]=!0}if(g.extensionsUsed)for(let C=0;C<g.extensionsUsed.length;++C){const A=g.extensionsUsed[C],v=g.extensionsRequired||[];switch(A){case pi.KHR_MATERIALS_UNLIT:u[A]=new Pd;break;case pi.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:u[A]=new BI;break;case pi.KHR_DRACO_MESH_COMPRESSION:u[A]=new nx(g,this.dracoLoader);break;case pi.KHR_TEXTURE_TRANSFORM:u[A]=new qp;break;case pi.KHR_MESH_QUANTIZATION:u[A]=new VI;break;default:v.indexOf(A)>=0&&void 0===h[A]&&console.warn('THREE.GLTFLoader: Unknown extension "'+A+'".')}}p.setExtensions(u),p.setPlugins(h),p.parse(n,i)}parseAsync(e,t){const n=this;return new Promise(function(i,a){n.parse(e,t,i,a)})}}function Z0(){let o={};return{get:function(e){return o[e]},add:function(e,t){o[e]=t},remove:function(e){delete o[e]},removeAll:function(){o={}}}}const pi={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:"KHR_materials_pbrSpecularGlossiness",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression"};class OI{constructor(e){this.parser=e,this.name=pi.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,t=this.parser.json.nodes||[];for(let n=0,i=t.length;n<i;n++){const a=t[n];a.extensions&&a.extensions[this.name]&&void 0!==a.extensions[this.name].light&&e._addNodeRef(this.cache,a.extensions[this.name].light)}}_loadLight(e){const t=this.parser,n="light:"+e;let i=t.cache.get(n);if(i)return i;const a=t.json,g=((a.extensions&&a.extensions[this.name]||{}).lights||[])[e];let p;const C=new $t(16777215);void 0!==g.color&&C.fromArray(g.color);const A=void 0!==g.range?g.range:0;switch(g.type){case"directional":p=new gu(C),p.target.position.set(0,0,-1),p.add(p.target);break;case"point":p=new go(C),p.distance=A;break;case"spot":p=new Pp(C),p.distance=A,g.spot=g.spot||{},g.spot.innerConeAngle=void 0!==g.spot.innerConeAngle?g.spot.innerConeAngle:0,g.spot.outerConeAngle=void 0!==g.spot.outerConeAngle?g.spot.outerConeAngle:Math.PI/4,p.angle=g.spot.outerConeAngle,p.penumbra=1-g.spot.innerConeAngle/g.spot.outerConeAngle,p.target.position.set(0,0,-1),p.add(p.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+g.type)}return p.position.set(0,0,0),p.decay=2,void 0!==g.intensity&&(p.intensity=g.intensity),p.name=t.createUniqueName(g.name||"light_"+e),i=Promise.resolve(p),t.cache.add(n,i),i}createNodeAttachment(e){const t=this,n=this.parser,a=n.json.nodes[e],h=(a.extensions&&a.extensions[this.name]||{}).light;return void 0===h?null:this._loadLight(h).then(function(g){return n._getNodeRef(t.cache,h,g)})}}class Pd{constructor(){this.name=pi.KHR_MATERIALS_UNLIT}getMaterialType(){return Ks}extendParams(e,t,n){const i=[];e.color=new $t(1,1,1),e.opacity=1;const a=t.pbrMetallicRoughness;if(a){if(Array.isArray(a.baseColorFactor)){const u=a.baseColorFactor;e.color.fromArray(u),e.opacity=u[3]}void 0!==a.baseColorTexture&&i.push(n.assignTexture(e,"map",a.baseColorTexture,Ii))}return Promise.all(i)}}class q0{constructor(e){this.parser=e,this.name=pi.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,t){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const a=i.extensions[this.name].emissiveStrength;return void 0!==a&&(t.emissiveIntensity=a),Promise.resolve()}}class Y0{constructor(e){this.parser=e,this.name=pi.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const n=this.parser.json.materials[e];return n.extensions&&n.extensions[this.name]?Ua:null}extendMaterialParams(e,t){const n=this.parser,i=n.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const a=[],u=i.extensions[this.name];if(void 0!==u.clearcoatFactor&&(t.clearcoat=u.clearcoatFactor),void 0!==u.clearcoatTexture&&a.push(n.assignTexture(t,"clearcoatMap",u.clearcoatTexture)),void 0!==u.clearcoatRoughnessFactor&&(t.clearcoatRoughness=u.clearcoatRoughnessFactor),void 0!==u.clearcoatRoughnessTexture&&a.push(n.assignTexture(t,"clearcoatRoughnessMap",u.clearcoatRoughnessTexture)),void 0!==u.clearcoatNormalTexture&&(a.push(n.assignTexture(t,"clearcoatNormalMap",u.clearcoatNormalTexture)),void 0!==u.clearcoatNormalTexture.scale)){const h=u.clearcoatNormalTexture.scale;t.clearcoatNormalScale=new vt(h,h)}return Promise.all(a)}}class K0{constructor(e){this.parser=e,this.name=pi.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){const n=this.parser.json.materials[e];return n.extensions&&n.extensions[this.name]?Ua:null}extendMaterialParams(e,t){const n=this.parser,i=n.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const a=[],u=i.extensions[this.name];return void 0!==u.iridescenceFactor&&(t.iridescence=u.iridescenceFactor),void 0!==u.iridescenceTexture&&a.push(n.assignTexture(t,"iridescenceMap",u.iridescenceTexture)),void 0!==u.iridescenceIor&&(t.iridescenceIOR=u.iridescenceIor),void 0===t.iridescenceThicknessRange&&(t.iridescenceThicknessRange=[100,400]),void 0!==u.iridescenceThicknessMinimum&&(t.iridescenceThicknessRange[0]=u.iridescenceThicknessMinimum),void 0!==u.iridescenceThicknessMaximum&&(t.iridescenceThicknessRange[1]=u.iridescenceThicknessMaximum),void 0!==u.iridescenceThicknessTexture&&a.push(n.assignTexture(t,"iridescenceThicknessMap",u.iridescenceThicknessTexture)),Promise.all(a)}}class J0{constructor(e){this.parser=e,this.name=pi.KHR_MATERIALS_SHEEN}getMaterialType(e){const n=this.parser.json.materials[e];return n.extensions&&n.extensions[this.name]?Ua:null}extendMaterialParams(e,t){const n=this.parser,i=n.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const a=[];t.sheenColor=new $t(0,0,0),t.sheenRoughness=0,t.sheen=1;const u=i.extensions[this.name];return void 0!==u.sheenColorFactor&&t.sheenColor.fromArray(u.sheenColorFactor),void 0!==u.sheenRoughnessFactor&&(t.sheenRoughness=u.sheenRoughnessFactor),void 0!==u.sheenColorTexture&&a.push(n.assignTexture(t,"sheenColorMap",u.sheenColorTexture,Ii)),void 0!==u.sheenRoughnessTexture&&a.push(n.assignTexture(t,"sheenRoughnessMap",u.sheenRoughnessTexture)),Promise.all(a)}}class Q0{constructor(e){this.parser=e,this.name=pi.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const n=this.parser.json.materials[e];return n.extensions&&n.extensions[this.name]?Ua:null}extendMaterialParams(e,t){const n=this.parser,i=n.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const a=[],u=i.extensions[this.name];return void 0!==u.transmissionFactor&&(t.transmission=u.transmissionFactor),void 0!==u.transmissionTexture&&a.push(n.assignTexture(t,"transmissionMap",u.transmissionTexture)),Promise.all(a)}}class LI{constructor(e){this.parser=e,this.name=pi.KHR_MATERIALS_VOLUME}getMaterialType(e){const n=this.parser.json.materials[e];return n.extensions&&n.extensions[this.name]?Ua:null}extendMaterialParams(e,t){const n=this.parser,i=n.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const a=[],u=i.extensions[this.name];t.thickness=void 0!==u.thicknessFactor?u.thicknessFactor:0,void 0!==u.thicknessTexture&&a.push(n.assignTexture(t,"thicknessMap",u.thicknessTexture)),t.attenuationDistance=u.attenuationDistance||0;const h=u.attenuationColor||[1,1,1];return t.attenuationColor=new $t(h[0],h[1],h[2]),Promise.all(a)}}class X0{constructor(e){this.parser=e,this.name=pi.KHR_MATERIALS_IOR}getMaterialType(e){const n=this.parser.json.materials[e];return n.extensions&&n.extensions[this.name]?Ua:null}extendMaterialParams(e,t){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const a=i.extensions[this.name];return t.ior=void 0!==a.ior?a.ior:1.5,Promise.resolve()}}class ex{constructor(e){this.parser=e,this.name=pi.KHR_MATERIALS_SPECULAR}getMaterialType(e){const n=this.parser.json.materials[e];return n.extensions&&n.extensions[this.name]?Ua:null}extendMaterialParams(e,t){const n=this.parser,i=n.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const a=[],u=i.extensions[this.name];t.specularIntensity=void 0!==u.specularFactor?u.specularFactor:1,void 0!==u.specularTexture&&a.push(n.assignTexture(t,"specularIntensityMap",u.specularTexture));const h=u.specularColorFactor||[1,1,1];return t.specularColor=new $t(h[0],h[1],h[2]),void 0!==u.specularColorTexture&&a.push(n.assignTexture(t,"specularColorMap",u.specularColorTexture,Ii)),Promise.all(a)}}class _u{constructor(e){this.parser=e,this.name=pi.KHR_TEXTURE_BASISU}loadTexture(e){const t=this.parser,n=t.json,i=n.textures[e];if(!i.extensions||!i.extensions[this.name])return null;const a=i.extensions[this.name],u=t.options.ktx2Loader;if(!u){if(n.extensionsRequired&&n.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return t.loadTextureImage(e,a.source,u)}}class tx{constructor(e){this.parser=e,this.name=pi.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(e){const t=this.name,n=this.parser,i=n.json,a=i.textures[e];if(!a.extensions||!a.extensions[t])return null;const u=a.extensions[t],h=i.images[u.source];let g=n.textureLoader;if(h.uri){const p=n.options.manager.getHandler(h.uri);null!==p&&(g=p)}return this.detectSupport().then(function(p){if(p)return n.loadTextureImage(e,u.source,g);if(i.extensionsRequired&&i.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return n.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",t.onload=t.onerror=function(){e(1===t.height)}})),this.isSupported}}class RI{constructor(e){this.name=pi.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const t=this.parser.json,n=t.bufferViews[e];if(n.extensions&&n.extensions[this.name]){const i=n.extensions[this.name],a=this.parser.getDependency("buffer",i.buffer),u=this.parser.options.meshoptDecoder;if(!u||!u.supported){if(t.extensionsRequired&&t.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return Promise.all([a,u.ready]).then(function(h){const g=i.byteOffset||0,p=i.byteLength||0,C=i.count,A=i.byteStride,v=new ArrayBuffer(C*A),b=new Uint8Array(h[0],g,p);return u.decodeGltfBuffer(new Uint8Array(v),C,A,b,i.mode,i.filter),v})}return null}}const NI="glTF";class kI{constructor(e){this.name=pi.KHR_BINARY_GLTF,this.content=null,this.body=null;const t=new DataView(e,0,12);if(this.header={magic:xa.decodeText(new Uint8Array(e.slice(0,4))),version:t.getUint32(4,!0),length:t.getUint32(8,!0)},this.header.magic!==NI)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const n=this.header.length-12,i=new DataView(e,12);let a=0;for(;a<n;){const u=i.getUint32(a,!0);a+=4;const h=i.getUint32(a,!0);if(a+=4,1313821514===h){const g=new Uint8Array(e,12+a,u);this.content=xa.decodeText(g)}else if(5130562===h){const g=12+a;this.body=e.slice(g,g+u)}a+=u}if(null===this.content)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class nx{constructor(e,t){if(!t)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=pi.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=t,this.dracoLoader.preload()}decodePrimitive(e,t){const n=this.json,i=this.dracoLoader,a=e.extensions[this.name].bufferView,u=e.extensions[this.name].attributes,h={},g={},p={};for(const C in u){const A=Jp[C]||C.toLowerCase();h[A]=u[C]}for(const C in e.attributes){const A=Jp[C]||C.toLowerCase();if(void 0!==u[C]){const v=n.accessors[e.attributes[C]];p[A]=Od[v.componentType],g[A]=!0===v.normalized}}return t.getDependency("bufferView",a).then(function(C){return new Promise(function(A){i.decodeDracoFile(C,function(v){for(const b in v.attributes){const E=v.attributes[b],S=g[b];void 0!==S&&(E.normalized=S)}A(v)},h,p)})})}}class qp{constructor(){this.name=pi.KHR_TEXTURE_TRANSFORM}extendTexture(e,t){return void 0!==t.texCoord&&console.warn('THREE.GLTFLoader: Custom UV sets in "'+this.name+'" extension not yet supported.'),void 0===t.offset&&void 0===t.rotation&&void 0===t.scale||(e=e.clone(),void 0!==t.offset&&e.offset.fromArray(t.offset),void 0!==t.rotation&&(e.rotation=t.rotation),void 0!==t.scale&&e.repeat.fromArray(t.scale),e.needsUpdate=!0),e}}class Yp extends sc{constructor(e){super(),this.isGLTFSpecularGlossinessMaterial=!0;const t=["#ifdef USE_SPECULARMAP","\tuniform sampler2D specularMap;","#endif"].join("\n"),n=["#ifdef USE_GLOSSINESSMAP","\tuniform sampler2D glossinessMap;","#endif"].join("\n"),i=["vec3 specularFactor = specular;","#ifdef USE_SPECULARMAP","\tvec4 texelSpecular = texture2D( specularMap, vUv );","\t// reads channel RGB, compatible with a glTF Specular-Glossiness (RGBA) texture","\tspecularFactor *= texelSpecular.rgb;","#endif"].join("\n"),a=["float glossinessFactor = glossiness;","#ifdef USE_GLOSSINESSMAP","\tvec4 texelGlossiness = texture2D( glossinessMap, vUv );","\t// reads channel A, compatible with a glTF Specular-Glossiness (RGBA) texture","\tglossinessFactor *= texelGlossiness.a;","#endif"].join("\n"),u=["PhysicalMaterial material;","material.diffuseColor = diffuseColor.rgb * ( 1. - max( specularFactor.r, max( specularFactor.g, specularFactor.b ) ) );","vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );","float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );","material.roughness = max( 1.0 - glossinessFactor, 0.0525 ); // 0.0525 corresponds to the base mip of a 256 cubemap.","material.roughness += geometryRoughness;","material.roughness = min( material.roughness, 1.0 );","material.specularColor = specularFactor;"].join("\n"),h={specular:{value:(new $t).setHex(16777215)},glossiness:{value:1},specularMap:{value:null},glossinessMap:{value:null}};this._extraUniforms=h,this.onBeforeCompile=function(g){for(const p in h)g.uniforms[p]=h[p];g.fragmentShader=g.fragmentShader.replace("uniform float roughness;","uniform vec3 specular;").replace("uniform float metalness;","uniform float glossiness;").replace("#include <roughnessmap_pars_fragment>",t).replace("#include <metalnessmap_pars_fragment>",n).replace("#include <roughnessmap_fragment>",i).replace("#include <metalnessmap_fragment>",a).replace("#include <lights_physical_fragment>",u)},Object.defineProperties(this,{specular:{get:function(){return h.specular.value},set:function(g){h.specular.value=g}},specularMap:{get:function(){return h.specularMap.value},set:function(g){h.specularMap.value=g,g?this.defines.USE_SPECULARMAP="":delete this.defines.USE_SPECULARMAP}},glossiness:{get:function(){return h.glossiness.value},set:function(g){h.glossiness.value=g}},glossinessMap:{get:function(){return h.glossinessMap.value},set:function(g){h.glossinessMap.value=g,g?(this.defines.USE_GLOSSINESSMAP="",this.defines.USE_UV=""):(delete this.defines.USE_GLOSSINESSMAP,delete this.defines.USE_UV)}}}),delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this.setValues(e)}copy(e){return super.copy(e),this.specularMap=e.specularMap,this.specular.copy(e.specular),this.glossinessMap=e.glossinessMap,this.glossiness=e.glossiness,delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this}}class BI{constructor(){this.name=pi.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS,this.specularGlossinessParams=["color","map","lightMap","lightMapIntensity","aoMap","aoMapIntensity","emissive","emissiveIntensity","emissiveMap","bumpMap","bumpScale","normalMap","normalMapType","displacementMap","displacementScale","displacementBias","specularMap","specular","glossinessMap","glossiness","alphaMap","envMap","envMapIntensity"]}getMaterialType(){return Yp}extendParams(e,t,n){const i=t.extensions[this.name];e.color=new $t(1,1,1),e.opacity=1;const a=[];if(Array.isArray(i.diffuseFactor)){const u=i.diffuseFactor;e.color.fromArray(u),e.opacity=u[3]}if(void 0!==i.diffuseTexture&&a.push(n.assignTexture(e,"map",i.diffuseTexture,Ii)),e.emissive=new $t(0,0,0),e.glossiness=void 0!==i.glossinessFactor?i.glossinessFactor:1,e.specular=new $t(1,1,1),Array.isArray(i.specularFactor)&&e.specular.fromArray(i.specularFactor),void 0!==i.specularGlossinessTexture){const u=i.specularGlossinessTexture;a.push(n.assignTexture(e,"glossinessMap",u)),a.push(n.assignTexture(e,"specularMap",u,Ii))}return Promise.all(a)}createMaterial(e){const t=new Yp(e);return t.fog=!0,t.color=e.color,t.map=void 0===e.map?null:e.map,t.lightMap=null,t.lightMapIntensity=1,t.aoMap=void 0===e.aoMap?null:e.aoMap,t.aoMapIntensity=1,t.emissive=e.emissive,t.emissiveIntensity=void 0===e.emissiveIntensity?1:e.emissiveIntensity,t.emissiveMap=void 0===e.emissiveMap?null:e.emissiveMap,t.bumpMap=void 0===e.bumpMap?null:e.bumpMap,t.bumpScale=1,t.normalMap=void 0===e.normalMap?null:e.normalMap,t.normalMapType=0,e.normalScale&&(t.normalScale=e.normalScale),t.displacementMap=null,t.displacementScale=1,t.displacementBias=0,t.specularMap=void 0===e.specularMap?null:e.specularMap,t.specular=e.specular,t.glossinessMap=void 0===e.glossinessMap?null:e.glossinessMap,t.glossiness=e.glossiness,t.alphaMap=null,t.envMap=void 0===e.envMap?null:e.envMap,t.envMapIntensity=1,t}}class VI{constructor(){this.name=pi.KHR_MESH_QUANTIZATION}}class UI extends hu{constructor(e,t,n,i){super(e,t,n,i)}copySampleValue_(e){const t=this.resultBuffer,n=this.sampleValues,i=this.valueSize,a=e*i*3+i;for(let u=0;u!==i;u++)t[u]=n[a+u];return t}interpolate_(e,t,n,i){const a=this.resultBuffer,u=this.sampleValues,h=this.valueSize,g=2*h,p=3*h,C=i-t,A=(n-t)/C,v=A*A,b=v*A,E=e*p,S=E-p,T=-2*b+3*v,B=b-v,V=1-T,$=B-v+A;for(let U=0;U!==h;U++)a[U]=V*u[S+U+h]+$*(u[S+U+g]*C)+T*u[E+U+h]+B*(u[E+U]*C);return a}}const ix=new Kr;class rx extends UI{interpolate_(e,t,n,i){const a=super.interpolate_(e,t,n,i);return ix.fromArray(a).normalize().toArray(a),a}}const Od={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},Kp={9728:Dn,9729:fi,9984:1004,9985:1007,9986:1005,9987:Ji},HI={33071:yn,33648:1002,10497:Sn},zI={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},Jp={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv2",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},xl={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},sx={CUBICSPLINE:void 0,LINEAR:ta,STEP:ea};function Ld(o,e,t){for(const n in t.extensions)void 0===o[n]&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[n]=t.extensions[n])}function bl(o,e){void 0!==e.extras&&("object"==typeof e.extras?Object.assign(o.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function ax(o,e){if(o.updateMorphTargets(),void 0!==e.weights)for(let t=0,n=e.weights.length;t<n;t++)o.morphTargetInfluences[t]=e.weights[t];if(e.extras&&Array.isArray(e.extras.targetNames)){const t=e.extras.targetNames;if(o.morphTargetInfluences.length===t.length){o.morphTargetDictionary={};for(let n=0,i=t.length;n<i;n++)o.morphTargetDictionary[t[n]]=n}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function lx(o){const e=o.extensions&&o.extensions[pi.KHR_DRACO_MESH_COMPRESSION];let t;return t=e?"draco:"+e.bufferView+":"+e.indices+":"+Xp(e.attributes):o.indices+":"+Xp(o.attributes)+":"+o.mode,t}function Xp(o){let e="";const t=Object.keys(o).sort();for(let n=0,i=t.length;n<i;n++)e+=t[n]+":"+o[t[n]]+";";return e}function em(o){switch(o){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}class ux{constructor(e={},t={}){this.json=e,this.extensions={},this.plugins={},this.options=t,this.cache=new Z0,this.associations=new Map,this.primitiveCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};const n=!0===/^((?!chrome|android).)*safari/i.test(navigator.userAgent),i=navigator.userAgent.indexOf("Firefox")>-1,a=i?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1;this.textureLoader="undefined"==typeof createImageBitmap||n||i&&a<98?new lc(this.options.manager):new Jw(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new To(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),"use-credentials"===this.options.crossOrigin&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,t){const n=this,i=this.json,a=this.extensions;this.cache.removeAll(),this._invokeAll(function(u){return u._markDefs&&u._markDefs()}),Promise.all(this._invokeAll(function(u){return u.beforeRoot&&u.beforeRoot()})).then(function(){return Promise.all([n.getDependencies("scene"),n.getDependencies("animation"),n.getDependencies("camera")])}).then(function(u){const h={scene:u[0][i.scene||0],scenes:u[0],animations:u[1],cameras:u[2],asset:i.asset,parser:n,userData:{}};Ld(a,h,i),bl(h,i),Promise.all(n._invokeAll(function(g){return g.afterRoot&&g.afterRoot(h)})).then(function(){e(h)})}).catch(t)}_markDefs(){const e=this.json.nodes||[],t=this.json.skins||[],n=this.json.meshes||[];for(let i=0,a=t.length;i<a;i++){const u=t[i].joints;for(let h=0,g=u.length;h<g;h++)e[u[h]].isBone=!0}for(let i=0,a=e.length;i<a;i++){const u=e[i];void 0!==u.mesh&&(this._addNodeRef(this.meshCache,u.mesh),void 0!==u.skin&&(n[u.mesh].isSkinnedMesh=!0)),void 0!==u.camera&&this._addNodeRef(this.cameraCache,u.camera)}}_addNodeRef(e,t){void 0!==t&&(void 0===e.refs[t]&&(e.refs[t]=e.uses[t]=0),e.refs[t]++)}_getNodeRef(e,t,n){if(e.refs[t]<=1)return n;const i=n.clone(),a=(u,h)=>{const g=this.associations.get(u);null!=g&&this.associations.set(h,g);for(const[p,C]of u.children.entries())a(C,h.children[p])};return a(n,i),i.name+="_instance_"+e.uses[t]++,i}_invokeOne(e){const t=Object.values(this.plugins);t.push(this);for(let n=0;n<t.length;n++){const i=e(t[n]);if(i)return i}return null}_invokeAll(e){const t=Object.values(this.plugins);t.unshift(this);const n=[];for(let i=0;i<t.length;i++){const a=e(t[i]);a&&n.push(a)}return n}getDependency(e,t){const n=e+":"+t;let i=this.cache.get(n);if(!i){switch(e){case"scene":i=this.loadScene(t);break;case"node":i=this.loadNode(t);break;case"mesh":i=this._invokeOne(function(a){return a.loadMesh&&a.loadMesh(t)});break;case"accessor":i=this.loadAccessor(t);break;case"bufferView":i=this._invokeOne(function(a){return a.loadBufferView&&a.loadBufferView(t)});break;case"buffer":i=this.loadBuffer(t);break;case"material":i=this._invokeOne(function(a){return a.loadMaterial&&a.loadMaterial(t)});break;case"texture":i=this._invokeOne(function(a){return a.loadTexture&&a.loadTexture(t)});break;case"skin":i=this.loadSkin(t);break;case"animation":i=this._invokeOne(function(a){return a.loadAnimation&&a.loadAnimation(t)});break;case"camera":i=this.loadCamera(t);break;default:throw new Error("Unknown type: "+e)}this.cache.add(n,i)}return i}getDependencies(e){let t=this.cache.get(e);if(!t){const n=this;t=Promise.all((this.json[e+("mesh"===e?"es":"s")]||[]).map(function(a,u){return n.getDependency(e,u)})),this.cache.add(e,t)}return t}loadBuffer(e){const t=this.json.buffers[e],n=this.fileLoader;if(t.type&&"arraybuffer"!==t.type)throw new Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(void 0===t.uri&&0===e)return Promise.resolve(this.extensions[pi.KHR_BINARY_GLTF].body);const i=this.options;return new Promise(function(a,u){n.load(xa.resolveURL(t.uri,i.path),a,void 0,function(){u(new Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))})})}loadBufferView(e){const t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then(function(n){const a=t.byteOffset||0;return n.slice(a,a+(t.byteLength||0))})}loadAccessor(e){const t=this,n=this.json,i=this.json.accessors[e];if(void 0===i.bufferView&&void 0===i.sparse)return Promise.resolve(null);const a=[];return a.push(void 0!==i.bufferView?this.getDependency("bufferView",i.bufferView):null),void 0!==i.sparse&&(a.push(this.getDependency("bufferView",i.sparse.indices.bufferView)),a.push(this.getDependency("bufferView",i.sparse.values.bufferView))),Promise.all(a).then(function(u){const h=u[0],g=zI[i.type],p=Od[i.componentType],C=p.BYTES_PER_ELEMENT,v=i.byteOffset||0,b=void 0!==i.bufferView?n.bufferViews[i.bufferView].byteStride:void 0,E=!0===i.normalized;let S,T;if(b&&b!==C*g){const B=Math.floor(v/b),V="InterleavedBuffer:"+i.bufferView+":"+i.componentType+":"+B+":"+i.count;let $=t.cache.get(V);$||(S=new p(h,B*b,i.count*b/C),$=new Yg(S,b/C),t.cache.add(V,$)),T=new Gc($,g,v%b/C,E)}else S=null===h?new p(i.count*g):new p(h,v,i.count*g),T=new Hr(S,g,E);if(void 0!==i.sparse){const U=i.sparse.values.byteOffset||0,Q=new(0,Od[i.sparse.indices.componentType])(u[1],i.sparse.indices.byteOffset||0,i.sparse.count*zI.SCALAR),ne=new p(u[2],U,i.sparse.count*g);null!==h&&(T=new Hr(T.array.slice(),T.itemSize,T.normalized));for(let Ie=0,G=Q.length;Ie<G;Ie++){const ce=Q[Ie];if(T.setX(ce,ne[Ie*g]),g>=2&&T.setY(ce,ne[Ie*g+1]),g>=3&&T.setZ(ce,ne[Ie*g+2]),g>=4&&T.setW(ce,ne[Ie*g+3]),g>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return T})}loadTexture(e){const t=this.json,a=t.textures[e].source,u=t.images[a];let h=this.textureLoader;if(u.uri){const g=this.options.manager.getHandler(u.uri);null!==g&&(h=g)}return this.loadTextureImage(e,a,h)}loadTextureImage(e,t,n){const i=this,a=this.json,u=a.textures[e],h=a.images[t],g=(h.uri||h.bufferView)+":"+u.sampler;if(this.textureCache[g])return this.textureCache[g];const p=this.loadImageSource(t,n).then(function(C){C.flipY=!1,u.name&&(C.name=u.name);const v=(a.samplers||{})[u.sampler]||{};return C.magFilter=Kp[v.magFilter]||fi,C.minFilter=Kp[v.minFilter]||Ji,C.wrapS=HI[v.wrapS]||Sn,C.wrapT=HI[v.wrapT]||Sn,i.associations.set(C,{textures:e}),C}).catch(function(){return null});return this.textureCache[g]=p,p}loadImageSource(e,t){const i=this.json,a=this.options;if(void 0!==this.sourceCache[e])return this.sourceCache[e].then(A=>A.clone());const u=i.images[e],h=self.URL||self.webkitURL;let g=u.uri||"",p=!1;if(void 0!==u.bufferView)g=this.getDependency("bufferView",u.bufferView).then(function(A){p=!0;const v=new Blob([A],{type:u.mimeType});return g=h.createObjectURL(v),g});else if(void 0===u.uri)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const C=Promise.resolve(g).then(function(A){return new Promise(function(v,b){let E=v;!0===t.isImageBitmapLoader&&(E=function(S){const T=new js(S);T.needsUpdate=!0,v(T)}),t.load(xa.resolveURL(A,a.path),E,void 0,b)})}).then(function(A){return!0===p&&h.revokeObjectURL(g),A.userData.mimeType=u.mimeType||function cx(o){return o.search(/\.jpe?g($|\?)/i)>0||0===o.search(/^data\:image\/jpeg/)?"image/jpeg":o.search(/\.webp($|\?)/i)>0||0===o.search(/^data\:image\/webp/)?"image/webp":"image/png"}(u.uri),A}).catch(function(A){throw console.error("THREE.GLTFLoader: Couldn't load texture",g),A});return this.sourceCache[e]=C,C}assignTexture(e,t,n,i){const a=this;return this.getDependency("texture",n.index).then(function(u){if(void 0!==n.texCoord&&0!=n.texCoord&&!("aoMap"===t&&1==n.texCoord)&&console.warn("THREE.GLTFLoader: Custom UV set "+n.texCoord+" for texture "+t+" not yet supported."),a.extensions[pi.KHR_TEXTURE_TRANSFORM]){const h=void 0!==n.extensions?n.extensions[pi.KHR_TEXTURE_TRANSFORM]:void 0;if(h){const g=a.associations.get(u);u=a.extensions[pi.KHR_TEXTURE_TRANSFORM].extendTexture(u,h),a.associations.set(u,g)}}return void 0!==i&&(u.encoding=i),e[t]=u,u})}assignFinalMaterial(e){const t=e.geometry;let n=e.material;const i=void 0===t.attributes.tangent,a=void 0!==t.attributes.color,u=void 0===t.attributes.normal;if(e.isPoints){const h="PointsMaterial:"+n.uuid;let g=this.cache.get(h);g||(g=new sp,ha.prototype.copy.call(g,n),g.color.copy(n.color),g.map=n.map,g.sizeAttenuation=!1,this.cache.add(h,g)),n=g}else if(e.isLine){const h="LineBasicMaterial:"+n.uuid;let g=this.cache.get(h);g||(g=new Hs,ha.prototype.copy.call(g,n),g.color.copy(n.color),this.cache.add(h,g)),n=g}if(i||a||u){let h="ClonedMaterial:"+n.uuid+":";n.isGLTFSpecularGlossinessMaterial&&(h+="specular-glossiness:"),i&&(h+="derivative-tangents:"),a&&(h+="vertex-colors:"),u&&(h+="flat-shading:");let g=this.cache.get(h);g||(g=n.clone(),a&&(g.vertexColors=!0),u&&(g.flatShading=!0),i&&(g.normalScale&&(g.normalScale.y*=-1),g.clearcoatNormalScale&&(g.clearcoatNormalScale.y*=-1)),this.cache.add(h,g),this.associations.set(g,this.associations.get(n))),n=g}n.aoMap&&void 0===t.attributes.uv2&&void 0!==t.attributes.uv&&t.setAttribute("uv2",t.attributes.uv),e.material=n}getMaterialType(){return sc}loadMaterial(e){const t=this,i=this.extensions,a=this.json.materials[e];let u;const h={},g=a.extensions||{},p=[];if(g[pi.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS]){const A=i[pi.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS];u=A.getMaterialType(),p.push(A.extendParams(h,a,t))}else if(g[pi.KHR_MATERIALS_UNLIT]){const A=i[pi.KHR_MATERIALS_UNLIT];u=A.getMaterialType(),p.push(A.extendParams(h,a,t))}else{const A=a.pbrMetallicRoughness||{};if(h.color=new $t(1,1,1),h.opacity=1,Array.isArray(A.baseColorFactor)){const v=A.baseColorFactor;h.color.fromArray(v),h.opacity=v[3]}void 0!==A.baseColorTexture&&p.push(t.assignTexture(h,"map",A.baseColorTexture,Ii)),h.metalness=void 0!==A.metallicFactor?A.metallicFactor:1,h.roughness=void 0!==A.roughnessFactor?A.roughnessFactor:1,void 0!==A.metallicRoughnessTexture&&(p.push(t.assignTexture(h,"metalnessMap",A.metallicRoughnessTexture)),p.push(t.assignTexture(h,"roughnessMap",A.metallicRoughnessTexture))),u=this._invokeOne(function(v){return v.getMaterialType&&v.getMaterialType(e)}),p.push(Promise.all(this._invokeAll(function(v){return v.extendMaterialParams&&v.extendMaterialParams(e,h)})))}!0===a.doubleSided&&(h.side=2);const C=a.alphaMode||"OPAQUE";if("BLEND"===C?(h.transparent=!0,h.depthWrite=!1):(h.transparent=!1,"MASK"===C&&(h.alphaTest=void 0!==a.alphaCutoff?a.alphaCutoff:.5)),void 0!==a.normalTexture&&u!==Ks&&(p.push(t.assignTexture(h,"normalMap",a.normalTexture)),h.normalScale=new vt(1,1),void 0!==a.normalTexture.scale)){const A=a.normalTexture.scale;h.normalScale.set(A,A)}return void 0!==a.occlusionTexture&&u!==Ks&&(p.push(t.assignTexture(h,"aoMap",a.occlusionTexture)),void 0!==a.occlusionTexture.strength&&(h.aoMapIntensity=a.occlusionTexture.strength)),void 0!==a.emissiveFactor&&u!==Ks&&(h.emissive=(new $t).fromArray(a.emissiveFactor)),void 0!==a.emissiveTexture&&u!==Ks&&p.push(t.assignTexture(h,"emissiveMap",a.emissiveTexture,Ii)),Promise.all(p).then(function(){let A;return A=u===Yp?i[pi.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS].createMaterial(h):new u(h),a.name&&(A.name=a.name),bl(A,a),t.associations.set(A,{materials:e}),a.extensions&&Ld(i,A,a),A})}createUniqueName(e){const t=er.sanitizeNodeName(e||"");let n=t;for(let i=1;this.nodeNamesUsed[n];++i)n=t+"_"+i;return this.nodeNamesUsed[n]=!0,n}loadGeometries(e){const t=this,n=this.extensions,i=this.primitiveCache;function a(h){return n[pi.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(h,t).then(function(g){return nm(g,h,t)})}const u=[];for(let h=0,g=e.length;h<g;h++){const p=e[h],C=lx(p),A=i[C];if(A)u.push(A.promise);else{let v;v=p.extensions&&p.extensions[pi.KHR_DRACO_MESH_COMPRESSION]?a(p):nm(new ii,p,t),i[C]={primitive:p,promise:v},u.push(v)}}return Promise.all(u)}loadMesh(e){const t=this,i=this.extensions,a=this.json.meshes[e],u=a.primitives,h=[];for(let g=0,p=u.length;g<p;g++){const C=void 0===u[g].material?(void 0===(o=this.cache).DefaultMaterial&&(o.DefaultMaterial=new sc({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:0})),o.DefaultMaterial):this.getDependency("material",u[g].material);h.push(C)}var o;return h.push(t.loadGeometries(u)),Promise.all(h).then(function(g){const p=g.slice(0,g.length-1),C=g[g.length-1],A=[];for(let b=0,E=C.length;b<E;b++){const S=C[b],T=u[b];let B;const V=p[b];if(4===T.mode||5===T.mode||6===T.mode||void 0===T.mode)B=!0===a.isSkinnedMesh?new ld(S,V):new Pr(S,V),!0===B.isSkinnedMesh&&!B.geometry.attributes.skinWeight.normalized&&B.normalizeSkinWeights(),5===T.mode?B.geometry=vf(B.geometry,1):6===T.mode&&(B.geometry=vf(B.geometry,2));else if(1===T.mode)B=new Vh(S,V);else if(3===T.mode)B=new Mo(S,V);else if(2===T.mode)B=new tc(S,V);else{if(0!==T.mode)throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+T.mode);B=new Hh(S,V)}Object.keys(B.geometry.morphAttributes).length>0&&ax(B,a),B.name=t.createUniqueName(a.name||"mesh_"+e),bl(B,a),T.extensions&&Ld(i,B,T),t.assignFinalMaterial(B),A.push(B)}for(let b=0,E=A.length;b<E;b++)t.associations.set(A[b],{meshes:e,primitives:b});if(1===A.length)return A[0];const v=new gl;t.associations.set(v,{meshes:e});for(let b=0,E=A.length;b<E;b++)v.add(A[b]);return v})}loadCamera(e){let t;const n=this.json.cameras[e],i=n[n.type];if(i)return"perspective"===n.type?t=new hr(Bu.radToDeg(i.yfov),i.aspectRatio||1,i.znear||1,i.zfar||2e6):"orthographic"===n.type&&(t=new dl(-i.xmag,i.xmag,i.ymag,-i.ymag,i.znear,i.zfar)),n.name&&(t.name=this.createUniqueName(n.name)),bl(t,n),Promise.resolve(t);console.warn("THREE.GLTFLoader: Missing camera parameters.")}loadSkin(e){const t=this.json.skins[e],n={joints:t.joints};return void 0===t.inverseBindMatrices?Promise.resolve(n):this.getDependency("accessor",t.inverseBindMatrices).then(function(i){return n.inverseBindMatrices=i,n})}loadAnimation(e){const n=this.json.animations[e],i=[],a=[],u=[],h=[],g=[];for(let p=0,C=n.channels.length;p<C;p++){const A=n.channels[p],v=n.samplers[A.sampler],b=A.target,S=void 0!==n.parameters?n.parameters[v.input]:v.input,T=void 0!==n.parameters?n.parameters[v.output]:v.output;i.push(this.getDependency("node",void 0!==b.node?b.node:b.id)),a.push(this.getDependency("accessor",S)),u.push(this.getDependency("accessor",T)),h.push(v),g.push(b)}return Promise.all([Promise.all(i),Promise.all(a),Promise.all(u),Promise.all(h),Promise.all(g)]).then(function(p){const C=p[0],A=p[1],v=p[2],b=p[3],E=p[4],S=[];for(let B=0,V=C.length;B<V;B++){const $=C[B],U=A[B],Q=v[B],ne=b[B],Ie=E[B];if(void 0===$)continue;let G;switch($.updateMatrix(),xl[Ie.path]){case xl.weights:G=af;break;case xl.rotation:G=va;break;default:G=oc}const ce=$.name?$.name:$.uuid,Le=void 0!==ne.interpolation?sx[ne.interpolation]:ta,Ve=[];xl[Ie.path]===xl.weights?$.traverse(function(Rt){Rt.morphTargetInfluences&&Ve.push(Rt.name?Rt.name:Rt.uuid)}):Ve.push(ce);let yt=Q.array;if(Q.normalized){const Rt=em(yt.constructor),ze=new Float32Array(yt.length);for(let pt=0,De=yt.length;pt<De;pt++)ze[pt]=yt[pt]*Rt;yt=ze}for(let Rt=0,ze=Ve.length;Rt<ze;Rt++){const pt=new G(Ve[Rt]+"."+xl[Ie.path],U.array,yt,Le);"CUBICSPLINE"===ne.interpolation&&(pt.createInterpolant=function(je){return new(this instanceof va?rx:UI)(this.times,this.values,this.getValueSize()/3,je)},pt.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),S.push(pt)}}return new fu(n.name?n.name:"animation_"+e,void 0,S)})}createNodeMesh(e){const n=this,i=this.json.nodes[e];return void 0===i.mesh?null:n.getDependency("mesh",i.mesh).then(function(a){const u=n._getNodeRef(n.meshCache,i.mesh,a);return void 0!==i.weights&&u.traverse(function(h){if(h.isMesh)for(let g=0,p=i.weights.length;g<p;g++)h.morphTargetInfluences[g]=i.weights[g]}),u})}loadNode(e){const n=this.extensions,i=this,a=this.json.nodes[e],u=a.name?i.createUniqueName(a.name):"";return function(){const h=[],g=i._invokeOne(function(p){return p.createNodeMesh&&p.createNodeMesh(e)});return g&&h.push(g),void 0!==a.camera&&h.push(i.getDependency("camera",a.camera).then(function(p){return i._getNodeRef(i.cameraCache,a.camera,p)})),i._invokeAll(function(p){return p.createNodeAttachment&&p.createNodeAttachment(e)}).forEach(function(p){h.push(p)}),Promise.all(h)}().then(function(h){let g;if(g=!0===a.isBone?new tp:h.length>1?new gl:1===h.length?h[0]:new xr,g!==h[0])for(let p=0,C=h.length;p<C;p++)g.add(h[p]);if(a.name&&(g.userData.name=a.name,g.name=u),bl(g,a),a.extensions&&Ld(n,g,a),void 0!==a.matrix){const p=new $n;p.fromArray(a.matrix),g.applyMatrix4(p)}else void 0!==a.translation&&g.position.fromArray(a.translation),void 0!==a.rotation&&g.quaternion.fromArray(a.rotation),void 0!==a.scale&&g.scale.fromArray(a.scale);return i.associations.has(g)||i.associations.set(g,{}),i.associations.get(g).nodes=e,g})}loadScene(e){const t=this.json,n=this.extensions,i=this.json.scenes[e],a=this,u=new gl;i.name&&(u.name=a.createUniqueName(i.name)),bl(u,i),i.extensions&&Ld(n,u,i);const h=i.nodes||[],g=[];for(let p=0,C=h.length;p<C;p++)g.push(_f(h[p],u,t,a));return Promise.all(g).then(function(){return a.associations=(C=>{const A=new Map;for(const[v,b]of a.associations)(v instanceof ha||v instanceof js)&&A.set(v,b);return C.traverse(v=>{const b=a.associations.get(v);null!=b&&A.set(v,b)}),A})(u),u})}}function _f(o,e,t,n){const i=t.nodes[o];return n.getDependency("node",o).then(function(a){if(void 0===i.skin)return a;let u;return n.getDependency("skin",i.skin).then(function(h){u=h;const g=[];for(let p=0,C=u.joints.length;p<C;p++)g.push(n.getDependency("node",u.joints[p]));return Promise.all(g)}).then(function(h){return a.traverse(function(g){if(!g.isMesh)return;const p=[],C=[];for(let A=0,v=h.length;A<v;A++){const b=h[A];if(b){p.push(b);const E=new $n;void 0!==u.inverseBindMatrices&&E.fromArray(u.inverseBindMatrices.array,16*A),C.push(E)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',u.joints[A])}g.bind(new ud(p,C),g.matrixWorld)}),a})}).then(function(a){e.add(a);const u=[];if(i.children){const h=i.children;for(let g=0,p=h.length;g<p;g++)u.push(_f(h[g],a,t,n))}return Promise.all(u)})}function nm(o,e,t){const n=e.attributes,i=[];function a(u,h){return t.getDependency("accessor",u).then(function(g){o.setAttribute(h,g)})}for(const u in n){const h=Jp[u]||u.toLowerCase();h in o.attributes||i.push(a(n[u],h))}if(void 0!==e.indices&&!o.index){const u=t.getDependency("accessor",e.indices).then(function(h){o.setIndex(h)});i.push(u)}return bl(o,e),function tm(o,e,t){const n=e.attributes,i=new La;if(void 0===n.POSITION)return;{const h=t.json.accessors[n.POSITION],g=h.min,p=h.max;if(void 0===g||void 0===p)return void console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");if(i.set(new se(g[0],g[1],g[2]),new se(p[0],p[1],p[2])),h.normalized){const C=em(Od[h.componentType]);i.min.multiplyScalar(C),i.max.multiplyScalar(C)}}const a=e.targets;if(void 0!==a){const h=new se,g=new se;for(let p=0,C=a.length;p<C;p++){const A=a[p];if(void 0!==A.POSITION){const v=t.json.accessors[A.POSITION],b=v.min,E=v.max;if(void 0!==b&&void 0!==E){if(g.setX(Math.max(Math.abs(b[0]),Math.abs(E[0]))),g.setY(Math.max(Math.abs(b[1]),Math.abs(E[1]))),g.setZ(Math.max(Math.abs(b[2]),Math.abs(E[2]))),v.normalized){const S=em(Od[v.componentType]);g.multiplyScalar(S)}h.max(g)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}i.expandByVector(h)}o.boundingBox=i;const u=new Fo;i.getCenter(u.center),u.radius=i.min.distanceTo(i.max)/2,o.boundingSphere=u}(o,e,t),Promise.all(i).then(function(){return void 0!==e.targets?function GI(o,e,t){let n=!1,i=!1,a=!1;for(let p=0,C=e.length;p<C;p++){const A=e[p];if(void 0!==A.POSITION&&(n=!0),void 0!==A.NORMAL&&(i=!0),void 0!==A.COLOR_0&&(a=!0),n&&i&&a)break}if(!n&&!i&&!a)return Promise.resolve(o);const u=[],h=[],g=[];for(let p=0,C=e.length;p<C;p++){const A=e[p];if(n){const v=void 0!==A.POSITION?t.getDependency("accessor",A.POSITION):o.attributes.position;u.push(v)}if(i){const v=void 0!==A.NORMAL?t.getDependency("accessor",A.NORMAL):o.attributes.normal;h.push(v)}if(a){const v=void 0!==A.COLOR_0?t.getDependency("accessor",A.COLOR_0):o.attributes.color;g.push(v)}}return Promise.all([Promise.all(u),Promise.all(h),Promise.all(g)]).then(function(p){const A=p[1],v=p[2];return n&&(o.morphAttributes.position=p[0]),i&&(o.morphAttributes.normal=A),a&&(o.morphAttributes.color=v),o.morphTargetsRelative=!0,o})}(o,e.targets,t):o})}function vf(o,e){let t=o.getIndex();if(null===t){const u=[],h=o.getAttribute("position");if(void 0===h)return console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),o;for(let g=0;g<h.count;g++)u.push(g);o.setIndex(u),t=o.getIndex()}const n=t.count-2,i=[];if(2===e)for(let u=1;u<=n;u++)i.push(t.getX(0)),i.push(t.getX(u)),i.push(t.getX(u+1));else for(let u=0;u<n;u++)u%2==0?(i.push(t.getX(u)),i.push(t.getX(u+1)),i.push(t.getX(u+2))):(i.push(t.getX(u+2)),i.push(t.getX(u+1)),i.push(t.getX(u)));i.length/3!==n&&console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const a=o.clone();return a.setIndex(i),a}const dx=["canvas"];let hx=(()=>{class o{constructor(t,n){var i;this.animationService=t,this.cookies=n,this.idAnimationEclipse=-1,this.idAnimationRemoveEclipse=-1,this.iterator=1,this.loaderGltf=new If,this.actualTheme="light",this.height=window.innerHeight,null===(i=this.animationService.themeChanged$)||void 0===i||i.subscribe(a=>{this.requestTheme=a,this.activeChooseTheme(a)})}get canvas(){return this.canvasRef.nativeElement}ngAfterViewInit(){this.createScene(),this.cookies.check("THEME")&&(void 0!==this.requestTheme?this.actualTheme!=this.requestTheme&&(this.activeChooseTheme(this.cookies.get("THEME")),this.requestTheme=this.cookies.get("THEME")):this.actualTheme!=this.cookies.get("THEME")&&(this.activeChooseTheme(this.cookies.get("THEME")),this.requestTheme=this.cookies.get("THEME")))}ngOnInit(){}activeChooseTheme(t){"dark"==t&&-1==this.idAnimationEclipse&&-1==this.idAnimationRemoveEclipse&&this.eclipseAnimation(),"light"==t&&-1==this.idAnimationEclipse&&-1==this.idAnimationRemoveEclipse&&this.eclipseAnimatioRemove()}createScene(){this.scene=new zc,this.scene.background=null,this.ambientLight=new uf(0,1),this.ambientLight.position.y=200,this.ambientLight.position.set(0,-10,5),this.scene.add(this.ambientLight),this.directionalLight=new gu(16777215,1),this.directionalLight.position.set(0,-1,4),this.scene.add(this.directionalLight);const t=new Al(35,50,50),n=new sc({map:(new lc).load("assets/images/solids/moonSolid.jpg")}),i=new Pr(t,n);let a=new go(16754253,.3);a.position.set(0,-50,300),this.scene.add(a),this.scene.add(i);let u=this.getAspectRatio();this.camera=new hr(75,u,.01,300),this.camera.position.z=200,this.camera.position.y=2,this.camera.lookAt(0,0,0),this.lightRight=new go(16754253,4),this.lightRight.position.set(900,250,-1050),this.scene.add(this.lightRight),this.lightLeft=new go(16754253,1),this.lightLeft.position.set(-160,70,-120),this.scene.add(this.lightLeft),this.lightDown=new go(16754253,1),this.lightDown.position.set(-20,20,-30),this.scene.add(this.lightDown),this.lightTop=new go(16754253,1),this.lightTop.position.set(-50,130,-25),this.scene.add(this.lightTop),this.lightDown2=new go(16754253,1),this.lightDown2.position.set(20,20,-30),this.scene.add(this.lightDown2),this.lightTop2=new go(16754253,1),this.lightTop2.position.set(30,130,-15),this.scene.add(this.lightTop2);const h=new id({alpha:!0,antialias:!0,canvas:this.canvas});h.autoClear=!1,h.setClearColor(0,0),h.setPixelRatio(devicePixelRatio),h.setSize(window.innerWidth,this.height),this.renderer=h,this.sphereMoon=i,this.renderer=h;let g=this.scene,p=this.camera;i.position.y=30,this.camera.position.x=300,this.camera.position.z=300,function C(){requestAnimationFrame(C),h.render(g,p),i.rotation.y+=.003}(),this.setupResize(),this.resize()}setupResize(){window.addEventListener("resize",this.resize.bind(this))}resize(){this.renderer.setSize(window.innerWidth,this.height),this.camera.aspect=window.innerWidth/this.height,this.camera.updateProjectionMatrix()}getAspectRatio(){return window.innerWidth/this.height}eclipseAnimation(){this.actualTheme="dark";let t=this.scene,n=this.camera,i=this;!function a(){i.idAnimationEclipse=requestAnimationFrame(a),i.eclipseAnimationStart(i.idAnimationEclipse),i.renderer.render(t,n)}()}eclipseAnimationStart(t){this.idAnimationEclipse=t,this.camera.position.z>208&&(this.camera.position.z-=.31,this.sphereMoon.rotation.y+=.005),this.camera.position.x>=68&&(this.camera.position.x-=.78),this.sphereMoon.position.y<=58&&(this.sphereMoon.position.y+=.0898),this.camera.position.z>200&&this.camera.position.z<=208&&(1==this.iterator&&(this.animationService.startAnimationGlowSun("dark"),this.iterator++),this.camera.position.z-=.1),this.camera.position.x>=0&&this.camera.position.x<=68&&(this.camera.position.x-=.23,this.sphereMoon.rotation.y+=.004,this.lightLeft.intensity<=5&&(this.lightDown.intensity+=.01,this.lightDown2.intensity+=.01,this.lightLeft.intensity+=.01,this.lightTop.intensity+=.01,this.lightTop2.intensity+=.01)),this.sphereMoon.position.y>=58&&this.sphereMoon.position.y<=62.9&&(this.sphereMoon.position.y+=.02),this.camera.position.z<200&&this.camera.position.x<0&&this.sphereMoon.position.y>62.9&&(this.iterator=1,this.idAnimationEclipse=-1,cancelAnimationFrame(t),this.actualTheme!=this.requestTheme&&this.activeChooseTheme(this.requestTheme))}eclipseAnimatioRemove(){this.actualTheme="light";let t=this.scene,n=this.camera,a=this;!function u(){a.idAnimationRemoveEclipse=requestAnimationFrame(u),a.removeEclipseAnimationStart(a.idAnimationRemoveEclipse),a.renderer.render(t,n)}()}removeEclipseAnimationStart(t){this.camera.position.z<200.12&&(this.camera.position.z+=5e-4,1==this.iterator&&(this.animationService.startAnimationGlowSun("light"),this.iterator++)),this.camera.position.x>=-60&&(this.camera.position.x-=.12,this.sphereMoon.rotation.y+=.002,this.lightLeft.intensity>=4&&(this.lightLeft.intensity-=.01),this.lightRight.intensity>=1&&(this.lightDown.intensity-=.01,this.lightDown2.intensity-=.01,this.lightRight.intensity-=.01,this.lightTop.intensity-=.01,this.lightTop2.intensity-=.01)),this.sphereMoon.position.y>=59&&(this.sphereMoon.position.y-=.01),this.camera.position.z>200.12&&this.camera.position.z<=205&&(this.camera.position.z+=.04),this.camera.position.z>204.9&&this.camera.position.z<=310&&(this.camera.position.z+=.08),this.camera.position.z>204.9&&this.camera.position.z<=315&&(this.camera.position.z+=.03),this.camera.position.x<=-59.9&&this.camera.position.x>=-510&&(this.camera.position.x-=.187,this.sphereMoon.rotation.y+=.005,this.lightLeft.intensity<5&&(this.lightLeft.intensity+=.01)),this.sphereMoon.position.y>=30&&this.sphereMoon.position.y<=59&&(this.sphereMoon.position.y-=.02),this.sphereMoon.position.y<=30&&this.sphereMoon.position.y>=0&&(this.sphereMoon.position.y-=.0245),this.camera.position.x<=-505&&(this.iterator=1,this.camera.position.z=315,this.camera.position.x=510,this.sphereMoon.position.y=0,this.eclipseAnimationResetRestorePosition(),cancelAnimationFrame(t))}eclipseAnimationResetRestorePosition(){let t=this.scene,n=this.camera,i=this;!function a(){i.idAnimationRemoveEclipse=requestAnimationFrame(a),i.eclipseAnimationResetRestorePositionStart(i.idAnimationRemoveEclipse),i.renderer.render(t,n)}()}eclipseAnimationResetRestorePositionStart(t){this.camera.position.z>=300&&(this.camera.position.z-=.08,this.sphereMoon.rotation.y+=.005,this.lightRight.intensity+=.02),this.camera.position.x>=300&&(this.camera.position.x-=.187),this.sphereMoon.position.y<=30&&(this.sphereMoon.position.y+=.0245),this.camera.position.z>=299.5&&this.camera.position.x<=300&&this.sphereMoon.position.y>=29.9&&(this.idAnimationRemoveEclipse=-1,this.sphereMoon.position.y=30,this.camera.position.x=300,this.camera.position.z=300,this.lightRight.intensity=4,this.lightDown.intensity=1,this.lightDown2.intensity=1,this.lightLeft.intensity=1,this.lightTop.intensity=1,this.lightTop2.intensity=1,cancelAnimationFrame(t),this.actualTheme!=this.requestTheme&&this.activeChooseTheme(this.requestTheme))}}return o.\u0275fac=function(t){return new(t||o)(c.Y36(xe),c.Y36(oe))},o.\u0275cmp=c.Xpm({type:o,selectors:[["app-moon-solid"]],viewQuery:function(t,n){if(1&t&&c.Gf(dx,5),2&t){let i;c.iGM(i=c.CRH())&&(n.canvasRef=i.first)}},decls:3,vars:0,consts:[[1,"containerMoonCanva"],["id","canvas",1,"moonCanvas",2,"border","3px solid black","width","100%"],["canvas",""]],template:function(t,n){1&t&&(c.TgZ(0,"div",0),c._UZ(1,"canvas",1,2),c.qZA())},styles:[".moonCanvas[_ngcontent-%COMP%]{position:absolute;z-index:-1000}"]}),o})(),im=(()=>{class o{constructor(){}ngOnInit(){}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=c.Xpm({type:o,selectors:[["app-collapse-canvas"]],decls:4,vars:0,consts:[[1,"collapseSolids"]],template:function(t,n){1&t&&(c.TgZ(0,"div",0),c._UZ(1,"app-sun-glow")(2,"app-sun-solid")(3,"app-moon-solid"),c.qZA())},directives:[vM,PI,hx],styles:[""]}),o})();var WI=z(845),Xs=z(5921),Zo=z(9783),dc=z(5787),Rd=z(4119);const jI=function(o){return{"p-hidden":o}};function xM(o,e){if(1&o&&c._UZ(0,"li",4),2&o){const t=c.oxw().$implicit;c.Q6J("ngClass",c.VKq(1,jI,!1===t.visible))}}function fx(o,e){if(1&o&&c._UZ(0,"span",15),2&o){const t=c.oxw(3).$implicit;c.Q6J("ngClass",t.icon)("ngStyle",t.iconStyle)}}function yf(o,e){if(1&o&&(c.TgZ(0,"span",16),c._uU(1),c.qZA()),2&o){const t=c.oxw(3).$implicit;c.xp6(1),c.Oqu(t.label)}}function gx(o,e){if(1&o&&c._UZ(0,"span",17),2&o){const t=c.oxw(3).$implicit;c.Q6J("innerHTML",t.label,c.oJD)}}const hc=function(o,e){return{"pi-angle-down":o,"pi-angle-right":e}};function Nd(o,e){if(1&o&&c._UZ(0,"span",18),2&o){const t=c.oxw(4);c.Q6J("ngClass",c.WLB(1,hc,t.root,!t.root))}}const $I=function(o){return{"p-menuitem-link":!0,"p-disabled":o}};function bM(o,e){if(1&o){const t=c.EpF();c.TgZ(0,"a",10),c.NdJ("click",function(i){c.CHM(t);const a=c.oxw(2).$implicit;return c.oxw().onItemClick(i,a)})("mouseenter",function(i){c.CHM(t);const a=c.oxw(2).$implicit;return c.oxw().onItemMouseEnter(i,a)}),c.YNc(1,fx,1,2,"span",11),c.YNc(2,yf,2,1,"span",12),c.YNc(3,gx,1,1,"ng-template",null,13,c.W1O),c.YNc(5,Nd,1,4,"span",14),c.qZA()}if(2&o){const t=c.MAs(4),n=c.oxw(2).$implicit,i=c.oxw();c.Q6J("target",n.target)("ngClass",c.VKq(13,$I,n.disabled)),c.uIk("href",n.url,c.LSH)("data-automationid",n.automationId)("title",n.title)("id",n.id)("tabindex",n.disabled?null:"0")("aria-haspopup",null!=i.item.items)("aria-expanded",i.item===i.activeItem),c.xp6(1),c.Q6J("ngIf",n.icon),c.xp6(1),c.Q6J("ngIf",!1!==n.escape)("ngIfElse",t),c.xp6(3),c.Q6J("ngIf",n.items)}}function ZI(o,e){if(1&o&&c._UZ(0,"span",15),2&o){const t=c.oxw(3).$implicit;c.Q6J("ngClass",t.icon)("ngStyle",t.iconStyle)}}function px(o,e){if(1&o&&(c.TgZ(0,"span",16),c._uU(1),c.qZA()),2&o){const t=c.oxw(3).$implicit;c.xp6(1),c.Oqu(t.label)}}function mx(o,e){if(1&o&&c._UZ(0,"span",17),2&o){const t=c.oxw(3).$implicit;c.Q6J("innerHTML",t.label,c.oJD)}}function Cx(o,e){if(1&o&&c._UZ(0,"span",18),2&o){const t=c.oxw(4);c.Q6J("ngClass",c.WLB(1,hc,t.root,!t.root))}}const Ax=function(){return{exact:!1}};function qI(o,e){if(1&o){const t=c.EpF();c.TgZ(0,"a",19),c.NdJ("click",function(i){c.CHM(t);const a=c.oxw(2).$implicit;return c.oxw().onItemClick(i,a)})("mouseenter",function(i){c.CHM(t);const a=c.oxw(2).$implicit;return c.oxw().onItemMouseEnter(i,a)}),c.YNc(1,ZI,1,2,"span",11),c.YNc(2,px,2,1,"span",12),c.YNc(3,mx,1,1,"ng-template",null,20,c.W1O),c.YNc(5,Cx,1,4,"span",14),c.qZA()}if(2&o){const t=c.MAs(4),n=c.oxw(2).$implicit;c.Q6J("routerLink",n.routerLink)("queryParams",n.queryParams)("routerLinkActive","p-menuitem-link-active")("routerLinkActiveOptions",n.routerLinkActiveOptions||c.DdM(20,Ax))("target",n.target)("ngClass",c.VKq(21,$I,n.disabled))("fragment",n.fragment)("queryParamsHandling",n.queryParamsHandling)("preserveFragment",n.preserveFragment)("skipLocationChange",n.skipLocationChange)("replaceUrl",n.replaceUrl)("state",n.state),c.uIk("data-automationid",n.automationId)("title",n.title)("id",n.id)("tabindex",n.disabled?null:"0"),c.xp6(1),c.Q6J("ngIf",n.icon),c.xp6(1),c.Q6J("ngIf",!1!==n.escape)("ngIfElse",t),c.xp6(3),c.Q6J("ngIf",n.items)}}function Ix(o,e){if(1&o){const t=c.EpF();c.TgZ(0,"p-menubarSub",21),c.NdJ("leafClick",function(){return c.CHM(t),c.oxw(3).onLeafClick()}),c.qZA()}if(2&o){const t=c.oxw(2).$implicit,n=c.oxw();c.Q6J("parentActive",t===n.activeItem)("item",t)("mobileActive",n.mobileActive)("autoDisplay",n.autoDisplay)}}const rm=function(o,e){return{"p-menuitem":!0,"p-menuitem-active":o,"p-hidden":e}};function xf(o,e){if(1&o&&(c.TgZ(0,"li",5,6),c.YNc(2,bM,6,15,"a",7),c.YNc(3,qI,6,23,"a",8),c.YNc(4,Ix,1,4,"p-menubarSub",9),c.qZA()),2&o){const t=c.oxw().$implicit,n=c.oxw();c.Tol(t.styleClass),c.Q6J("ngClass",c.WLB(8,rm,t===n.activeItem,!1===t.visible))("ngStyle",t.style)("tooltipOptions",t.tooltipOptions),c.xp6(2),c.Q6J("ngIf",!t.routerLink),c.xp6(1),c.Q6J("ngIf",t.routerLink),c.xp6(1),c.Q6J("ngIf",t.items)}}function Fd(o,e){if(1&o&&(c.YNc(0,xM,1,3,"li",2),c.YNc(1,xf,5,11,"li",3)),2&o){const t=e.$implicit;c.Q6J("ngIf",t.separator),c.xp6(1),c.Q6J("ngIf",!t.separator)}}const _x=function(o,e){return{"p-submenu-list":o,"p-menubar-root-list":e}},YI=["menubutton"],KI=["rootmenu"];function vx(o,e){1&o&&c.GkF(0)}function yx(o,e){if(1&o&&(c.TgZ(0,"div",9),c.YNc(1,vx,1,0,"ng-container",10),c.qZA()),2&o){const t=c.oxw();c.xp6(1),c.Q6J("ngTemplateOutlet",t.startTemplate)}}function sm(o,e){1&o&&c.GkF(0)}function xx(o,e){if(1&o&&(c.TgZ(0,"div",11),c.YNc(1,sm,1,0,"ng-container",10),c.qZA()),2&o){const t=c.oxw();c.xp6(1),c.Q6J("ngTemplateOutlet",t.endTemplate)}}function wM(o,e){1&o&&(c.TgZ(0,"div",11),c.Hsn(1),c.qZA())}const bx=function(o){return{"p-menubar p-component":!0,"p-menubar-mobile-active":o}},wx=["*"];let yu=(()=>{class o{constructor(t,n,i){this.el=t,this.renderer=n,this.cd=i,this.autoZIndex=!0,this.baseZIndex=0,this.leafClick=new c.vpe,this.menuHoverActive=!1}get parentActive(){return this._parentActive}set parentActive(t){this.root||(this._parentActive=t,t||(this.activeItem=null))}onItemClick(t,n){n.disabled?t.preventDefault():(!n.url&&!n.routerLink&&t.preventDefault(),n.command&&n.command({originalEvent:t,item:n}),n.items&&(this.activeItem&&n===this.activeItem?(this.activeItem=null,this.unbindDocumentClickListener()):(this.activeItem=n,this.root&&this.bindDocumentClickListener())),n.items||this.onLeafClick())}onItemMouseEnter(t,n){n.disabled||this.mobileActive?t.preventDefault():this.root?(this.activeItem||this.autoDisplay)&&(this.activeItem=n,this.bindDocumentClickListener()):(this.activeItem=n,this.bindDocumentClickListener())}onLeafClick(){this.activeItem=null,this.root&&this.unbindDocumentClickListener(),this.leafClick.emit()}bindDocumentClickListener(){this.documentClickListener||(this.documentClickListener=t=>{this.el&&!this.el.nativeElement.contains(t.target)&&(this.activeItem=null,this.cd.markForCheck(),this.unbindDocumentClickListener())},document.addEventListener("click",this.documentClickListener))}unbindDocumentClickListener(){this.documentClickListener&&(document.removeEventListener("click",this.documentClickListener),this.documentClickListener=null)}ngOnDestroy(){this.unbindDocumentClickListener()}}return o.\u0275fac=function(t){return new(t||o)(c.Y36(c.SBq),c.Y36(c.Qsj),c.Y36(c.sBO))},o.\u0275cmp=c.Xpm({type:o,selectors:[["p-menubarSub"]],hostAttrs:[1,"p-element"],inputs:{item:"item",root:"root",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",mobileActive:"mobileActive",autoDisplay:"autoDisplay",parentActive:"parentActive"},outputs:{leafClick:"leafClick"},decls:2,vars:6,consts:[[3,"ngClass"],["ngFor","",3,"ngForOf"],["class","p-menu-separator","role","separator",3,"ngClass",4,"ngIf"],["role","none","pTooltip","",3,"ngClass","ngStyle","class","tooltipOptions",4,"ngIf"],["role","separator",1,"p-menu-separator",3,"ngClass"],["role","none","pTooltip","",3,"ngClass","ngStyle","tooltipOptions"],["listItem",""],["role","menuitem","pRipple","",3,"target","ngClass","click","mouseenter",4,"ngIf"],["role","menuitem","pRipple","",3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","target","ngClass","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state","click","mouseenter",4,"ngIf"],[3,"parentActive","item","mobileActive","autoDisplay","leafClick",4,"ngIf"],["role","menuitem","pRipple","",3,"target","ngClass","click","mouseenter"],["class","p-menuitem-icon",3,"ngClass","ngStyle",4,"ngIf"],["class","p-menuitem-text",4,"ngIf","ngIfElse"],["htmlLabel",""],["class","p-submenu-icon pi",3,"ngClass",4,"ngIf"],[1,"p-menuitem-icon",3,"ngClass","ngStyle"],[1,"p-menuitem-text"],[1,"p-menuitem-text",3,"innerHTML"],[1,"p-submenu-icon","pi",3,"ngClass"],["role","menuitem","pRipple","",3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","target","ngClass","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state","click","mouseenter"],["htmlRouteLabel",""],[3,"parentActive","item","mobileActive","autoDisplay","leafClick"]],template:function(t,n){1&t&&(c.TgZ(0,"ul",0),c.YNc(1,Fd,2,2,"ng-template",1),c.qZA()),2&t&&(c.Q6J("ngClass",c.WLB(3,_x,!n.root,n.root)),c.uIk("role",n.root?"menubar":"menu"),c.xp6(1),c.Q6J("ngForOf",n.root?n.item:n.item.items))},directives:[o,me.mk,me.sg,me.O5,Rd.u,me.PC,dc.H,X.yS,X.Od],encapsulation:2}),o})(),JI=(()=>{class o{constructor(t,n,i,a){this.el=t,this.renderer=n,this.cd=i,this.config=a,this.autoZIndex=!0,this.baseZIndex=0}ngAfterContentInit(){this.templates.forEach(t=>{switch(t.getType()){case"start":this.startTemplate=t.template;break;case"end":this.endTemplate=t.template}})}toggle(t){this.mobileActive?(this.hide(),Xs.P9.clear(this.rootmenu.el.nativeElement)):(this.mobileActive=!0,Xs.P9.set("menu",this.rootmenu.el.nativeElement,this.config.zIndex.menu)),this.bindOutsideClickListener(),t.preventDefault()}bindOutsideClickListener(){this.outsideClickListener||(this.outsideClickListener=t=>{this.mobileActive&&this.rootmenu.el.nativeElement!==t.target&&!this.rootmenu.el.nativeElement.contains(t.target)&&this.menubutton.nativeElement!==t.target&&!this.menubutton.nativeElement.contains(t.target)&&this.hide()},document.addEventListener("click",this.outsideClickListener))}hide(){this.mobileActive=!1,this.cd.markForCheck(),Xs.P9.clear(this.rootmenu.el.nativeElement),this.unbindOutsideClickListener()}onLeafClick(){this.hide()}unbindOutsideClickListener(){this.outsideClickListener&&(document.removeEventListener("click",this.outsideClickListener),this.outsideClickListener=null)}ngOnDestroy(){this.unbindOutsideClickListener()}}return o.\u0275fac=function(t){return new(t||o)(c.Y36(c.SBq),c.Y36(c.Qsj),c.Y36(c.sBO),c.Y36(Zo.b4))},o.\u0275cmp=c.Xpm({type:o,selectors:[["p-menubar"]],contentQueries:function(t,n,i){if(1&t&&c.Suo(i,Zo.jx,4),2&t){let a;c.iGM(a=c.CRH())&&(n.templates=a)}},viewQuery:function(t,n){if(1&t&&(c.Gf(YI,5),c.Gf(KI,5)),2&t){let i;c.iGM(i=c.CRH())&&(n.menubutton=i.first),c.iGM(i=c.CRH())&&(n.rootmenu=i.first)}},hostAttrs:[1,"p-element"],inputs:{model:"model",style:"style",styleClass:"styleClass",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",autoDisplay:"autoDisplay"},ngContentSelectors:wx,decls:10,vars:14,consts:[[3,"ngClass","ngStyle"],["class","p-menubar-start",4,"ngIf"],["tabindex","0",1,"p-menubar-button",3,"click"],["menubutton",""],[1,"pi","pi-bars"],["root","root",3,"item","baseZIndex","autoZIndex","mobileActive","autoDisplay","leafClick"],["rootmenu",""],["class","p-menubar-end",4,"ngIf","ngIfElse"],["legacy",""],[1,"p-menubar-start"],[4,"ngTemplateOutlet"],[1,"p-menubar-end"]],template:function(t,n){if(1&t&&(c.F$t(),c.TgZ(0,"div",0),c.YNc(1,yx,2,1,"div",1),c.TgZ(2,"a",2,3),c.NdJ("click",function(a){return n.toggle(a)}),c._UZ(4,"i",4),c.qZA(),c.TgZ(5,"p-menubarSub",5,6),c.NdJ("leafClick",function(){return n.onLeafClick()}),c.qZA(),c.YNc(7,xx,2,1,"div",7),c.YNc(8,wM,2,0,"ng-template",null,8,c.W1O),c.qZA()),2&t){const i=c.MAs(9);c.Tol(n.styleClass),c.Q6J("ngClass",c.VKq(12,bx,n.mobileActive))("ngStyle",n.style),c.xp6(1),c.Q6J("ngIf",n.startTemplate),c.xp6(4),c.Q6J("item",n.model)("baseZIndex",n.baseZIndex)("autoZIndex",n.autoZIndex)("mobileActive",n.mobileActive)("autoDisplay",n.autoDisplay),c.xp6(2),c.Q6J("ngIf",n.endTemplate)("ngIfElse",i)}},directives:[yu,me.mk,me.PC,me.O5,me.tP],styles:[".p-menubar{display:flex;align-items:center}.p-menubar ul{margin:0;padding:0;list-style:none}.p-menubar .p-menuitem-link{cursor:pointer;display:flex;align-items:center;text-decoration:none;overflow:hidden;position:relative}.p-menubar .p-menuitem-text{line-height:1}.p-menubar .p-menuitem{position:relative}.p-menubar-root-list{display:flex;align-items:center}.p-menubar-root-list>li ul{display:none;z-index:1}.p-menubar-root-list>.p-menuitem-active>p-menubarsub>.p-submenu-list{display:block}.p-menubar .p-submenu-list{display:none;position:absolute;z-index:1}.p-menubar .p-submenu-list>.p-menuitem-active>p-menubarsub>.p-submenu-list{display:block;left:100%;top:0}.p-menubar .p-submenu-list .p-menuitem-link .p-submenu-icon{margin-left:auto}.p-menubar .p-menubar-custom,.p-menubar .p-menubar-end{margin-left:auto;align-self:center}.p-menubar-button{display:none;cursor:pointer;align-items:center;justify-content:center}\n"],encapsulation:2,changeDetection:0}),o})(),xu=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=c.oAB({type:o}),o.\u0275inj=c.cJS({imports:[[me.ez,X.Bz,dc.T,Rd.z],X.Bz,Rd.z]}),o})();var kd=z(2392);class om{}const wl="*";function QI(o,e){return{type:7,name:o,definitions:e,options:{}}}function Sx(o,e=null){return{type:4,styles:e,timings:o}}function bf(o,e=null){return{type:2,steps:o,options:e}}function Bd(o){return{type:6,styles:o,offset:null}}function am(o,e,t=null){return{type:1,expr:o,animation:e,options:t}}function XI(o){Promise.resolve(null).then(o)}class $a{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){XI(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(n=>n()),t.length=0}}class lm{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,n=0,i=0;const a=this.players.length;0==a?XI(()=>this._onFinish()):this.players.forEach(u=>{u.onDone(()=>{++t==a&&this._onFinish()}),u.onDestroy(()=>{++n==a&&this._onDestroy()}),u.onStart(()=>{++i==a&&this._onStart()})}),this.totalTime=this.players.reduce((u,h)=>Math.max(u,h.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(n=>{const i=n.totalTime?Math.min(1,t/n.totalTime):1;n.setPosition(i)})}getPosition(){const e=this.players.reduce((t,n)=>null===t||n.totalTime>t.totalTime?n:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(n=>n()),t.length=0}}var zs=z(5730),e_=z(2076),t_=z(4128),n_=z(4004);let i_=(()=>{class o{constructor(t,n){this._renderer=t,this._elementRef=n,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,n){this._renderer.setProperty(this._elementRef.nativeElement,t,n)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return o.\u0275fac=function(t){return new(t||o)(c.Y36(c.Qsj),c.Y36(c.SBq))},o.\u0275dir=c.lG2({type:o}),o})(),Ml=(()=>{class o extends i_{}return o.\u0275fac=function(){let e;return function(n){return(e||(e=c.n5z(o)))(n||o)}}(),o.\u0275dir=c.lG2({type:o,features:[c.qOj]}),o})();const Do=new c.OlP("NgValueAccessor"),Rx={provide:Do,useExisting:(0,c.Gpc)(()=>Ud),multi:!0},Nx=new c.OlP("CompositionEventMode");let Ud=(()=>{class o extends i_{constructor(t,n,i){super(t,n),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Vd(){const o=(0,me.q)()?(0,me.q)().getUserAgent():"";return/android (\d+)/.test(o.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return o.\u0275fac=function(t){return new(t||o)(c.Y36(c.Qsj),c.Y36(c.SBq),c.Y36(Nx,8))},o.\u0275dir=c.lG2({type:o,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,n){1&t&&c.NdJ("input",function(a){return n._handleInput(a.target.value)})("blur",function(){return n.onTouched()})("compositionstart",function(){return n._compositionStart()})("compositionend",function(a){return n._compositionEnd(a.target.value)})},features:[c._Bn([Rx]),c.qOj]}),o})();const es=new c.OlP("NgValidators"),Po=new c.OlP("NgAsyncValidators");function c_(o){return null!=o}function u_(o){const e=(0,c.QGY)(o)?(0,e_.D)(o):o;return(0,c.CqO)(e),e}function kx(o){let e={};return o.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function Sf(o,e){return e.map(t=>t(o))}function hm(o){return o.map(e=>function dm(o){return!o.validate}(e)?e:t=>e.validate(t))}function Wd(o){return null!=o?function Tf(o){if(!o)return null;const e=o.filter(c_);return 0==e.length?null:function(t){return kx(Sf(t,e))}}(hm(o)):null}function fm(o){return null!=o?function d_(o){if(!o)return null;const e=o.filter(c_);return 0==e.length?null:function(t){const n=Sf(t,e).map(u_);return(0,t_.D)(n).pipe((0,n_.U)(kx))}}(hm(o)):null}function h_(o,e){return null===o?[e]:Array.isArray(o)?[...o,e]:[o,e]}function jd(o){return o?Array.isArray(o)?o:[o]:[]}function $d(o,e){return Array.isArray(o)?o.includes(e):o===e}function pm(o,e){const t=jd(e);return jd(o).forEach(i=>{$d(t,i)||t.push(i)}),t}function mm(o,e){return jd(e).filter(t=>!$d(o,t))}class Cm{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Wd(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=fm(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Sl extends Cm{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Ss extends Cm{get formDirective(){return null}get path(){return null}}let Im=(()=>{class o extends class Am{constructor(e){this._cd=e}is(e){var t,n,i;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(i=null===(n=this._cd)||void 0===n?void 0:n.control)||void 0===i?void 0:i[e])}}{constructor(t){super(t)}}return o.\u0275fac=function(t){return new(t||o)(c.Y36(Sl,2))},o.\u0275dir=c.lG2({type:o,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,n){2&t&&c.ekj("ng-untouched",n.is("untouched"))("ng-touched",n.is("touched"))("ng-pristine",n.is("pristine"))("ng-dirty",n.is("dirty"))("ng-valid",n.is("valid"))("ng-invalid",n.is("invalid"))("ng-pending",n.is("pending"))},features:[c.qOj]}),o})();function bu(o,e){(function Lf(o,e){const t=function f_(o){return o._rawValidators}(o);null!==e.validator?o.setValidators(h_(t,e.validator)):"function"==typeof t&&o.setValidators([t]);const n=function gm(o){return o._rawAsyncValidators}(o);null!==e.asyncValidator?o.setAsyncValidators(h_(n,e.asyncValidator)):"function"==typeof n&&o.setAsyncValidators([n]);const i=()=>o.updateValueAndValidity();qd(e._rawValidators,i),qd(e._rawAsyncValidators,i)})(o,e),e.valueAccessor.writeValue(o.value),function bm(o,e){e.valueAccessor.registerOnChange(t=>{o._pendingValue=t,o._pendingChange=!0,o._pendingDirty=!0,"change"===o.updateOn&&Hx(o,e)})}(o,e),function zx(o,e){const t=(n,i)=>{e.valueAccessor.writeValue(n),i&&e.viewToModelUpdate(n)};o.registerOnChange(t),e._registerOnDestroy(()=>{o._unregisterOnChange(t)})}(o,e),function wm(o,e){e.valueAccessor.registerOnTouched(()=>{o._pendingTouched=!0,"blur"===o.updateOn&&o._pendingChange&&Hx(o,e),"submit"!==o.updateOn&&o.markAsTouched()})}(o,e),function Of(o,e){if(e.valueAccessor.setDisabledState){const t=n=>{e.valueAccessor.setDisabledState(n)};o.registerOnDisabledChange(t),e._registerOnDestroy(()=>{o._unregisterOnDisabledChange(t)})}}(o,e)}function qd(o,e){o.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Hx(o,e){o._pendingDirty&&o.markAsDirty(),o.setValue(o._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(o._pendingValue),o._pendingChange=!1}function Nf(o,e){const t=o.indexOf(e);t>-1&&o.splice(t,1)}const wu="VALID",kf="INVALID",Mu="PENDING",Bf="DISABLED";function __(o){return(Dm(o)?o.validators:o)||null}function qx(o){return Array.isArray(o)?Wd(o):o||null}function v_(o,e){return(Dm(e)?e.asyncValidators:o)||null}function Yx(o){return Array.isArray(o)?fm(o):o||null}function Dm(o){return null!=o&&!Array.isArray(o)&&"object"==typeof o}const y_=o=>o instanceof Vf;function Yd(o){return(o=>o instanceof Om)(o)?o.value:o.getRawValue()}function Jx(o,e){const t=y_(o),n=o.controls;if(!(t?Object.keys(n):n).length)throw new c.vHH(1e3,"");if(!n[e])throw new c.vHH(1001,"")}function Pm(o,e){y_(o),o._forEachChild((n,i)=>{if(void 0===e[i])throw new c.vHH(1002,"")})}class Kd{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=qx(this._rawValidators),this._composedAsyncValidatorFn=Yx(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===wu}get invalid(){return this.status===kf}get pending(){return this.status==Mu}get disabled(){return this.status===Bf}get enabled(){return this.status!==Bf}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=qx(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=Yx(e)}addValidators(e){this.setValidators(pm(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(pm(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(mm(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(mm(e,this._rawAsyncValidators))}hasValidator(e){return $d(this._rawValidators,e)}hasAsyncValidator(e){return $d(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Mu,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Bf,this.errors=null,this._forEachChild(n=>{n.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(n=>n(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=wu,this._forEachChild(n=>{n.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(n=>n(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===wu||this.status===Mu)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Bf:wu}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Mu,this._hasOwnPendingAsyncValidator=!0;const t=u_(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(n=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(n,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function I_(o,e,t){if(null==e||(Array.isArray(e)||(e=e.split(t)),Array.isArray(e)&&0===e.length))return null;let n=o;return e.forEach(i=>{n=y_(n)?n.controls.hasOwnProperty(i)?n.controls[i]:null:(o=>o instanceof FM)(n)&&n.at(i)||null}),n}(this,e,".")}getError(e,t){const n=t?this.get(t):this;return n&&n.errors?n.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new c.vpe,this.statusChanges=new c.vpe}_calculateStatus(){return this._allControlsDisabled()?Bf:this.errors?kf:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Mu)?Mu:this._anyControlsHaveStatus(kf)?kf:wu}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Dm(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Om extends Kd{constructor(e=null,t,n){super(__(t),v_(n,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Dm(t)&&t.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(n=>n(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Nf(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Nf(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class Vf extends Kd{constructor(e,t,n){super(__(t),v_(n,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,n={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){Pm(this,e),Object.keys(e).forEach(n=>{Jx(this,n),this.controls[n].setValue(e[n],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(e[n],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((n,i)=>{n.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,n)=>(e[n]=Yd(t),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,n)=>!!n._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const n=this.controls[t];n&&e(n,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const n=this.controls[t];if(this.contains(t)&&e(n))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,n)=>((t.enabled||this.disabled)&&(e[n]=t.value),e))}_reduceChildren(e,t){let n=e;return this._forEachChild((i,a)=>{n=t(n,i,a)}),n}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class FM extends Kd{constructor(e,t,n){super(__(t),v_(n,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,n={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:n.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){Pm(this,e),e.forEach((n,i)=>{Jx(this,i),this.at(i).setValue(n,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((n,i)=>{this.at(i)&&this.at(i).patchValue(n,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((n,i)=>{n.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>Yd(e))}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((t,n)=>!!n._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,n)=>{e(t,n)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const BM={provide:Sl,useExisting:(0,c.Gpc)(()=>Nm)},tb=(()=>Promise.resolve(null))();let Nm=(()=>{class o extends Sl{constructor(t,n,i,a,u){super(),this._changeDetectorRef=u,this.control=new Om,this._registered=!1,this.update=new c.vpe,this._parent=t,this._setValidators(n),this._setAsyncValidators(i),this.valueAccessor=function Em(o,e){if(!e)return null;let t,n,i;return Array.isArray(e),e.forEach(a=>{a.constructor===Ud?t=a:function $x(o){return Object.getPrototypeOf(o.constructor)===Ml}(a)?n=a:i=a}),i||n||t||null}(0,a)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const n=t.name.previousValue;this.formDirective.removeControl({name:n,path:this._getPath(n)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function Sm(o,e){if(!o.hasOwnProperty("model"))return!1;const t=o.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){bu(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){tb.then(()=>{var n;this.control.setValue(t,{emitViewToModelChange:!1}),null===(n=this._changeDetectorRef)||void 0===n||n.markForCheck()})}_updateDisabled(t){const n=t.isDisabled.currentValue,i=""===n||n&&"false"!==n;tb.then(()=>{var a;i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),null===(a=this._changeDetectorRef)||void 0===a||a.markForCheck()})}_getPath(t){return this._parent?function xm(o,e){return[...e.path,o]}(t,this._parent):[t]}}return o.\u0275fac=function(t){return new(t||o)(c.Y36(Ss,9),c.Y36(es,10),c.Y36(Po,10),c.Y36(Do,10),c.Y36(c.sBO,8))},o.\u0275dir=c.lG2({type:o,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[c._Bn([BM]),c.qOj,c.TTD]}),o})(),w_=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=c.oAB({type:o}),o.\u0275inj=c.cJS({}),o})(),pb=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=c.oAB({type:o}),o.\u0275inj=c.cJS({imports:[[w_]]}),o})(),mb=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=c.oAB({type:o}),o.\u0275inj=c.cJS({imports:[pb]}),o})();function Wm(o,e){if(1&o&&(c.TgZ(0,"span"),c._uU(1),c.qZA()),2&o){const t=c.oxw();c.xp6(1),c.Oqu(t.label||"empty")}}function Ib(o,e){1&o&&c.GkF(0)}const jf=function(o){return{height:o}},jm=function(o,e){return{"p-dropdown-item":!0,"p-highlight":o,"p-disabled":e}},Eu=function(o){return{$implicit:o}},jM=["container"],$M=["filter"],ZM=["in"],qM=["editableInput"];function $_(o,e){if(1&o&&(c.ynx(0),c._uU(1),c.BQk()),2&o){const t=c.oxw(2);c.xp6(1),c.Oqu(t.label||"empty")}}function _b(o,e){1&o&&c.GkF(0)}const vb=function(o){return{"p-dropdown-label p-inputtext":!0,"p-dropdown-label-empty":o}};function yb(o,e){if(1&o&&(c.TgZ(0,"span",12),c.YNc(1,$_,2,1,"ng-container",13),c.YNc(2,_b,1,0,"ng-container",14),c.qZA()),2&o){const t=c.oxw();c.Q6J("ngClass",c.VKq(9,vb,null==t.label||0===t.label.length))("pTooltip",t.tooltip)("tooltipPosition",t.tooltipPosition)("positionStyle",t.tooltipPositionStyle)("tooltipStyleClass",t.tooltipStyleClass),c.uIk("id",t.labelId),c.xp6(1),c.Q6J("ngIf",!t.selectedItemTemplate),c.xp6(1),c.Q6J("ngTemplateOutlet",t.selectedItemTemplate)("ngTemplateOutletContext",c.VKq(11,Eu,t.selectedOption))}}const xb=function(o){return{"p-dropdown-label p-inputtext p-placeholder":!0,"p-dropdown-label-empty":o}};function Z_(o,e){if(1&o&&(c.TgZ(0,"span",15),c._uU(1),c.qZA()),2&o){const t=c.oxw();c.Q6J("ngClass",c.VKq(2,xb,null==t.placeholder||0===t.placeholder.length)),c.xp6(1),c.Oqu(t.placeholder||"empty")}}function q_(o,e){if(1&o){const t=c.EpF();c.TgZ(0,"input",16,17),c.NdJ("click",function(){return c.CHM(t),c.oxw().onEditableInputClick()})("input",function(i){return c.CHM(t),c.oxw().onEditableInputChange(i)})("focus",function(i){return c.CHM(t),c.oxw().onEditableInputFocus(i)})("blur",function(i){return c.CHM(t),c.oxw().onInputBlur(i)}),c.qZA()}if(2&o){const t=c.oxw();c.Q6J("disabled",t.disabled),c.uIk("maxlength",t.maxlength)("placeholder",t.placeholder)("aria-expanded",t.overlayVisible)}}function Y_(o,e){if(1&o){const t=c.EpF();c.TgZ(0,"i",18),c.NdJ("click",function(i){return c.CHM(t),c.oxw().clear(i)}),c.qZA()}}function bb(o,e){1&o&&c.GkF(0)}function wb(o,e){if(1&o){const t=c.EpF();c.TgZ(0,"div",26)(1,"div",27),c.NdJ("click",function(i){return i.stopPropagation()}),c.TgZ(2,"input",28,29),c.NdJ("keydown.enter",function(i){return i.preventDefault()})("keydown",function(i){return c.CHM(t),c.oxw(2).onKeydown(i,!1)})("input",function(i){return c.CHM(t),c.oxw(2).onFilterInputChange(i)}),c.qZA(),c._UZ(4,"span",30),c.qZA()()}if(2&o){const t=c.oxw(2);c.xp6(2),c.Q6J("value",t.filterValue||""),c.uIk("placeholder",t.filterPlaceholder)("aria-label",t.ariaFilterLabel)("aria-activedescendant",t.overlayVisible?"p-highlighted-option":t.labelId)}}function K_(o,e){if(1&o&&(c.TgZ(0,"span"),c._uU(1),c.qZA()),2&o){const t=c.oxw().$implicit,n=c.oxw(3);c.xp6(1),c.Oqu(n.getOptionGroupLabel(t)||"empty")}}function $m(o,e){1&o&&c.GkF(0)}function YM(o,e){1&o&&c.GkF(0)}const Zm=function(o,e){return{$implicit:o,selectedOption:e}};function qm(o,e){if(1&o&&(c.TgZ(0,"li",32),c.YNc(1,K_,2,1,"span",13),c.YNc(2,$m,1,0,"ng-container",14),c.qZA(),c.YNc(3,YM,1,0,"ng-container",14)),2&o){const t=e.$implicit;c.oxw(2);const n=c.MAs(8),i=c.oxw();c.xp6(1),c.Q6J("ngIf",!i.groupTemplate),c.xp6(1),c.Q6J("ngTemplateOutlet",i.groupTemplate)("ngTemplateOutletContext",c.VKq(5,Eu,t)),c.xp6(1),c.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",c.WLB(7,Zm,i.getOptionGroupChildren(t),i.selectedOption))}}function Mb(o,e){if(1&o&&(c.ynx(0),c.YNc(1,qm,4,10,"ng-template",31),c.BQk()),2&o){const t=c.oxw(2);c.xp6(1),c.Q6J("ngForOf",t.optionsToDisplay)}}function Sb(o,e){1&o&&c.GkF(0)}function KM(o,e){if(1&o&&(c.ynx(0),c.YNc(1,Sb,1,0,"ng-container",14),c.BQk()),2&o){c.oxw();const t=c.MAs(8),n=c.oxw();c.xp6(1),c.Q6J("ngTemplateOutlet",t)("ngTemplateOutletContext",c.WLB(2,Zm,n.optionsToDisplay,n.selectedOption))}}function JM(o,e){if(1&o){const t=c.EpF();c.TgZ(0,"p-dropdownItem",35),c.NdJ("onClick",function(i){return c.CHM(t),c.oxw(4).onItemClick(i)}),c.qZA()}if(2&o){const t=e.$implicit,n=c.oxw(2).selectedOption,i=c.oxw(2);c.Q6J("option",t)("selected",n==t)("label",i.getOptionLabel(t))("disabled",i.isOptionDisabled(t))("template",i.itemTemplate)}}function QM(o,e){if(1&o&&(c.ynx(0),c.YNc(1,JM,1,5,"ng-template",31),c.BQk()),2&o){const t=c.oxw().$implicit;c.xp6(1),c.Q6J("ngForOf",t)}}function Tb(o,e){if(1&o){const t=c.EpF();c.ynx(0),c.TgZ(1,"p-dropdownItem",35),c.NdJ("onClick",function(i){return c.CHM(t),c.oxw(5).onItemClick(i)}),c.qZA(),c.BQk()}if(2&o){const t=e.$implicit,n=c.oxw(3).selectedOption,i=c.oxw(2);c.xp6(1),c.Q6J("option",t)("selected",n==t)("label",i.getOptionLabel(t))("disabled",i.isOptionDisabled(t))("template",i.itemTemplate)}}function Eb(o,e){if(1&o){const t=c.EpF();c.TgZ(0,"cdk-virtual-scroll-viewport",37,38),c.NdJ("scrolledIndexChange",function(){return c.CHM(t),c.oxw(4).scrollToSelectedVirtualScrollElement()}),c.YNc(2,Tb,2,5,"ng-container",39),c.qZA()}if(2&o){const t=c.oxw(2).$implicit,n=c.oxw(2);c.Q6J("ngStyle",c.VKq(3,jf,n.scrollHeight))("itemSize",n.itemSize),c.xp6(2),c.Q6J("cdkVirtualForOf",t)}}function XM(o,e){if(1&o&&c.YNc(0,Eb,3,5,"cdk-virtual-scroll-viewport",36),2&o){const t=c.oxw(3);c.Q6J("ngIf",t.virtualScroll&&t.optionsToDisplay&&t.optionsToDisplay.length)}}function eS(o,e){if(1&o&&(c.YNc(0,QM,2,1,"ng-container",33),c.YNc(1,XM,1,1,"ng-template",null,34,c.W1O)),2&o){const t=c.MAs(2),n=c.oxw(2);c.Q6J("ngIf",!n.virtualScroll)("ngIfElse",t)}}function tS(o,e){if(1&o&&(c.ynx(0),c._uU(1),c.BQk()),2&o){const t=c.oxw(3);c.xp6(1),c.hij(" ",t.emptyFilterMessageLabel," ")}}function nS(o,e){1&o&&c.GkF(0,null,41)}function iS(o,e){if(1&o&&(c.TgZ(0,"li",40),c.YNc(1,tS,2,1,"ng-container",33),c.YNc(2,nS,2,0,"ng-container",20),c.qZA()),2&o){const t=c.oxw(2);c.xp6(1),c.Q6J("ngIf",!t.emptyFilterTemplate&&!t.emptyTemplate)("ngIfElse",t.emptyFilter),c.xp6(1),c.Q6J("ngTemplateOutlet",t.emptyFilterTemplate||t.emptyTemplate)}}function Db(o,e){if(1&o&&(c.ynx(0),c._uU(1),c.BQk()),2&o){const t=c.oxw(3);c.xp6(1),c.hij(" ",t.emptyMessageLabel," ")}}function rS(o,e){1&o&&c.GkF(0,null,42)}function sS(o,e){if(1&o&&(c.TgZ(0,"li",40),c.YNc(1,Db,2,1,"ng-container",33),c.YNc(2,rS,2,0,"ng-container",20),c.qZA()),2&o){const t=c.oxw(2);c.xp6(1),c.Q6J("ngIf",!t.emptyTemplate)("ngIfElse",t.empty),c.xp6(1),c.Q6J("ngTemplateOutlet",t.emptyTemplate)}}function oS(o,e){1&o&&c.GkF(0)}const aS=function(o,e){return{showTransitionParams:o,hideTransitionParams:e}},r=function(o){return{value:"visible",params:o}},s=function(o){return{"p-dropdown-virtualscroll":o}};function l(o,e){if(1&o){const t=c.EpF();c.TgZ(0,"div",19),c.NdJ("click",function(i){return c.CHM(t),c.oxw().onOverlayClick(i)})("@overlayAnimation.start",function(i){return c.CHM(t),c.oxw().onOverlayAnimationStart(i)})("@overlayAnimation.start",function(i){return c.CHM(t),c.oxw().onOverlayAnimationEnd(i)}),c.YNc(1,bb,1,0,"ng-container",20),c.YNc(2,wb,5,4,"div",21),c.TgZ(3,"div",22)(4,"ul",23),c.YNc(5,Mb,2,1,"ng-container",13),c.YNc(6,KM,2,5,"ng-container",13),c.YNc(7,eS,3,2,"ng-template",null,24,c.W1O),c.YNc(9,iS,3,3,"li",25),c.YNc(10,sS,3,3,"li",25),c.qZA()(),c.YNc(11,oS,1,0,"ng-container",20),c.qZA()}if(2&o){const t=c.oxw();c.Tol(t.panelStyleClass),c.Q6J("ngClass","p-dropdown-panel p-component")("@overlayAnimation",c.VKq(19,r,c.WLB(16,aS,t.showTransitionOptions,t.hideTransitionOptions)))("ngStyle",t.panelStyle),c.xp6(1),c.Q6J("ngTemplateOutlet",t.headerTemplate),c.xp6(1),c.Q6J("ngIf",t.filter),c.xp6(1),c.Udp("max-height",t.virtualScroll?"auto":t.scrollHeight||"auto"),c.xp6(1),c.Q6J("ngClass",c.VKq(21,s,t.virtualScroll)),c.uIk("id",t.listId),c.xp6(1),c.Q6J("ngIf",t.group),c.xp6(1),c.Q6J("ngIf",!t.group),c.xp6(3),c.Q6J("ngIf",t.filterValue&&t.isEmpty()),c.xp6(1),c.Q6J("ngIf",!t.filterValue&&t.isEmpty()),c.xp6(1),c.Q6J("ngTemplateOutlet",t.footerTemplate)}}const d=function(o,e,t,n){return{"p-dropdown p-component":!0,"p-disabled":o,"p-dropdown-open":e,"p-focus":t,"p-dropdown-clearable":n}},f={provide:Do,useExisting:(0,c.Gpc)(()=>I),multi:!0};let m=(()=>{class o{constructor(){this.onClick=new c.vpe}onOptionClick(t){this.onClick.emit({originalEvent:t,option:this.option})}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=c.Xpm({type:o,selectors:[["p-dropdownItem"]],hostAttrs:[1,"p-element"],inputs:{option:"option",selected:"selected",label:"label",disabled:"disabled",visible:"visible",itemSize:"itemSize",template:"template"},outputs:{onClick:"onClick"},decls:3,vars:15,consts:[["role","option","pRipple","",3,"ngStyle","id","ngClass","click"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,n){1&t&&(c.TgZ(0,"li",0),c.NdJ("click",function(a){return n.onOptionClick(a)}),c.YNc(1,Wm,2,1,"span",1),c.YNc(2,Ib,1,0,"ng-container",2),c.qZA()),2&t&&(c.Q6J("ngStyle",c.VKq(8,jf,n.itemSize+"px"))("id",n.selected?"p-highlighted-option":"")("ngClass",c.WLB(10,jm,n.selected,n.disabled)),c.uIk("aria-label",n.label)("aria-selected",n.selected),c.xp6(1),c.Q6J("ngIf",!n.template),c.xp6(1),c.Q6J("ngTemplateOutlet",n.template)("ngTemplateOutletContext",c.VKq(13,Eu,n.option)))},directives:[dc.H,me.PC,me.mk,me.O5,me.tP],encapsulation:2}),o})(),I=(()=>{class o{constructor(t,n,i,a,u,h,g){this.el=t,this.renderer=n,this.cd=i,this.zone=a,this.filterService=u,this.config=h,this.overlayService=g,this.scrollHeight="200px",this.resetFilterOnHide=!1,this.dropdownIcon="pi pi-chevron-down",this.optionGroupChildren="items",this.autoDisplayFirst=!0,this.emptyFilterMessage="",this.emptyMessage="",this.autoZIndex=!0,this.baseZIndex=0,this.showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)",this.hideTransitionOptions=".1s linear",this.filterMatchMode="contains",this.tooltip="",this.tooltipPosition="right",this.tooltipPositionStyle="absolute",this.autofocusFilter=!0,this.onChange=new c.vpe,this.onFilter=new c.vpe,this.onFocus=new c.vpe,this.onBlur=new c.vpe,this.onClick=new c.vpe,this.onShow=new c.vpe,this.onHide=new c.vpe,this.onClear=new c.vpe,this.onModelChange=()=>{},this.onModelTouched=()=>{},this.viewPortOffsetTop=0,this.id=(0,Xs.Th)()}get disabled(){return this._disabled}set disabled(t){t&&(this.focused=!1,this.overlayVisible&&this.hide()),this._disabled=t,this.cd.destroyed||this.cd.detectChanges()}ngAfterContentInit(){this.templates.forEach(t=>{switch(t.getType()){case"item":default:this.itemTemplate=t.template;break;case"selectedItem":this.selectedItemTemplate=t.template;break;case"header":this.headerTemplate=t.template;break;case"footer":this.footerTemplate=t.template;break;case"emptyfilter":this.emptyFilterTemplate=t.template;break;case"empty":this.emptyTemplate=t.template;break;case"group":this.groupTemplate=t.template}})}ngOnInit(){this.optionsToDisplay=this.options,this.updateSelectedOption(null),this.labelId=this.id+"_label",this.listId=this.id+"_list"}get options(){return this._options}set options(t){this._options=t,this.optionsToDisplay=this._options,this.updateSelectedOption(this.value),this.optionsChanged=!0,this._filterValue&&this._filterValue.length&&this.activateFilter()}get filterValue(){return this._filterValue}set filterValue(t){this._filterValue=t,this.activateFilter()}ngAfterViewInit(){this.editable&&this.updateEditableLabel()}get label(){return this.selectedOption?this.getOptionLabel(this.selectedOption):null}get emptyMessageLabel(){return this.emptyMessage||this.config.getTranslation(Zo.ws.EMPTY_MESSAGE)}get emptyFilterMessageLabel(){return this.emptyFilterMessage||this.config.getTranslation(Zo.ws.EMPTY_FILTER_MESSAGE)}get filled(){return this.value||null!=this.value||null!=this.value}updateEditableLabel(){this.editableInputViewChild&&this.editableInputViewChild.nativeElement&&(this.editableInputViewChild.nativeElement.value=this.selectedOption?this.getOptionLabel(this.selectedOption):this.value||"")}getOptionLabel(t){return this.optionLabel?Xs.gb.resolveFieldData(t,this.optionLabel):null!=t.label?t.label:t}getOptionValue(t){return this.optionValue?Xs.gb.resolveFieldData(t,this.optionValue):this.optionLabel||void 0===t.value?t:t.value}isOptionDisabled(t){return this.optionDisabled?Xs.gb.resolveFieldData(t,this.optionDisabled):void 0!==t.disabled&&t.disabled}getOptionGroupLabel(t){return this.optionGroupLabel?Xs.gb.resolveFieldData(t,this.optionGroupLabel):null!=t.label?t.label:t}getOptionGroupChildren(t){return this.optionGroupChildren?Xs.gb.resolveFieldData(t,this.optionGroupChildren):t.items}onItemClick(t){const n=t.option;this.isOptionDisabled(n)||(this.selectItem(t.originalEvent,n),this.accessibleViewChild.nativeElement.focus()),setTimeout(()=>{this.hide()},150)}selectItem(t,n){this.selectedOption!=n&&(this.selectedOption=n,this.value=this.getOptionValue(n),this.onModelChange(this.value),this.updateEditableLabel(),this.onChange.emit({originalEvent:t,value:this.value}),this.virtualScroll&&setTimeout(()=>{this.viewPortOffsetTop=this.viewPort?this.viewPort.measureScrollOffset():0},1))}ngAfterViewChecked(){if(this.optionsChanged&&this.overlayVisible&&(this.optionsChanged=!1,this.virtualScroll&&this.updateVirtualScrollSelectedIndex(!0),this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.alignOverlay()},1)})),this.selectedOptionUpdated&&this.itemsWrapper){if(this.virtualScroll&&this.viewPort){let n=this.viewPort.getRenderedRange();this.updateVirtualScrollSelectedIndex(!1),(n.start>this.virtualScrollSelectedIndex||n.end<this.virtualScrollSelectedIndex)&&this.viewPort.scrollToIndex(this.virtualScrollSelectedIndex)}zs.p.findSingle(this.overlay,"li.p-highlight")&&zs.p.scrollInView(this.itemsWrapper,zs.p.findSingle(this.overlay,"li.p-highlight")),this.selectedOptionUpdated=!1}}writeValue(t){this.filter&&this.resetFilter(),this.value=t,this.updateSelectedOption(t),this.updateEditableLabel(),this.cd.markForCheck()}resetFilter(){this._filterValue=null,this.filterViewChild&&this.filterViewChild.nativeElement&&(this.filterViewChild.nativeElement.value=""),this.optionsToDisplay=this.options}updateSelectedOption(t){this.selectedOption=this.findOption(t,this.optionsToDisplay),this.autoDisplayFirst&&!this.placeholder&&!this.selectedOption&&this.optionsToDisplay&&this.optionsToDisplay.length&&!this.editable&&(this.selectedOption=this.optionsToDisplay[0],this.value=this.getOptionValue(this.selectedOption),this.onModelChange(this.value)),this.selectedOptionUpdated=!0}registerOnChange(t){this.onModelChange=t}registerOnTouched(t){this.onModelTouched=t}setDisabledState(t){this.disabled=t,this.cd.markForCheck()}onMouseclick(t){this.disabled||this.readonly||this.isInputClick(t)||(this.onClick.emit(t),this.accessibleViewChild.nativeElement.focus(),this.overlayVisible?this.hide():this.show(),this.cd.detectChanges())}onOverlayClick(t){this.overlayService.add({originalEvent:t,target:this.el.nativeElement})}isInputClick(t){return zs.p.hasClass(t.target,"p-dropdown-clear-icon")||t.target.isSameNode(this.accessibleViewChild.nativeElement)||this.editableInputViewChild&&t.target.isSameNode(this.editableInputViewChild.nativeElement)}isOutsideClicked(t){return!(this.el.nativeElement.isSameNode(t.target)||this.el.nativeElement.contains(t.target)||this.overlay&&this.overlay.contains(t.target))}isEmpty(){return!this.optionsToDisplay||this.optionsToDisplay&&0===this.optionsToDisplay.length}onEditableInputClick(){this.bindDocumentClickListener()}onEditableInputFocus(t){this.focused=!0,this.hide(),this.onFocus.emit(t)}onEditableInputChange(t){this.value=t.target.value,this.updateSelectedOption(this.value),this.onModelChange(this.value),this.onChange.emit({originalEvent:t,value:this.value})}show(){this.overlayVisible=!0,this.preventDocumentDefault=!0,this.cd.markForCheck()}onOverlayAnimationStart(t){switch(t.toState){case"visible":if(this.overlay=t.element,this.itemsWrapper=zs.p.findSingle(this.overlay,this.virtualScroll?".cdk-virtual-scroll-viewport":".p-dropdown-items-wrapper"),this.appendOverlay(),this.autoZIndex&&Xs.P9.set("overlay",this.overlay,this.baseZIndex+this.config.zIndex.overlay),this.alignOverlay(),this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener(),this.options&&this.options.length&&!this.virtualScroll){let i=zs.p.findSingle(this.itemsWrapper,".p-dropdown-item.p-highlight");i&&i.scrollIntoView({block:"nearest",inline:"center"})}this.filterViewChild&&this.filterViewChild.nativeElement&&(this.preventModelTouched=!0,this.autofocusFilter&&this.filterViewChild.nativeElement.focus()),this.onShow.emit(t);break;case"void":this.onOverlayHide(),this.onHide.emit(t)}}onOverlayAnimationEnd(t){"void"===t.toState&&Xs.P9.clear(t.element)}scrollToSelectedVirtualScrollElement(){this.virtualAutoScrolled||(this.viewPortOffsetTop?this.viewPort.scrollToOffset(this.viewPortOffsetTop):this.virtualScrollSelectedIndex>-1&&this.viewPort.scrollToIndex(this.virtualScrollSelectedIndex)),this.virtualAutoScrolled=!0}updateVirtualScrollSelectedIndex(t){this.selectedOption&&this.optionsToDisplay&&this.optionsToDisplay.length&&(t&&(this.viewPortOffsetTop=0),this.virtualScrollSelectedIndex=this.findOptionIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay))}appendOverlay(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.overlay):zs.p.appendChild(this.overlay,this.appendTo),this.overlay.style.minWidth||(this.overlay.style.minWidth=zs.p.getWidth(this.containerViewChild.nativeElement)+"px"))}restoreOverlayAppend(){this.overlay&&this.appendTo&&this.el.nativeElement.appendChild(this.overlay)}hide(){this.overlayVisible=!1,this.filter&&this.resetFilterOnHide&&this.resetFilter(),this.virtualScroll&&(this.virtualAutoScrolled=!1),this.cd.markForCheck()}alignOverlay(){this.overlay&&(this.appendTo?zs.p.absolutePosition(this.overlay,this.containerViewChild.nativeElement):zs.p.relativePosition(this.overlay,this.containerViewChild.nativeElement))}onInputFocus(t){this.focused=!0,this.onFocus.emit(t)}onInputBlur(t){this.focused=!1,this.onBlur.emit(t),this.preventModelTouched||this.onModelTouched(),this.preventModelTouched=!1}findPrevEnabledOption(t){let n;if(this.optionsToDisplay&&this.optionsToDisplay.length){for(let i=t-1;0<=i;i--){let a=this.optionsToDisplay[i];if(!this.isOptionDisabled(a)){n=a;break}}if(!n)for(let i=this.optionsToDisplay.length-1;i>=t;i--){let a=this.optionsToDisplay[i];if(!this.isOptionDisabled(a)){n=a;break}}}return n}findNextEnabledOption(t){let n;if(this.optionsToDisplay&&this.optionsToDisplay.length){for(let i=t+1;i<this.optionsToDisplay.length;i++){let a=this.optionsToDisplay[i];if(!this.isOptionDisabled(a)){n=a;break}}if(!n)for(let i=0;i<t;i++){let a=this.optionsToDisplay[i];if(!this.isOptionDisabled(a)){n=a;break}}}return n}onKeydown(t,n){if(!this.readonly&&this.optionsToDisplay&&null!==this.optionsToDisplay.length)switch(t.which){case 40:if(!this.overlayVisible&&t.altKey)this.show();else if(this.group){let i=this.selectedOption?this.findOptionGroupIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1;if(-1!==i){let a=i.itemIndex+1;a<this.getOptionGroupChildren(this.optionsToDisplay[i.groupIndex]).length?(this.selectItem(t,this.getOptionGroupChildren(this.optionsToDisplay[i.groupIndex])[a]),this.selectedOptionUpdated=!0):this.optionsToDisplay[i.groupIndex+1]&&(this.selectItem(t,this.getOptionGroupChildren(this.optionsToDisplay[i.groupIndex+1])[0]),this.selectedOptionUpdated=!0)}else this.optionsToDisplay&&this.optionsToDisplay.length>0&&this.selectItem(t,this.getOptionGroupChildren(this.optionsToDisplay[0])[0])}else{let i=this.selectedOption?this.findOptionIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1,a=this.findNextEnabledOption(i);a&&(this.selectItem(t,a),this.selectedOptionUpdated=!0)}t.preventDefault();break;case 38:if(this.group){let i=this.selectedOption?this.findOptionGroupIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1;if(-1!==i){let a=i.itemIndex-1;if(a>=0)this.selectItem(t,this.getOptionGroupChildren(this.optionsToDisplay[i.groupIndex])[a]),this.selectedOptionUpdated=!0;else if(a<0){let u=this.optionsToDisplay[i.groupIndex-1];u&&(this.selectItem(t,this.getOptionGroupChildren(u)[this.getOptionGroupChildren(u).length-1]),this.selectedOptionUpdated=!0)}}}else{let i=this.selectedOption?this.findOptionIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1,a=this.findPrevEnabledOption(i);a&&(this.selectItem(t,a),this.selectedOptionUpdated=!0)}t.preventDefault();break;case 32:n&&(this.overlayVisible?this.hide():this.show(),t.preventDefault());break;case 13:this.overlayVisible&&(!this.filter||this.optionsToDisplay&&this.optionsToDisplay.length>0)?this.hide():this.overlayVisible||this.show(),t.preventDefault();break;case 27:case 9:this.hide();break;default:n&&!t.metaKey&&this.search(t)}}search(t){this.searchTimeout&&clearTimeout(this.searchTimeout);const n=t.key;let i;if(this.previousSearchChar=this.currentSearchChar,this.currentSearchChar=n,this.searchValue=this.previousSearchChar===this.currentSearchChar?this.currentSearchChar:this.searchValue?this.searchValue+n:n,this.group){let a=this.selectedOption?this.findOptionGroupIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):{groupIndex:0,itemIndex:0};i=this.searchOptionWithinGroup(a)}else{let a=this.selectedOption?this.findOptionIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1;i=this.searchOption(++a)}i&&!this.isOptionDisabled(i)&&(this.selectItem(t,i),this.selectedOptionUpdated=!0),this.searchTimeout=setTimeout(()=>{this.searchValue=null},250)}searchOption(t){let n;return this.searchValue&&(n=this.searchOptionInRange(t,this.optionsToDisplay.length),n||(n=this.searchOptionInRange(0,t))),n}searchOptionInRange(t,n){for(let i=t;i<n;i++){let a=this.optionsToDisplay[i];if(this.getOptionLabel(a).toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale))&&!this.isOptionDisabled(a))return a}return null}searchOptionWithinGroup(t){if(this.searchValue){for(let i=t.groupIndex;i<this.optionsToDisplay.length;i++)for(let a=t.groupIndex===i?t.itemIndex+1:0;a<this.getOptionGroupChildren(this.optionsToDisplay[i]).length;a++){let u=this.getOptionGroupChildren(this.optionsToDisplay[i])[a];if(this.getOptionLabel(u).toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale))&&!this.isOptionDisabled(u))return u}for(let i=0;i<=t.groupIndex;i++)for(let a=0;a<(t.groupIndex===i?t.itemIndex:this.getOptionGroupChildren(this.optionsToDisplay[i]).length);a++){let u=this.getOptionGroupChildren(this.optionsToDisplay[i])[a];if(this.getOptionLabel(u).toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale))&&!this.isOptionDisabled(u))return u}}return null}findOptionIndex(t,n){let i=-1;if(n)for(let a=0;a<n.length;a++)if(null==t&&null==this.getOptionValue(n[a])||Xs.gb.equals(t,this.getOptionValue(n[a]),this.dataKey)){i=a;break}return i}findOptionGroupIndex(t,n){let i,a;if(n)for(let u=0;u<n.length&&(i=u,a=this.findOptionIndex(t,this.getOptionGroupChildren(n[u])),-1===a);u++);return-1!==a?{groupIndex:i,itemIndex:a}:-1}findOption(t,n,i){if(this.group&&!i){let a;if(n&&n.length)for(let u of n)if(a=this.findOption(t,this.getOptionGroupChildren(u),!0),a)break;return a}{let a=this.findOptionIndex(t,n);return-1!=a?n[a]:null}}onFilterInputChange(t){let n=t.target.value;n&&n.length?(this._filterValue=n,this.activateFilter()):(this._filterValue=null,this.optionsToDisplay=this.options),this.optionsChanged=!0,this.onFilter.emit({originalEvent:t,filter:this._filterValue})}activateFilter(){let t=(this.filterBy||this.optionLabel||"label").split(",");if(this.options&&this.options.length){if(this.group){let n=[];for(let i of this.options){let a=this.filterService.filter(this.getOptionGroupChildren(i),t,this.filterValue,this.filterMatchMode,this.filterLocale);a&&a.length&&n.push(Object.assign(Object.assign({},i),{[this.optionGroupChildren]:a}))}this.optionsToDisplay=n}else this.optionsToDisplay=this.filterService.filter(this.options,t,this.filterValue,this.filterMatchMode,this.filterLocale);this.optionsChanged=!0}}applyFocus(){this.editable?zs.p.findSingle(this.el.nativeElement,".p-dropdown-label.p-inputtext").focus():zs.p.findSingle(this.el.nativeElement,"input[readonly]").focus()}focus(){this.applyFocus()}bindDocumentClickListener(){this.documentClickListener||(this.documentClickListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","click",n=>{!this.preventDocumentDefault&&this.isOutsideClicked(n)&&(this.hide(),this.unbindDocumentClickListener()),this.preventDocumentDefault=!1}))}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}bindDocumentResizeListener(){this.documentResizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.documentResizeListener)}unbindDocumentResizeListener(){this.documentResizeListener&&(window.removeEventListener("resize",this.documentResizeListener),this.documentResizeListener=null)}onWindowResize(){this.overlayVisible&&!zs.p.isTouchDevice()&&this.hide()}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new zs.V(this.containerViewChild.nativeElement,t=>{this.overlayVisible&&this.hide()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}clear(t){this.value=null,this.onModelChange(this.value),this.onChange.emit({originalEvent:t,value:this.value}),this.updateSelectedOption(this.value),this.updateEditableLabel(),this.onClear.emit(t)}onOverlayHide(){this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.overlay=null,this.itemsWrapper=null,this.onModelTouched()}ngOnDestroy(){this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.overlay&&Xs.P9.clear(this.overlay),this.restoreOverlayAppend(),this.onOverlayHide()}}return o.\u0275fac=function(t){return new(t||o)(c.Y36(c.SBq),c.Y36(c.Qsj),c.Y36(c.sBO),c.Y36(c.R0b),c.Y36(Zo.iZ),c.Y36(Zo.b4),c.Y36(Zo.F0))},o.\u0275cmp=c.Xpm({type:o,selectors:[["p-dropdown"]],contentQueries:function(t,n,i){if(1&t&&c.Suo(i,Zo.jx,4),2&t){let a;c.iGM(a=c.CRH())&&(n.templates=a)}},viewQuery:function(t,n){if(1&t&&(c.Gf(jM,5),c.Gf($M,5),c.Gf(ZM,5),c.Gf(kd.N7,5),c.Gf(qM,5)),2&t){let i;c.iGM(i=c.CRH())&&(n.containerViewChild=i.first),c.iGM(i=c.CRH())&&(n.filterViewChild=i.first),c.iGM(i=c.CRH())&&(n.accessibleViewChild=i.first),c.iGM(i=c.CRH())&&(n.viewPort=i.first),c.iGM(i=c.CRH())&&(n.editableInputViewChild=i.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:4,hostBindings:function(t,n){2&t&&c.ekj("p-inputwrapper-filled",n.filled)("p-inputwrapper-focus",n.focused||n.overlayVisible)},inputs:{scrollHeight:"scrollHeight",filter:"filter",name:"name",style:"style",panelStyle:"panelStyle",styleClass:"styleClass",panelStyleClass:"panelStyleClass",readonly:"readonly",required:"required",editable:"editable",appendTo:"appendTo",tabindex:"tabindex",placeholder:"placeholder",filterPlaceholder:"filterPlaceholder",filterLocale:"filterLocale",inputId:"inputId",selectId:"selectId",dataKey:"dataKey",filterBy:"filterBy",autofocus:"autofocus",resetFilterOnHide:"resetFilterOnHide",dropdownIcon:"dropdownIcon",optionLabel:"optionLabel",optionValue:"optionValue",optionDisabled:"optionDisabled",optionGroupLabel:"optionGroupLabel",optionGroupChildren:"optionGroupChildren",autoDisplayFirst:"autoDisplayFirst",group:"group",showClear:"showClear",emptyFilterMessage:"emptyFilterMessage",emptyMessage:"emptyMessage",virtualScroll:"virtualScroll",itemSize:"itemSize",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",ariaFilterLabel:"ariaFilterLabel",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",filterMatchMode:"filterMatchMode",maxlength:"maxlength",tooltip:"tooltip",tooltipPosition:"tooltipPosition",tooltipPositionStyle:"tooltipPositionStyle",tooltipStyleClass:"tooltipStyleClass",autofocusFilter:"autofocusFilter",disabled:"disabled",options:"options",filterValue:"filterValue"},outputs:{onChange:"onChange",onFilter:"onFilter",onFocus:"onFocus",onBlur:"onBlur",onClick:"onClick",onShow:"onShow",onHide:"onHide",onClear:"onClear"},features:[c._Bn([f])],decls:12,vars:25,consts:[[3,"ngClass","ngStyle","click"],["container",""],[1,"p-hidden-accessible"],["type","text","readonly","","aria-haspopup","listbox","aria-haspopup","listbox","role","combobox",3,"disabled","focus","blur","keydown"],["in",""],[3,"ngClass","pTooltip","tooltipPosition","positionStyle","tooltipStyleClass",4,"ngIf"],[3,"ngClass",4,"ngIf"],["type","text","class","p-dropdown-label p-inputtext","aria-haspopup","listbox",3,"disabled","click","input","focus","blur",4,"ngIf"],["class","p-dropdown-clear-icon pi pi-times",3,"click",4,"ngIf"],["role","button","aria-label","dropdown trigger","aria-haspopup","listbox",1,"p-dropdown-trigger"],[1,"p-dropdown-trigger-icon",3,"ngClass"],["onOverlayAnimationEnd","",3,"ngClass","ngStyle","class","click",4,"ngIf"],[3,"ngClass","pTooltip","tooltipPosition","positionStyle","tooltipStyleClass"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngClass"],["type","text","aria-haspopup","listbox",1,"p-dropdown-label","p-inputtext",3,"disabled","click","input","focus","blur"],["editableInput",""],[1,"p-dropdown-clear-icon","pi","pi-times",3,"click"],["onOverlayAnimationEnd","",3,"ngClass","ngStyle","click"],[4,"ngTemplateOutlet"],["class","p-dropdown-header",4,"ngIf"],[1,"p-dropdown-items-wrapper"],["role","listbox",1,"p-dropdown-items",3,"ngClass"],["itemslist",""],["class","p-dropdown-empty-message",4,"ngIf"],[1,"p-dropdown-header"],[1,"p-dropdown-filter-container",3,"click"],["type","text","autocomplete","off",1,"p-dropdown-filter","p-inputtext","p-component",3,"value","keydown.enter","keydown","input"],["filter",""],[1,"p-dropdown-filter-icon","pi","pi-search"],["ngFor","",3,"ngForOf"],[1,"p-dropdown-item-group"],[4,"ngIf","ngIfElse"],["virtualScrollList",""],[3,"option","selected","label","disabled","template","onClick"],[3,"ngStyle","itemSize","scrolledIndexChange",4,"ngIf"],[3,"ngStyle","itemSize","scrolledIndexChange"],["viewport",""],[4,"cdkVirtualFor","cdkVirtualForOf"],[1,"p-dropdown-empty-message"],["emptyFilter",""],["empty",""]],template:function(t,n){1&t&&(c.TgZ(0,"div",0,1),c.NdJ("click",function(a){return n.onMouseclick(a)}),c.TgZ(2,"div",2)(3,"input",3,4),c.NdJ("focus",function(a){return n.onInputFocus(a)})("blur",function(a){return n.onInputBlur(a)})("keydown",function(a){return n.onKeydown(a,!0)}),c.qZA()(),c.YNc(5,yb,3,13,"span",5),c.YNc(6,Z_,2,4,"span",6),c.YNc(7,q_,2,4,"input",7),c.YNc(8,Y_,1,0,"i",8),c.TgZ(9,"div",9),c._UZ(10,"span",10),c.qZA(),c.YNc(11,l,12,23,"div",11),c.qZA()),2&t&&(c.Tol(n.styleClass),c.Q6J("ngClass",c.l5B(20,d,n.disabled,n.overlayVisible,n.focused,n.showClear&&!n.disabled))("ngStyle",n.style),c.xp6(3),c.Q6J("disabled",n.disabled),c.uIk("id",n.inputId)("placeholder",n.placeholder)("aria-label",n.ariaLabel)("aria-expanded",!1)("aria-labelledby",n.ariaLabelledBy)("tabindex",n.tabindex)("autofocus",n.autofocus)("aria-activedescendant",n.overlayVisible?n.labelId:null),c.xp6(2),c.Q6J("ngIf",!n.editable&&null!=n.label),c.xp6(1),c.Q6J("ngIf",!n.editable&&null==n.label),c.xp6(1),c.Q6J("ngIf",n.editable),c.xp6(1),c.Q6J("ngIf",null!=n.value&&n.showClear&&!n.disabled),c.xp6(1),c.uIk("aria-expanded",n.overlayVisible),c.xp6(1),c.Q6J("ngClass",n.dropdownIcon),c.xp6(1),c.Q6J("ngIf",n.overlayVisible))},directives:[m,kd.N7,me.mk,me.PC,me.O5,Rd.u,me.tP,me.sg,kd.xd,kd.x0],styles:[".p-dropdown{display:inline-flex;cursor:pointer;position:relative;-webkit-user-select:none;user-select:none}.p-dropdown-clear-icon{position:absolute;top:50%;margin-top:-.5rem}.p-dropdown-trigger{display:flex;align-items:center;justify-content:center;flex-shrink:0}.p-dropdown-label{display:block;white-space:nowrap;overflow:hidden;flex:1 1 auto;width:1%;text-overflow:ellipsis;cursor:pointer}.p-dropdown-label-empty{overflow:hidden;visibility:hidden}input.p-dropdown-label{cursor:default}.p-dropdown .p-dropdown-panel{min-width:100%}.p-dropdown-panel{position:absolute;top:0;left:0}.p-dropdown-items-wrapper{overflow:auto}.p-dropdown-item{cursor:pointer;font-weight:400;white-space:nowrap;position:relative;overflow:hidden}.p-dropdown-items{margin:0;padding:0;list-style-type:none}.p-dropdown-filter{width:100%}.p-dropdown-filter-container{position:relative}.p-dropdown-filter-icon{position:absolute;top:50%;margin-top:-.5rem}.p-fluid .p-dropdown{display:flex}.p-fluid .p-dropdown .p-dropdown-label{width:1%}\n"],encapsulation:2,data:{animation:[QI("overlayAnimation",[am(":enter",[Bd({opacity:0,transform:"scaleY(0.8)"}),Sx("{{showTransitionParams}}")]),am(":leave",[Sx("{{hideTransitionParams}}",Bd({opacity:0}))])])]},changeDetection:0}),o})(),w=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=c.oAB({type:o}),o.\u0275inj=c.cJS({imports:[[me.ez,Zo.m8,kd.Cl,Rd.z,dc.T],Zo.m8,kd.Cl]}),o})();const P=function(o,e){return{"p-button-icon":!0,"p-button-icon-left":o,"p-button-icon-right":e}};function k(o,e){if(1&o&&c._UZ(0,"span",3),2&o){const t=c.oxw();c.Tol(t.checked?t.onIcon:t.offIcon),c.Q6J("ngClass",c.WLB(3,P,"left"===t.iconPos,"right"===t.iconPos))}}const j=function(o,e,t){return{"p-button p-togglebutton p-component":!0,"p-button-icon-only":o,"p-highlight":e,"p-disabled":t}},re={provide:Do,useExisting:(0,c.Gpc)(()=>ve),multi:!0};let ve=(()=>{class o{constructor(t){this.cd=t,this.iconPos="left",this.onChange=new c.vpe,this.checked=!1,this.onModelChange=()=>{},this.onModelTouched=()=>{}}toggle(t){this.disabled||(this.checked=!this.checked,this.onModelChange(this.checked),this.onModelTouched(),this.onChange.emit({originalEvent:t,checked:this.checked}),this.cd.markForCheck())}onBlur(){this.onModelTouched()}writeValue(t){this.checked=t,this.cd.markForCheck()}registerOnChange(t){this.onModelChange=t}registerOnTouched(t){this.onModelTouched=t}setDisabledState(t){this.disabled=t,this.cd.markForCheck()}get hasOnLabel(){return this.onLabel&&this.onLabel.length>0}get hasOffLabel(){return this.onLabel&&this.onLabel.length>0}}return o.\u0275fac=function(t){return new(t||o)(c.Y36(c.sBO))},o.\u0275cmp=c.Xpm({type:o,selectors:[["p-toggleButton"]],hostAttrs:[1,"p-element"],inputs:{onLabel:"onLabel",offLabel:"offLabel",onIcon:"onIcon",offIcon:"offIcon",ariaLabelledBy:"ariaLabelledBy",disabled:"disabled",style:"style",styleClass:"styleClass",inputId:"inputId",tabindex:"tabindex",iconPos:"iconPos"},outputs:{onChange:"onChange"},features:[c._Bn([re])],decls:4,vars:12,consts:[["role","checkbox","pRipple","",3,"ngClass","ngStyle","click","keydown.enter"],[3,"class","ngClass",4,"ngIf"],[1,"p-button-label"],[3,"ngClass"]],template:function(t,n){1&t&&(c.TgZ(0,"div",0),c.NdJ("click",function(a){return n.toggle(a)})("keydown.enter",function(a){return n.toggle(a)}),c.YNc(1,k,1,6,"span",1),c.TgZ(2,"span",2),c._uU(3),c.qZA()()),2&t&&(c.Tol(n.styleClass),c.Q6J("ngClass",c.kEZ(8,j,n.onIcon&&n.offIcon&&!n.hasOnLabel&&!n.hasOffLabel,n.checked,n.disabled))("ngStyle",n.style),c.uIk("tabindex",n.disabled?null:"0")("aria-checked",n.checked),c.xp6(1),c.Q6J("ngIf",n.onIcon||n.offIcon),c.xp6(2),c.Oqu(n.checked?n.hasOnLabel?n.onLabel:"":n.hasOffLabel?n.offLabel:""))},directives:[dc.H,me.mk,me.PC,me.O5],styles:[".p-button[_ngcontent-%COMP%]{margin:0;display:inline-flex;cursor:pointer;-webkit-user-select:none;user-select:none;align-items:center;vertical-align:bottom;text-align:center;overflow:hidden;position:relative}.p-button-label[_ngcontent-%COMP%]{flex:1 1 auto}.p-button-icon-right[_ngcontent-%COMP%]{order:1}.p-button[_ngcontent-%COMP%]:disabled{cursor:default}.p-button-icon-only[_ngcontent-%COMP%]{justify-content:center}.p-button-icon-only[_ngcontent-%COMP%]   .p-button-label[_ngcontent-%COMP%]{visibility:hidden;width:0;flex:0 0 auto}.p-button-vertical[_ngcontent-%COMP%]{flex-direction:column}.p-button-icon-bottom[_ngcontent-%COMP%]{order:2}.p-buttonset[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]{margin:0}.p-buttonset[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:not(:last-child){border-right:0 none}.p-buttonset[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:not(:first-of-type):not(:last-of-type){border-radius:0}.p-buttonset[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:first-of-type{border-top-right-radius:0;border-bottom-right-radius:0}.p-buttonset[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:last-of-type{border-top-left-radius:0;border-bottom-left-radius:0}.p-buttonset[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:focus{position:relative;z-index:1}.p-button-label[_ngcontent-%COMP%]{transition:all .2s}"],changeDetection:0}),o})(),Be=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=c.oAB({type:o}),o.\u0275inj=c.cJS({imports:[[me.ez,dc.T]]}),o})();const lt=["drop"];function Gt(o,e){if(1&o&&(c.TgZ(0,"div",33),c._UZ(1,"img",34),c.TgZ(2,"div"),c._uU(3),c.qZA()()),2&o){const t=c.oxw(2);c.xp6(1),c.Tol("flag flag-"+t.selectedLenguage.code.toLowerCase()),c.MGl("src","assets/images/header.component/flag/flag-",t.selectedLenguage.name,".png",c.LSH),c.xp6(2),c.Oqu(t.selectedLenguage.name)}}function Qt(o,e){if(1&o&&c.YNc(0,Gt,4,4,"div",32),2&o){const t=c.oxw();c.Q6J("ngIf",t.selectedLenguage)}}function Cn(o,e){if(1&o&&(c.TgZ(0,"div",35),c._UZ(1,"img",34),c.TgZ(2,"div"),c._uU(3),c.qZA()()),2&o){const t=e.$implicit;c.xp6(1),c.Tol("flag flag-"+t.code.toLowerCase()),c.MGl("src","assets/images/header.component/flag/flag-",t.name,".png",c.LSH),c.xp6(2),c.Oqu(t.name)}}function bt(o,e){if(1&o&&(c.TgZ(0,"div",33),c._UZ(1,"img",34),c.TgZ(2,"div"),c._uU(3),c.qZA()()),2&o){const t=c.oxw(2);c.xp6(1),c.Tol("flag flag-"+t.selectedLenguage.code.toLowerCase()),c.MGl("src","assets/images/header.component/flag/flag-",t.selectedLenguage.name,".png",c.LSH),c.xp6(2),c.Oqu(t.selectedLenguage.name)}}function On(o,e){if(1&o&&c.YNc(0,bt,4,4,"div",32),2&o){const t=c.oxw();c.Q6J("ngIf",t.selectedLenguage)}}function mi(o,e){if(1&o&&(c.TgZ(0,"div",35),c._UZ(1,"img",34),c.TgZ(2,"div"),c._uU(3),c.qZA()()),2&o){const t=e.$implicit;c.xp6(1),c.Tol("flag flag-"+t.code.toLowerCase()),c.MGl("src","assets/images/header.component/flag/flag-",t.name,".png",c.LSH),c.xp6(2),c.Oqu(t.name)}}const Fi=function(){return["/home"]},po=function(){return["/auth/signin"]};let fc=(()=>{class o{constructor(t,n,i){this.translate=t,this.animationService=n,this.cookies=i,this.openSideBar=!1,this.logo="",this.translate.addLangs(["it","en"]),this.cookies.check("LANG")?(this.translate.setDefaultLang(this.cookies.get("LANG")),this.selectedLenguage={name:""+this.cookies.get("LANG"),code:""+this.cookies.get("LANG").toUpperCase()}):(this.cookies.set("LANG","it"),this.translate.setDefaultLang(this.cookies.get("LANG"))),console.log("thema: "+this.activedThema),this.cookies.check("THEME")?this.setThema(this.cookies.get("THEME")):(this.cookies.set("THEME","light"),this.activedThema=!1,this.logo=""),console.log("thema: "+this.activedThema),this.languages=[{name:"it",code:"IT"},{name:"en",code:"EN"}],this.translate.get("header.menu.header").forEach(a=>{this.dropDownHeader=a,this.translate.get("header.menu.subItem").forEach(u=>{this.dropDownSubHeader=u,this.setLabels()})})}setLabels(){this.items=[{label:""+this.dropDownHeader,icon:"pi pi-fw pi-book",items:[{label:this.dropDownSubHeader,icon:"fa-brands fa-java",routerLink:"/code/java"}]}]}ngOnInit(){}onChange(t){console.log("event :"+t)}switchLang(t){this.translate.use(t),this.cookies.set("LANG",t),this.translate.get("header.menu.header").forEach(n=>{this.dropDownHeader=n,this.translate.get("header.menu.subItem").forEach(i=>{this.dropDownSubHeader=i,this.setLabels()})})}switchColor(){console.log("colore cambiato prova elementohtml "+this.dropDownelement.nativeElement),document.body.classList.toggle("dark"),console.log("contiene dark: "+document.body.classList.contains("dark")),document.body.classList.contains("dark")?(this.animationService.changeTheme("dark"),this.cookies.set("THEME","dark"),this.activedThema=!0,this.logo="-white"):(this.animationService.changeTheme("light"),this.cookies.set("THEME","light"),this.activedThema=!1,this.logo="")}setThema(t){document.body.classList.toggle(t),this.cookies.set("THEME",t),this.activedThema="light"!=t,this.logo="light"==t?"":"-white"}onTop(){window.scrollTo(0,0)}onScroll(t){window.pageYOffset>100&&(document.getElementById("gooey-button").style.display="block"),window.pageYOffset<100&&(document.getElementById("gooey-button").style.display="none")}openCloseSideBar(){var t;null===(t=document.getElementById("collapserSideBar"))||void 0===t||t.classList.toggle("collapse")}}return o.\u0275fac=function(t){return new(t||o)(c.Y36(ae.sK),c.Y36(xe),c.Y36(oe))},o.\u0275cmp=c.Xpm({type:o,selectors:[["app-header"]],viewQuery:function(t,n){if(1&t&&c.Gf(lt,5),2&t){let i;c.iGM(i=c.CRH())&&(n.dropDownelement=i.first)}},hostBindings:function(t,n){1&t&&c.NdJ("scroll",function(a){return n.onScroll(a)},!1,c.Jf7)},decls:49,vars:15,consts:[["id","headerTop",1,"headerTopp"],[1,"switchSideBar"],["icon","pi pi-bars",3,"click"],["href","javascript:void(0)",3,"routerLink"],["id","logoImg",3,"src"],["href","javascript:void(0)",1,"aboutLink",3,"routerLink"],[3,"model"],["type","checkbox","id","toggle"],["for","toggle",1,"lab"],[1,"ri-menu-line"],["id","contentUtility",1,"contentUtility"],["drop",""],[1,"switchThema"],["id","dropdownLanguage","optionLabel","name",3,"options","ngModel","ngModelChange","onChange"],["id","element","pTemplate","selectedItem"],["pTemplate","item"],["onIcon","pi pi-sun","offIcon","pi pi-moon",3,"ngModel","ngModelChange","click"],["id","collapserSideBar",1,"collapse","collapseSideBar"],[1,"switchSideBarCloser",3,"click"],["icon","pi pi-times"],[1,"contentSideBar"],["href","javascript:void(0)",2,"cursor","default"],["src","assets/images/header.component/varie/logo-naked.png",1,"logo-mini"],["xmlns","http://www.w3.org/2000/svg","version","1.1"],["id","gooey"],["in","SourceGraphic","stdDeviation","5","result","blur"],["in","blur","type","matrix","values","1 0 0 0 0  0 1 0 0 0  0 0 1 0 0  0 0 0 19 -9","result","highContrastGraphic"],["in","SourceGraphic","in2","highContrastGraphic","operator","atop"],["id","gooey-button",1,"buttonGlow",3,"click"],[1,"bubbles"],[1,"pi","pi-angle-double-up"],[1,"bubble"],["class","country-item country-item-value",4,"ngIf"],[1,"country-item","country-item-value"],["id","dropdownLanguage-flag-selected",3,"src"],[1,"country-item"]],template:function(t,n){1&t&&(c._UZ(0,"app-collapse-canvas"),c.TgZ(1,"div",0)(2,"div",1)(3,"p-button",2),c.NdJ("click",function(){return n.openCloseSideBar()}),c.qZA()(),c.TgZ(4,"a",3),c._UZ(5,"img",4),c.qZA(),c.TgZ(6,"a",5),c._uU(7),c.ALo(8,"translate"),c.qZA(),c._UZ(9,"p-menubar",6)(10,"input",7),c.TgZ(11,"label",8),c._UZ(12,"i",9),c.qZA(),c.TgZ(13,"div",10,11)(15,"div",12)(16,"p-dropdown",13),c.NdJ("ngModelChange",function(a){return n.selectedLenguage=a})("onChange",function(){return n.switchLang(n.selectedLenguage.name)}),c.YNc(17,Qt,1,1,"ng-template",14),c.YNc(18,Cn,4,4,"ng-template",15),c.qZA(),c.TgZ(19,"p-toggleButton",16),c.NdJ("ngModelChange",function(a){return n.activedThema=a})("click",function(){return n.switchColor()}),c.qZA()()()(),c.TgZ(20,"div",17)(21,"div",18),c.NdJ("click",function(){return n.openCloseSideBar()}),c._UZ(22,"p-button",19),c.qZA(),c.TgZ(23,"div",20)(24,"a",21),c._UZ(25,"img",22),c.qZA(),c._UZ(26,"p-menubar",6),c.TgZ(27,"p-dropdown",13),c.NdJ("ngModelChange",function(a){return n.selectedLenguage=a})("onChange",function(){return n.switchLang(n.selectedLenguage.name)}),c.YNc(28,On,1,1,"ng-template",14),c.YNc(29,mi,4,4,"ng-template",15),c.qZA()()(),c.O4$(),c.TgZ(30,"svg",23)(31,"defs")(32,"filter",24),c._UZ(33,"feGaussianBlur",25)(34,"feColorMatrix",26)(35,"feComposite",27),c.qZA()()(),c.kcU(),c.TgZ(36,"button",28),c.NdJ("click",function(){return n.onTop()}),c.TgZ(37,"span",29),c._UZ(38,"i",30)(39,"span",31)(40,"span",31)(41,"span",31)(42,"span",31)(43,"span",31)(44,"span",31)(45,"span",31)(46,"span",31)(47,"span",31)(48,"span",31),c.qZA()()),2&t&&(c.xp6(4),c.Q6J("routerLink",c.DdM(13,Fi)),c.xp6(1),c.MGl("src","assets/images/header.component/varie/logo",n.logo,".png",c.LSH),c.xp6(1),c.Q6J("routerLink",c.DdM(14,po)),c.xp6(1),c.hij(" ",c.lcZ(8,11,"header.about"),""),c.xp6(2),c.Q6J("model",n.items),c.xp6(7),c.Q6J("options",n.languages)("ngModel",n.selectedLenguage),c.xp6(3),c.Q6J("ngModel",n.activedThema),c.xp6(7),c.Q6J("model",n.items),c.xp6(1),c.Q6J("options",n.languages)("ngModel",n.selectedLenguage))},directives:[im,WI.zx,X.yS,JI,I,Im,Nm,Zo.jx,me.O5,ve],pipes:[ae.X$],styles:["#headerTop[_ngcontent-%COMP%]{min-width:250px;z-index:1;box-sizing:border-box;height:55px;background-color:var(--navbar-color);border-radius:50px;display:flex;justify-content:flex-start;align-items:center;padding:30px 3%;margin:2% 25px 0;transition:var(--transition-delay)}#headerTop[_ngcontent-%COMP%]   #logoImg[_ngcontent-%COMP%]{transition:var(--transition-delay);margin-top:15px;margin-left:-30px;width:140px;height:150px}#headerTop[_ngcontent-%COMP%]   .p-menubar[_ngcontent-%COMP%]{padding:.5rem;transition:var(--transition-delay);background-color:var(--navbar-color);border:none;border-radius:10px}#headerTop[_ngcontent-%COMP%]   .p-menubar[_ngcontent-%COMP%]   .p-menuitem-link[_ngcontent-%COMP%]{padding:.75rem 1.25rem;border-radius:50px!important;-webkit-user-select:none;user-select:none;transition:var(--transition-delay-hover)}#headerTop[_ngcontent-%COMP%]   .p-menubar[_ngcontent-%COMP%]   .p-menuitem-link[_ngcontent-%COMP%]   .p-menuitem-text[_ngcontent-%COMP%]{color:var(--text-color);font-size:var(--font-size);font-weight:var(--font-weight)}#headerTop[_ngcontent-%COMP%]   .p-menubar[_ngcontent-%COMP%]   .p-menuitem-link[_ngcontent-%COMP%]   .p-menuitem-icon[_ngcontent-%COMP%]{color:var(--icon-color);margin-right:.5rem}#headerTop[_ngcontent-%COMP%]   .p-menubar[_ngcontent-%COMP%]   .p-menuitem-link[_ngcontent-%COMP%]   .p-submenu-icon[_ngcontent-%COMP%]{color:var(--icon-color);margin-left:.5rem;transition:all .4s ease}#headerTop[_ngcontent-%COMP%]   .p-menubar[_ngcontent-%COMP%]   .p-menuitem-link[_ngcontent-%COMP%]:not(.p-disabled):hover{transition:var(--transition-delay-hover);background-color:var(--navbar-hover-component-color)!important}#headerTop[_ngcontent-%COMP%]   .p-menubar[_ngcontent-%COMP%]   .p-menuitem-link[_ngcontent-%COMP%]:not(.p-disabled):hover   .p-menuitem-text[_ngcontent-%COMP%]{color:var(--icon-color)}#headerTop[_ngcontent-%COMP%]   .p-menubar[_ngcontent-%COMP%]   .p-menuitem-link[_ngcontent-%COMP%]:not(.p-disabled):hover   .p-menuitem-icon[_ngcontent-%COMP%]{color:var(--icon-color)}#headerTop[_ngcontent-%COMP%]   .p-menubar[_ngcontent-%COMP%]   .p-menuitem-link[_ngcontent-%COMP%]:not(.p-disabled):hover   .p-submenu-icon[_ngcontent-%COMP%]{color:var(--icon-color)}#headerTop[_ngcontent-%COMP%]   .p-menubar[_ngcontent-%COMP%]   .p-menubar-root-list[_ngcontent-%COMP%] > .p-menuitem[_ngcontent-%COMP%] > .p-menuitem-link[_ngcontent-%COMP%]:not(.p-disabled):hover   .p-menuitem-text[_ngcontent-%COMP%]{color:var(--text-color)}#headerTop[_ngcontent-%COMP%]   .p-menubar[_ngcontent-%COMP%]   .p-menubar-root-list[_ngcontent-%COMP%] > .p-menuitem[_ngcontent-%COMP%] > .p-menuitem-link[_ngcontent-%COMP%]:not(.p-disabled):hover   .p-menuitem-icon[_ngcontent-%COMP%]{color:var(--icon-color)}#headerTop[_ngcontent-%COMP%]   .p-menubar[_ngcontent-%COMP%]   .p-menubar-root-list[_ngcontent-%COMP%] > .p-menuitem[_ngcontent-%COMP%] > .p-menuitem-link[_ngcontent-%COMP%]:not(.p-disabled):hover   .p-submenu-icon[_ngcontent-%COMP%]{color:var(--icon-color)}#headerTop[_ngcontent-%COMP%]   .p-menubar[_ngcontent-%COMP%]   .p-menubar-root-list[_ngcontent-%COMP%] > .p-menuitem.p-menuitem-active[_ngcontent-%COMP%] > .p-menuitem-link[_ngcontent-%COMP%]   .p-submenu-icon[_ngcontent-%COMP%], #headerTop[_ngcontent-%COMP%]   .p-menubar[_ngcontent-%COMP%]   .p-menubar-root-list[_ngcontent-%COMP%] > .p-menuitem.p-menuitem-active[_ngcontent-%COMP%] > .p-menuitem-link[_ngcontent-%COMP%]:not(.p-disabled):hover   .p-submenu-icon[_ngcontent-%COMP%]{color:var(--icon-color);transform:rotate(180deg)}#headerTop[_ngcontent-%COMP%]   .p-menubar[_ngcontent-%COMP%]   .p-submenu-list[_ngcontent-%COMP%]{background:var(--navbar-color);border:0 none;box-shadow:0 2px 12px #0000001a;width:auto;min-width:8rem;border-radius:50px!important}#headerTop[_ngcontent-%COMP%]   .p-menubar[_ngcontent-%COMP%]   .p-submenu-list[_ngcontent-%COMP%]   .p-menu-separator[_ngcontent-%COMP%]{border-top:1px solid #dee2e6;margin:.25rem 0}#headerTop[_ngcontent-%COMP%]   .p-menubar[_ngcontent-%COMP%]   .p-submenu-list[_ngcontent-%COMP%]   .p-submenu-icon[_ngcontent-%COMP%]{font-size:.875rem}#headerTop[_ngcontent-%COMP%]   .p-menubar[_ngcontent-%COMP%]   .p-submenu-list[_ngcontent-%COMP%]   .p-menuitem[_ngcontent-%COMP%]{margin:0}#headerTop[_ngcontent-%COMP%]   .p-menubar[_ngcontent-%COMP%]   .p-submenu-list[_ngcontent-%COMP%]   .p-menuitem[_ngcontent-%COMP%]:last-child{margin:0}#headerTop[_ngcontent-%COMP%]   .p-menubar[_ngcontent-%COMP%]   .p-menuitem.p-menuitem-active[_ngcontent-%COMP%] > .p-menuitem-link[_ngcontent-%COMP%]{background:var(--navbar-color)}#headerTop[_ngcontent-%COMP%]   .p-dropdown[_ngcontent-%COMP%]{transition:var(--transition-delay);background-color:var(--navbar-color);border-radius:50px;width:70px;height:45px;border:none}#headerTop[_ngcontent-%COMP%]   .p-dropdown[_ngcontent-%COMP%]:not(.p-disabled).p-focus{outline:0 none!important;outline-offset:0!important;box-shadow:none!important;border:none!important}#headerTop[_ngcontent-%COMP%]   .p-dropdown[_ngcontent-%COMP%]   .p-dropdown-trigger[_ngcontent-%COMP%]{color:var(--icon-color);width:20px;margin-right:3px;margin-top:2px}#headerTop[_ngcontent-%COMP%]   .p-dropdown[_ngcontent-%COMP%]   .p-dropdown-trigger[_ngcontent-%COMP%]   .pi[_ngcontent-%COMP%]{font-size:.8rem}#headerTop[_ngcontent-%COMP%]   #dropdownLanguage[_ngcontent-%COMP%]:not(.p-disabled):hover > .p-component[_ngcontent-%COMP%]:not(.p-disabled).p-focus   .p-dropdown-trigger[_ngcontent-%COMP%]{transform:rotate(180deg)}#headerTop[_ngcontent-%COMP%]   .p-dropdown-panel[_ngcontent-%COMP%]{background-color:var(--navbar-color);border-radius:30px 30px 40px 40px;margin-bottom:10px;height:115px}#headerTop[_ngcontent-%COMP%]   .p-dropdown[_ngcontent-%COMP%]:not(.p-highlight):not(.p-disabled):hover{transition:var(--transition-delay-hover);background-color:var(--navbar-hover-component-color)!important}#headerTop[_ngcontent-%COMP%]   .p-dropdown-panel[_ngcontent-%COMP%]   .p-dropdown-items[_ngcontent-%COMP%]   .p-dropdown-item[_ngcontent-%COMP%]:not(.p-highlight):not(.p-disabled):hover{transition:var(--transition-delay-hover);background-color:var(--navbar-hover-component-color)!important;border-radius:40px}#headerTop[_ngcontent-%COMP%]   .p-dropdown-panel[_ngcontent-%COMP%]   .p-dropdown-items[_ngcontent-%COMP%]   .p-dropdown-item.p-highlight[_ngcontent-%COMP%]{transition:var(--transition-delay-hover);background-color:var(--navbar-hover-component-color);border-radius:40px;width:73px}#toggle[_ngcontent-%COMP%], .lab[_ngcontent-%COMP%]{display:none}#toggle[_ngcontent-%COMP%]{margin-right:auto}#dropdownLanguage[_ngcontent-%COMP%]{padding-right:30px}.contentUtility[_ngcontent-%COMP%]   .country-item[_ngcontent-%COMP%], .contentUtility[_ngcontent-%COMP%]   .country-item-value[_ngcontent-%COMP%]{color:var(--text-color);font-size:var(--font-size);font-weight:var(--font-weight);margin:none;margin-left:-4px}#dropdownLanguage-flag-selected[_ngcontent-%COMP%]{float:left;padding-right:1vh;padding-top:3px}.aboutLink[_ngcontent-%COMP%], #linkB[_ngcontent-%COMP%], #changeTheme[_ngcontent-%COMP%], #dropdownLanguage[_ngcontent-%COMP%]{font-family:Courier New,Courier,monospace;font-weight:300;font-size:14px;color:#fff;text-decoration:none}.aboutLink[_ngcontent-%COMP%]{margin:0 10px}.aboutLink[_ngcontent-%COMP%]:hover{text-decoration:underline}#contentUtility[_ngcontent-%COMP%]{margin-left:auto}.switchSideBar[_ngcontent-%COMP%]{display:none;margin-right:25px}.switchSideBar[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]{background-color:var(--navbar-color);border:none;border-radius:50%;width:40px;height:40px;transition:var(--transition-delay)}.switchSideBar[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:enabled:hover{transition:var(--transition-delay-hover);background-color:var(--navbar-hover-component-color)!important;color:#fff}.switchSideBar[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:enabled:focus{outline:0 none!important;outline-offset:0!important;box-shadow:none!important}.switchSideBar[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:enabled:active{color:#000}.collapseSideBar[_ngcontent-%COMP%]{background-color:var(--navbar-color);display:block;top:0;left:0px;position:fixed;width:250px;height:100%;z-index:99999;transition:var(--transition-delay)}.collapseSideBar[_ngcontent-%COMP%]   .switchSideBarCloser[_ngcontent-%COMP%]{margin-top:5px;margin-right:5px;float:right}.collapseSideBar[_ngcontent-%COMP%]   .switchSideBarCloser[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]{background-color:var(--navbar-color);border:none;border-radius:50%;width:40px;height:40px;transition:var(--transition-delay)}.collapseSideBar[_ngcontent-%COMP%]   .switchSideBarCloser[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:enabled:hover{transition:var(--transition-delay-hover);background-color:var(--navbar-hover-component-color)!important;color:#fff}.collapseSideBar[_ngcontent-%COMP%]   .switchSideBarCloser[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:enabled:focus{outline:0 none!important;outline-offset:0!important;box-shadow:none!important}.collapseSideBar[_ngcontent-%COMP%]   .switchSideBarCloser[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:enabled:active{color:#000}.collapseSideBar[_ngcontent-%COMP%]   .logo-mini[_ngcontent-%COMP%]{width:100px;height:105px;margin-top:-40px;margin-left:70px}.collapseSideBar[_ngcontent-%COMP%]   .contentSideBar[_ngcontent-%COMP%]{margin-top:50px}.collapseSideBar[_ngcontent-%COMP%]   .p-menubar[_ngcontent-%COMP%]{padding:.5rem;transition:var(--transition-delay);background-color:var(--navbar-color);border-radius:10px;width:100%!important;border:none}.collapseSideBar[_ngcontent-%COMP%]   .p-menubar[_ngcontent-%COMP%]   .p-menuitem-link[_ngcontent-%COMP%]{padding:.75rem 1.25rem;-webkit-user-select:none;user-select:none;transition:var(--transition-delay-hover);border:1px solid #474444;width:230px!important}.collapseSideBar[_ngcontent-%COMP%]   .p-menubar[_ngcontent-%COMP%]   .p-menuitem-link[_ngcontent-%COMP%]   .p-menuitem-text[_ngcontent-%COMP%]{color:var(--text-color);font-size:var(--font-size);font-weight:var(--font-weight)}.collapseSideBar[_ngcontent-%COMP%]   .p-menubar[_ngcontent-%COMP%]   .p-menuitem-link[_ngcontent-%COMP%]   .p-menuitem-icon[_ngcontent-%COMP%]{color:var(--icon-color);margin-right:.5rem}.collapseSideBar[_ngcontent-%COMP%]   .p-menubar[_ngcontent-%COMP%]   .p-menuitem-link[_ngcontent-%COMP%]   .p-submenu-icon[_ngcontent-%COMP%]{color:var(--icon-color);margin-left:7rem;transition:all .4s ease}.collapseSideBar[_ngcontent-%COMP%]   .p-menubar[_ngcontent-%COMP%]   .p-menuitem-link[_ngcontent-%COMP%]:not(.p-disabled):hover{transition:var(--transition-delay-hover);background-color:var(--navbar-hover-component-color)!important}.collapseSideBar[_ngcontent-%COMP%]   .p-menubar[_ngcontent-%COMP%]   .p-menuitem-link[_ngcontent-%COMP%]:not(.p-disabled):hover   .p-menuitem-text[_ngcontent-%COMP%]{color:var(--icon-color)}.collapseSideBar[_ngcontent-%COMP%]   .p-menubar[_ngcontent-%COMP%]   .p-menuitem-link[_ngcontent-%COMP%]:not(.p-disabled):hover   .p-menuitem-icon[_ngcontent-%COMP%]{color:var(--icon-color)}.collapseSideBar[_ngcontent-%COMP%]   .p-menubar[_ngcontent-%COMP%]   .p-menuitem-link[_ngcontent-%COMP%]:not(.p-disabled):hover   .p-submenu-icon[_ngcontent-%COMP%]{color:var(--icon-color)}.collapseSideBar[_ngcontent-%COMP%]   .p-menubar[_ngcontent-%COMP%]   .p-menubar-root-list[_ngcontent-%COMP%] > .p-menuitem[_ngcontent-%COMP%] > .p-menuitem-link[_ngcontent-%COMP%]:not(.p-disabled):hover   .p-menuitem-text[_ngcontent-%COMP%]{color:var(--text-color)}.collapseSideBar[_ngcontent-%COMP%]   .p-menubar[_ngcontent-%COMP%]   .p-menubar-root-list[_ngcontent-%COMP%] > .p-menuitem[_ngcontent-%COMP%] > .p-menuitem-link[_ngcontent-%COMP%]:not(.p-disabled):hover   .p-menuitem-icon[_ngcontent-%COMP%]{color:var(--icon-color)}.collapseSideBar[_ngcontent-%COMP%]   .p-menubar[_ngcontent-%COMP%]   .p-menubar-root-list[_ngcontent-%COMP%] > .p-menuitem[_ngcontent-%COMP%] > .p-menuitem-link[_ngcontent-%COMP%]:not(.p-disabled):hover   .p-submenu-icon[_ngcontent-%COMP%]{color:var(--icon-color)}.collapseSideBar[_ngcontent-%COMP%]   .p-menubar[_ngcontent-%COMP%]   .p-menubar-root-list[_ngcontent-%COMP%] > .p-menuitem.p-menuitem-active[_ngcontent-%COMP%] > .p-menuitem-link[_ngcontent-%COMP%]   .p-submenu-icon[_ngcontent-%COMP%], .collapseSideBar[_ngcontent-%COMP%]   .p-menubar[_ngcontent-%COMP%]   .p-menubar-root-list[_ngcontent-%COMP%] > .p-menuitem.p-menuitem-active[_ngcontent-%COMP%] > .p-menuitem-link[_ngcontent-%COMP%]:not(.p-disabled):hover   .p-submenu-icon[_ngcontent-%COMP%]{color:var(--icon-color);transform:rotate(180deg)}.collapseSideBar[_ngcontent-%COMP%]   .p-menubar[_ngcontent-%COMP%]   .p-submenu-list[_ngcontent-%COMP%]{background:var(--navbar-color);border:0 none;box-shadow:0 2px 12px #0000001a;width:auto;min-width:8rem;border-radius:50px!important}.collapseSideBar[_ngcontent-%COMP%]   .p-menubar[_ngcontent-%COMP%]   .p-submenu-list[_ngcontent-%COMP%]   .p-menu-separator[_ngcontent-%COMP%]{border-top:1px solid #dee2e6;margin:.25rem 0}.collapseSideBar[_ngcontent-%COMP%]   .p-menubar[_ngcontent-%COMP%]   .p-submenu-list[_ngcontent-%COMP%]   .p-submenu-icon[_ngcontent-%COMP%]{font-size:.875rem}.collapseSideBar[_ngcontent-%COMP%]   .p-menubar[_ngcontent-%COMP%]   .p-submenu-list[_ngcontent-%COMP%]   .p-menuitem[_ngcontent-%COMP%]{margin:0}.collapseSideBar[_ngcontent-%COMP%]   .p-menubar[_ngcontent-%COMP%]   .p-submenu-list[_ngcontent-%COMP%]   .p-menuitem[_ngcontent-%COMP%]:last-child{margin:0}.collapseSideBar[_ngcontent-%COMP%]   .p-menubar[_ngcontent-%COMP%]   .p-menuitem.p-menuitem-active[_ngcontent-%COMP%] > .p-menuitem-link[_ngcontent-%COMP%]{background:var(--navbar-color)}.collapseSideBar[_ngcontent-%COMP%]   .p-dropdown[_ngcontent-%COMP%]{margin-top:10px;transition:var(--transition-delay);background-color:var(--navbar-color);width:230px;height:45px;border:1px solid #474444;border-radius:0;margin-left:8px;padding-left:10px}.collapseSideBar[_ngcontent-%COMP%]   .p-dropdown[_ngcontent-%COMP%]:not(.p-disabled).p-focus{outline:0 none!important;outline-offset:0!important;box-shadow:none!important;border:1px solid #474444}.collapseSideBar[_ngcontent-%COMP%]   #dropdownLanguage[_ngcontent-%COMP%]:not(.p-disabled):hover > .p-component[_ngcontent-%COMP%]:not(.p-disabled).p-focus   .p-dropdown-trigger[_ngcontent-%COMP%]{transform:rotate(180deg)}.collapseSideBar[_ngcontent-%COMP%]   .p-dropdown[_ngcontent-%COMP%]   .p-dropdown-trigger[_ngcontent-%COMP%]{color:var(--icon-color);width:15px;margin-right:20px}.collapseSideBar[_ngcontent-%COMP%]   .p-dropdown[_ngcontent-%COMP%]   .p-dropdown-trigger[_ngcontent-%COMP%]   .pi[_ngcontent-%COMP%]{font-size:.8rem}.collapseSideBar[_ngcontent-%COMP%]   .p-dropdown-panel[_ngcontent-%COMP%]{background-color:var(--navbar-color);margin-bottom:10px;height:115px;border:1px solid #474444;border-radius:0}.collapseSideBar[_ngcontent-%COMP%]   .p-dropdown[_ngcontent-%COMP%]:not(.p-highlight):not(.p-disabled):hover{transition:var(--transition-delay-hover);background-color:var(--navbar-hover-component-color)!important}.collapseSideBar[_ngcontent-%COMP%]   .p-dropdown-panel[_ngcontent-%COMP%]   .p-dropdown-items[_ngcontent-%COMP%]   .p-dropdown-item[_ngcontent-%COMP%]:not(.p-highlight):not(.p-disabled):hover{transition:var(--transition-delay-hover);background-color:var(--navbar-hover-component-color)!important}.collapseSideBar[_ngcontent-%COMP%]   .p-dropdown-panel[_ngcontent-%COMP%]   .p-dropdown-items[_ngcontent-%COMP%]   .p-dropdown-item.p-highlight[_ngcontent-%COMP%]{color:var(--text-color);transition:var(--transition-delay-hover);background-color:var(--navbar-hover-component-color)}.collapseSideBar[_ngcontent-%COMP%]   .country-item[_ngcontent-%COMP%], .collapseSideBar[_ngcontent-%COMP%]   .country-item-value[_ngcontent-%COMP%]{color:var(--text-color)!important;font-size:var(--font-size)!important;font-weight:var(--font-weight)!important;margin:none!important;margin-left:-4px!important}.collapse[_ngcontent-%COMP%]{left:-250px}.switchThema[_ngcontent-%COMP%]   .p-togglebutton[_ngcontent-%COMP%]{margin-left:-10px!important;margin-bottom:3px!important}.switchThema[_ngcontent-%COMP%]   .p-togglebutton.p-button[_ngcontent-%COMP%]{background-color:var(--navbar-color);border:none;border-radius:50%;width:40px;height:40px;transition:var(--transition-delay-hover);box-shadow:-1px -1px 3px #ffffff1a,2px 2px 6px #000c!important}.switchThema[_ngcontent-%COMP%]   .p-togglebutton.p-button[_ngcontent-%COMP%]:focus{outline:0 none!important;outline-offset:0!important;border:none!important}.switchThema[_ngcontent-%COMP%]   .p-togglebutton.p-button[_ngcontent-%COMP%]   .p-button-icon-left[_ngcontent-%COMP%], .switchThema[_ngcontent-%COMP%]   .p-togglebutton.p-button[_ngcontent-%COMP%]   .p-button-icon-right[_ngcontent-%COMP%]{color:var(--icon-color)}.switchThema[_ngcontent-%COMP%]   .p-togglebutton.p-button[_ngcontent-%COMP%]:not(.p-disabled):not(.p-highlight):hover{transition:var(--transition-delay-hover);box-shadow:-1px -1px 3px #ffffff1a,2px 2px 6px #000c,inset -2px -2px 10px #ffffff0d,inset 2px 2px 10px #000c!important;background-color:var(--navbar-hover-component-color)!important}.switchThema[_ngcontent-%COMP%]   .p-togglebutton.p-button[_ngcontent-%COMP%]:not(.p-disabled):not(.p-highlight):hover   .p-button-icon-left[_ngcontent-%COMP%], .switchThema[_ngcontent-%COMP%]   .p-togglebutton.p-button[_ngcontent-%COMP%]:not(.p-disabled):not(.p-highlight):hover   .p-button-icon-right[_ngcontent-%COMP%]{color:var(--icon-color)}.switchThema[_ngcontent-%COMP%]   .p-togglebutton.p-button.p-highlight[_ngcontent-%COMP%]{background-color:var(--navbar-color);box-shadow:-1px -1px 3px #ffffff1a,2px 2px 6px #000c!important}.switchThema[_ngcontent-%COMP%]   .p-togglebutton.p-button.p-highlight[_ngcontent-%COMP%]   .p-button-icon-left[_ngcontent-%COMP%], .switchThema[_ngcontent-%COMP%]   .p-togglebutton.p-button.p-highlight[_ngcontent-%COMP%]   .p-button-icon-right[_ngcontent-%COMP%]{color:var(--icon-color)}.switchThema[_ngcontent-%COMP%]   .p-togglebutton.p-button.p-highlight[_ngcontent-%COMP%]:hover{transition:var(--transition-delay-hover);box-shadow:-1px -1px 3px #ffffff1a,2px 2px 6px #000c,inset -2px -2px 10px #ffffff0d,inset 2px 2px 10px #000c!important;background-color:var(--navbar-hover-component-color)!important}svg[_ngcontent-%COMP%]{position:absolute;top:-4000px;left:-4000px}#gooey-button[_ngcontent-%COMP%]{cursor:pointer;display:none;bottom:20px;right:20px;z-index:99;margin-left:200px;font-size:2rem;width:50px;height:50px;border-radius:50%;border:none;filter:url(#gooey);position:fixed;background-color:#00ff80}#gooey-button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2rem;color:#000;margin-top:8px;margin-left:3px}#gooey-button[_ngcontent-%COMP%]:focus{outline:none}#gooey-button[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{animation:slideUp 1s ease-in-out infinite}#gooey-button[_ngcontent-%COMP%]   .bubbles[_ngcontent-%COMP%]{position:absolute;top:0;left:-5px;bottom:0;right:0}#gooey-button[_ngcontent-%COMP%]   .bubbles[_ngcontent-%COMP%]   .bubble[_ngcontent-%COMP%]{background-color:#00ff80;border-radius:100%;position:absolute;top:0;left:0;display:block;z-index:-1}#gooey-button[_ngcontent-%COMP%]   .bubbles[_ngcontent-%COMP%]   .bubble[_ngcontent-%COMP%]:nth-child(1){left:24px;width:25px;height:25px;animation:move-1 3.02s infinite;animation-delay:.2s}#gooey-button[_ngcontent-%COMP%]   .bubbles[_ngcontent-%COMP%]   .bubble[_ngcontent-%COMP%]:nth-child(2){left:18px;width:25px;height:25px;animation:move-2 3.04s infinite;animation-delay:.4s}#gooey-button[_ngcontent-%COMP%]   .bubbles[_ngcontent-%COMP%]   .bubble[_ngcontent-%COMP%]:nth-child(3){left:22px;width:25px;height:25px;animation:move-3 3.06s infinite;animation-delay:.6s}#gooey-button[_ngcontent-%COMP%]   .bubbles[_ngcontent-%COMP%]   .bubble[_ngcontent-%COMP%]:nth-child(4){left:17px;width:25px;height:25px;animation:move-4 3.08s infinite;animation-delay:.8s}#gooey-button[_ngcontent-%COMP%]   .bubbles[_ngcontent-%COMP%]   .bubble[_ngcontent-%COMP%]:nth-child(5){left:30px;width:25px;height:25px;animation:move-5 3.1s infinite;animation-delay:1s}#gooey-button[_ngcontent-%COMP%]   .bubbles[_ngcontent-%COMP%]   .bubble[_ngcontent-%COMP%]:nth-child(6){left:12px;width:25px;height:25px;animation:move-6 3.12s infinite;animation-delay:1.2s}#gooey-button[_ngcontent-%COMP%]   .bubbles[_ngcontent-%COMP%]   .bubble[_ngcontent-%COMP%]:nth-child(7){left:14px;width:25px;height:25px;animation:move-7 3.14s infinite;animation-delay:1.4s}#gooey-button[_ngcontent-%COMP%]   .bubbles[_ngcontent-%COMP%]   .bubble[_ngcontent-%COMP%]:nth-child(8){left:13px;width:25px;height:25px;animation:move-8 3.16s infinite;animation-delay:1.6s}#gooey-button[_ngcontent-%COMP%]   .bubbles[_ngcontent-%COMP%]   .bubble[_ngcontent-%COMP%]:nth-child(9){left:33px;width:25px;height:25px;animation:move-9 3.18s infinite;animation-delay:1.8s}#gooey-button[_ngcontent-%COMP%]   .bubbles[_ngcontent-%COMP%]   .bubble[_ngcontent-%COMP%]:nth-child(10){left:19px;width:25px;height:25px;animation:move-10 3.2s infinite;animation-delay:2s}@keyframes move-1{0%{transform:translate(0)}99%{transform:translateY(-124px)}to{transform:translate(0);opacity:0}}@keyframes move-2{0%{transform:translate(0)}99%{transform:translateY(-73px)}to{transform:translate(0);opacity:0}}@keyframes move-3{0%{transform:translate(0)}99%{transform:translateY(-96px)}to{transform:translate(0);opacity:0}}@keyframes move-4{0%{transform:translate(0)}99%{transform:translateY(-60px)}to{transform:translate(0);opacity:0}}@keyframes move-5{0%{transform:translate(0)}99%{transform:translateY(-102px)}to{transform:translate(0);opacity:0}}@keyframes move-6{0%{transform:translate(0)}99%{transform:translateY(-52px)}to{transform:translate(0);opacity:0}}@keyframes move-7{0%{transform:translate(0)}99%{transform:translateY(-61px)}to{transform:translate(0);opacity:0}}@keyframes move-8{0%{transform:translate(0)}99%{transform:translateY(-101px)}to{transform:translate(0);opacity:0}}@keyframes move-9{0%{transform:translate(0)}99%{transform:translateY(-89px)}to{transform:translate(0);opacity:0}}@keyframes move-10{0%{transform:translate(0)}99%{transform:translateY(-101px)}to{transform:translate(0);opacity:0}}@keyframes slideUp{0%,to{transform:translateY(-3px)}50%{transform:translateY(9px)}}@media screen and (max-width: 767px){#headerTop[_ngcontent-%COMP%]   .p-menubar[_ngcontent-%COMP%], #headerTop[_ngcontent-%COMP%]   .p-dropdown[_ngcontent-%COMP%], #headerTop[_ngcontent-%COMP%]   .aboutLink[_ngcontent-%COMP%]{display:none}#headerTop[_ngcontent-%COMP%]   .switchSideBar[_ngcontent-%COMP%]{display:block}}"]}),o})(),Ym=(()=>{class o{constructor(){}ngOnInit(){}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=c.Xpm({type:o,selectors:[["app-footer"]],decls:27,vars:0,consts:[[1,"footer-basic"],[1,"social"],["href","#"],["src","assets/images/footer.component/social/ig.png"],["src","assets/images/footer.component/social/twitter.png"],["src","assets/images/footer.component/social/youtube.png"],[1,"list-inline"],[1,"list-inline-item"],[1,"copyright"]],template:function(t,n){1&t&&(c.TgZ(0,"div",0)(1,"footer")(2,"div",1)(3,"a",2),c._UZ(4,"img",3),c.qZA(),c.TgZ(5,"a",2),c._UZ(6,"img",4),c.qZA(),c.TgZ(7,"a",2),c._UZ(8,"img",5),c.qZA()(),c.TgZ(9,"ul",6)(10,"li",7)(11,"a",2),c._uU(12,"Home"),c.qZA()(),c.TgZ(13,"li",7)(14,"a",2),c._uU(15,"Services"),c.qZA()(),c.TgZ(16,"li",7)(17,"a",2),c._uU(18,"About"),c.qZA()(),c.TgZ(19,"li",7)(20,"a",2),c._uU(21,"Terms"),c.qZA()(),c.TgZ(22,"li",7)(23,"a",2),c._uU(24,"Privacy Policy"),c.qZA()()(),c.TgZ(25,"p",8),c._uU(26,"Company Name \xa9 2018"),c.qZA()()())},styles:[".footer-basic[_ngcontent-%COMP%]{padding:40px 0;background-color:var(--navbar-color);transition:var(--transition-delay)}.footer-basic[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding:0;list-style:none;text-align:center;font-size:18px;line-height:1.6;margin-bottom:0}.footer-basic[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:0 10px}.footer-basic[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:inherit;text-decoration:none;opacity:.8;color:var(--text-color)}.footer-basic[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{opacity:1}.footer-basic[_ngcontent-%COMP%]   .social[_ngcontent-%COMP%]{text-align:center;padding-bottom:25px}.footer-basic[_ngcontent-%COMP%]   .social[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{font-size:24px;width:40px;height:40px;line-height:40px;display:inline-block;text-align:center;margin:0 8px;color:inherit;opacity:.75;border:none}.footer-basic[_ngcontent-%COMP%]   .social[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]:hover{opacity:.9}.footer-basic[_ngcontent-%COMP%]   .copyright[_ngcontent-%COMP%]{margin-top:15px;text-align:center;font-size:13px;color:var(--text-color);margin-bottom:0}"]}),o})(),Km=(()=>{class o{constructor(){this.title="javaGalaxy"}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=c.Xpm({type:o,selectors:[["app-root"]],decls:3,vars:0,template:function(t,n){1&t&&c._UZ(0,"app-header")(1,"router-outlet")(2,"app-footer")},directives:[fc,X.lC,Ym],styles:[""]}),o})();var Jm=z(3401),Qm=z(4493);class Xm{constructor(e,t="/assets/i18n/",n=".json"){this.http=e,this.prefix=t,this.suffix=n}getTranslation(e){return this.http.get(`${this.prefix}${e}${this.suffix}`)}}var Jd=z(520);const di=!1;function $f(o){return new c.vHH(3e3,di)}function FT(){return"undefined"!=typeof window&&void 0!==window.document}function Pb(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Pu(o){switch(o.length){case 0:return new $a;case 1:return o[0];default:return new lm(o)}}function lS(o,e,t,n,i={},a={}){const u=[],h=[];let g=-1,p=null;if(n.forEach(C=>{const A=C.offset,v=A==g,b=v&&p||{};Object.keys(C).forEach(E=>{let S=E,T=C[E];if("offset"!==E)switch(S=e.normalizePropertyName(S,u),T){case"!":T=i[E];break;case wl:T=a[E];break;default:T=e.normalizeStyleValue(E,S,T,u)}b[S]=T}),v||h.push(b),p=b,g=A}),u.length)throw function wT(o){return new c.vHH(3502,di)}();return h}function Ob(o,e,t,n){switch(e){case"start":o.onStart(()=>n(t&&Lb(t,"start",o)));break;case"done":o.onDone(()=>n(t&&Lb(t,"done",o)));break;case"destroy":o.onDestroy(()=>n(t&&Lb(t,"destroy",o)))}}function Lb(o,e,t){const n=t.totalTime,a=Rb(o.element,o.triggerName,o.fromState,o.toState,e||o.phaseName,null==n?o.totalTime:n,!!t.disabled),u=o._data;return null!=u&&(a._data=u),a}function Rb(o,e,t,n,i="",a=0,u){return{element:o,triggerName:e,fromState:t,toState:n,phaseName:i,totalTime:a,disabled:!!u}}function Ko(o,e,t){let n;return o instanceof Map?(n=o.get(e),n||o.set(e,n=t)):(n=o[e],n||(n=o[e]=t)),n}function cS(o){const e=o.indexOf(":");return[o.substring(1,e),o.substr(e+1)]}let Nb=(o,e)=>!1,uS=(o,e,t)=>[],dS=null;function Fb(o){const e=o.parentNode||o.host;return e===dS?null:e}(Pb()||"undefined"!=typeof Element)&&(FT()?(dS=(()=>document.documentElement)(),Nb=(o,e)=>{for(;e;){if(e===o)return!0;e=Fb(e)}return!1}):Nb=(o,e)=>o.contains(e),uS=(o,e,t)=>{if(t)return Array.from(o.querySelectorAll(e));const n=o.querySelector(e);return n?[n]:[]});let Qd=null,hS=!1;function fS(o){Qd||(Qd=function BT(){return"undefined"!=typeof document?document.body:null}()||{},hS=!!Qd.style&&"WebkitAppearance"in Qd.style);let e=!0;return Qd.style&&!function kT(o){return"ebkit"==o.substring(1,6)}(o)&&(e=o in Qd.style,!e&&hS&&(e="Webkit"+o.charAt(0).toUpperCase()+o.substr(1)in Qd.style)),e}const gS=Nb,pS=uS;let mS=(()=>{class o{validateStyleProperty(t){return fS(t)}matchesElement(t,n){return!1}containsElement(t,n){return gS(t,n)}getParentElement(t){return Fb(t)}query(t,n,i){return pS(t,n,i)}computeStyle(t,n,i){return i||""}animate(t,n,i,a,u,h=[],g){return new $a(i,a)}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275prov=c.Yz7({token:o,factory:o.\u0275fac}),o})(),kb=(()=>{class o{}return o.NOOP=new mS,o})();const Bb="ng-enter",J_="ng-leave",Q_="ng-trigger",X_=".ng-trigger",AS="ng-animating",Vb=".ng-animating";function Xd(o){if("number"==typeof o)return o;const e=o.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:Ub(parseFloat(e[1]),e[2])}function Ub(o,e){return"s"===e?1e3*o:o}function ev(o,e,t){return o.hasOwnProperty("duration")?o:function HT(o,e,t){let i,a=0,u="";if("string"==typeof o){const h=o.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===h)return e.push($f()),{duration:0,delay:0,easing:""};i=Ub(parseFloat(h[1]),h[2]);const g=h[3];null!=g&&(a=Ub(parseFloat(g),h[4]));const p=h[5];p&&(u=p)}else i=o;if(!t){let h=!1,g=e.length;i<0&&(e.push(function iT(){return new c.vHH(3100,di)}()),h=!0),a<0&&(e.push(function rT(){return new c.vHH(3101,di)}()),h=!0),h&&e.splice(g,0,$f())}return{duration:i,delay:a,easing:u}}(o,e,t)}function Zf(o,e={}){return Object.keys(o).forEach(t=>{e[t]=o[t]}),e}function Ou(o,e,t={}){if(e)for(let n in o)t[n]=o[n];else Zf(o,t);return t}function _S(o,e,t){return t?e+":"+t+";":""}function vS(o){let e="";for(let t=0;t<o.style.length;t++){const n=o.style.item(t);e+=_S(0,n,o.style.getPropertyValue(n))}for(const t in o.style)o.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=_S(0,WT(t),o.style[t]));o.setAttribute("style",e)}function El(o,e,t){o.style&&(Object.keys(e).forEach(n=>{const i=zb(n);t&&!t.hasOwnProperty(n)&&(t[n]=o.style[i]),o.style[i]=e[n]}),Pb()&&vS(o))}function eh(o,e){o.style&&(Object.keys(e).forEach(t=>{const n=zb(t);o.style[n]=""}),Pb()&&vS(o))}function eC(o){return Array.isArray(o)?1==o.length?o[0]:bf(o):o}const Hb=new RegExp("{{\\s*(.+?)\\s*}}","g");function yS(o){let e=[];if("string"==typeof o){let t;for(;t=Hb.exec(o);)e.push(t[1]);Hb.lastIndex=0}return e}function tv(o,e,t){const n=o.toString(),i=n.replace(Hb,(a,u)=>{let h=e[u];return e.hasOwnProperty(u)||(t.push(function oT(o){return new c.vHH(3003,di)}()),h=""),h.toString()});return i==n?o:i}function nv(o){const e=[];let t=o.next();for(;!t.done;)e.push(t.value),t=o.next();return e}const GT=/-+([a-z0-9])/g;function zb(o){return o.replace(GT,(...e)=>e[1].toUpperCase())}function WT(o){return o.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Jo(o,e,t){switch(e.type){case 7:return o.visitTrigger(e,t);case 0:return o.visitState(e,t);case 1:return o.visitTransition(e,t);case 2:return o.visitSequence(e,t);case 3:return o.visitGroup(e,t);case 4:return o.visitAnimate(e,t);case 5:return o.visitKeyframes(e,t);case 6:return o.visitStyle(e,t);case 8:return o.visitReference(e,t);case 9:return o.visitAnimateChild(e,t);case 10:return o.visitAnimateRef(e,t);case 11:return o.visitQuery(e,t);case 12:return o.visitStagger(e,t);default:throw function aT(o){return new c.vHH(3004,di)}()}}function xS(o,e){return window.getComputedStyle(o)[e]}function KT(o,e){const t=[];return"string"==typeof o?o.split(/\s*,\s*/).forEach(n=>function JT(o,e,t){if(":"==o[0]){const g=function QT(o,e){switch(o){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,n)=>parseFloat(n)>parseFloat(t);case":decrement":return(t,n)=>parseFloat(n)<parseFloat(t);default:return e.push(function vT(o){return new c.vHH(3016,di)}()),"* => *"}}(o,t);if("function"==typeof g)return void e.push(g);o=g}const n=o.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==n||n.length<4)return t.push(function _T(o){return new c.vHH(3015,di)}()),e;const i=n[1],a=n[2],u=n[3];e.push(bS(i,u));"<"==a[0]&&!("*"==i&&"*"==u)&&e.push(bS(u,i))}(n,t,e)):t.push(o),t}const ov=new Set(["true","1"]),av=new Set(["false","0"]);function bS(o,e){const t=ov.has(o)||av.has(o),n=ov.has(e)||av.has(e);return(i,a)=>{let u="*"==o||o==i,h="*"==e||e==a;return!u&&t&&"boolean"==typeof i&&(u=i?ov.has(o):av.has(o)),!h&&n&&"boolean"==typeof a&&(h=a?ov.has(e):av.has(e)),u&&h}}const XT=new RegExp("s*:selfs*,?","g");function Gb(o,e,t,n){return new e1(o).build(e,t,n)}class e1{constructor(e){this._driver=e}build(e,t,n){const i=new r1(t);this._resetContextStyleTimingState(i);const a=Jo(this,eC(e),i);return i.unsupportedCSSPropertiesFound.size&&i.unsupportedCSSPropertiesFound.keys(),a}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}visitTrigger(e,t){let n=t.queryCount=0,i=t.depCount=0;const a=[],u=[];return"@"==e.name.charAt(0)&&t.errors.push(function cT(){return new c.vHH(3006,di)}()),e.definitions.forEach(h=>{if(this._resetContextStyleTimingState(t),0==h.type){const g=h,p=g.name;p.toString().split(/\s*,\s*/).forEach(C=>{g.name=C,a.push(this.visitState(g,t))}),g.name=p}else if(1==h.type){const g=this.visitTransition(h,t);n+=g.queryCount,i+=g.depCount,u.push(g)}else t.errors.push(function uT(){return new c.vHH(3007,di)}())}),{type:7,name:e.name,states:a,transitions:u,queryCount:n,depCount:i,options:null}}visitState(e,t){const n=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(n.containsDynamicStyles){const a=new Set,u=i||{};n.styles.forEach(h=>{if(lv(h)){const g=h;Object.keys(g).forEach(p=>{yS(g[p]).forEach(C=>{u.hasOwnProperty(C)||a.add(C)})})}}),a.size&&(nv(a.values()),t.errors.push(function dT(o,e){return new c.vHH(3008,di)}()))}return{type:0,name:e.name,style:n,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const n=Jo(this,eC(e.animation),t);return{type:1,matchers:KT(e.expr,t.errors),animation:n,queryCount:t.queryCount,depCount:t.depCount,options:th(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(n=>Jo(this,n,t)),options:th(e.options)}}visitGroup(e,t){const n=t.currentTime;let i=0;const a=e.steps.map(u=>{t.currentTime=n;const h=Jo(this,u,t);return i=Math.max(i,t.currentTime),h});return t.currentTime=i,{type:3,steps:a,options:th(e.options)}}visitAnimate(e,t){const n=function o1(o,e){let t=null;if(o.hasOwnProperty("duration"))t=o;else if("number"==typeof o)return Wb(ev(o,e).duration,0,"");const n=o;if(n.split(/\s+/).some(a=>"{"==a.charAt(0)&&"{"==a.charAt(1))){const a=Wb(0,0,"");return a.dynamic=!0,a.strValue=n,a}return t=t||ev(n,e),Wb(t.duration,t.delay,t.easing)}(e.timings,t.errors);t.currentAnimateTimings=n;let i,a=e.styles?e.styles:Bd({});if(5==a.type)i=this.visitKeyframes(a,t);else{let u=e.styles,h=!1;if(!u){h=!0;const p={};n.easing&&(p.easing=n.easing),u=Bd(p)}t.currentTime+=n.duration+n.delay;const g=this.visitStyle(u,t);g.isEmptyStep=h,i=g}return t.currentAnimateTimings=null,{type:4,timings:n,style:i,options:null}}visitStyle(e,t){const n=this._makeStyleAst(e,t);return this._validateStyleAst(n,t),n}_makeStyleAst(e,t){const n=[];Array.isArray(e.styles)?e.styles.forEach(u=>{"string"==typeof u?u==wl?n.push(u):t.errors.push(function hT(o){return new c.vHH(3002,di)}()):n.push(u)}):n.push(e.styles);let i=!1,a=null;return n.forEach(u=>{if(lv(u)){const h=u,g=h.easing;if(g&&(a=g,delete h.easing),!i)for(let p in h)if(h[p].toString().indexOf("{{")>=0){i=!0;break}}}),{type:6,styles:n,easing:a,offset:e.offset,containsDynamicStyles:i,options:null}}_validateStyleAst(e,t){const n=t.currentAnimateTimings;let i=t.currentTime,a=t.currentTime;n&&a>0&&(a-=n.duration+n.delay),e.styles.forEach(u=>{"string"!=typeof u&&Object.keys(u).forEach(h=>{if(!this._driver.validateStyleProperty(h))return delete u[h],void t.unsupportedCSSPropertiesFound.add(h);const g=t.collectedStyles[t.currentQuerySelector],p=g[h];let C=!0;p&&(a!=i&&a>=p.startTime&&i<=p.endTime&&(t.errors.push(function fT(o,e,t,n,i){return new c.vHH(3010,di)}()),C=!1),a=p.startTime),C&&(g[h]={startTime:a,endTime:i}),t.options&&function zT(o,e,t){const n=e.params||{},i=yS(o);i.length&&i.forEach(a=>{n.hasOwnProperty(a)||t.push(function sT(o){return new c.vHH(3001,di)}())})}(u[h],t.options,t.errors)})})}visitKeyframes(e,t){const n={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function gT(){return new c.vHH(3011,di)}()),n;let a=0;const u=[];let h=!1,g=!1,p=0;const C=e.steps.map(B=>{const V=this._makeStyleAst(B,t);let $=null!=V.offset?V.offset:function s1(o){if("string"==typeof o)return null;let e=null;if(Array.isArray(o))o.forEach(t=>{if(lv(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}});else if(lv(o)&&o.hasOwnProperty("offset")){const t=o;e=parseFloat(t.offset),delete t.offset}return e}(V.styles),U=0;return null!=$&&(a++,U=V.offset=$),g=g||U<0||U>1,h=h||U<p,p=U,u.push(U),V});g&&t.errors.push(function pT(){return new c.vHH(3012,di)}()),h&&t.errors.push(function mT(){return new c.vHH(3200,di)}());const A=e.steps.length;let v=0;a>0&&a<A?t.errors.push(function CT(){return new c.vHH(3202,di)}()):0==a&&(v=1/(A-1));const b=A-1,E=t.currentTime,S=t.currentAnimateTimings,T=S.duration;return C.forEach((B,V)=>{const $=v>0?V==b?1:v*V:u[V],U=$*T;t.currentTime=E+S.delay+U,S.duration=U,this._validateStyleAst(B,t),B.offset=$,n.styles.push(B)}),n}visitReference(e,t){return{type:8,animation:Jo(this,eC(e.animation),t),options:th(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:th(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:th(e.options)}}visitQuery(e,t){const n=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[a,u]=function t1(o){const e=!!o.split(/\s*,\s*/).find(t=>":self"==t);return e&&(o=o.replace(XT,"")),o=o.replace(/@\*/g,X_).replace(/@\w+/g,t=>X_+"-"+t.substr(1)).replace(/:animating/g,Vb),[o,e]}(e.selector);t.currentQuerySelector=n.length?n+" "+a:a,Ko(t.collectedStyles,t.currentQuerySelector,{});const h=Jo(this,eC(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=n,{type:11,selector:a,limit:i.limit||0,optional:!!i.optional,includeSelf:u,animation:h,originalSelector:e.selector,options:th(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function AT(){return new c.vHH(3013,di)}());const n="full"===e.timings?{duration:0,delay:0,easing:"full"}:ev(e.timings,t.errors,!0);return{type:12,animation:Jo(this,eC(e.animation),t),timings:n,options:null}}}class r1{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function lv(o){return!Array.isArray(o)&&"object"==typeof o}function th(o){return o?(o=Zf(o)).params&&(o.params=function n1(o){return o?Zf(o):null}(o.params)):o={},o}function Wb(o,e,t){return{duration:o,delay:e,easing:t}}function jb(o,e,t,n,i,a,u=null,h=!1){return{type:1,element:o,keyframes:e,preStyleProps:t,postStyleProps:n,duration:i,delay:a,totalTime:i+a,easing:u,subTimeline:h}}class cv{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let n=this._map.get(e);n||this._map.set(e,n=[]),n.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const c1=new RegExp(":enter","g"),d1=new RegExp(":leave","g");function $b(o,e,t,n,i,a={},u={},h,g,p=[]){return(new h1).buildKeyframes(o,e,t,n,i,a,u,h,g,p)}class h1{buildKeyframes(e,t,n,i,a,u,h,g,p,C=[]){p=p||new cv;const A=new Zb(e,t,p,i,a,C,[]);A.options=g,A.currentTimeline.setStyles([u],null,A.errors,g),Jo(this,n,A);const v=A.timelines.filter(b=>b.containsAnimation());if(Object.keys(h).length){let b;for(let E=v.length-1;E>=0;E--){const S=v[E];if(S.element===t){b=S;break}}b&&!b.allowOnlyTimelineStyles()&&b.setStyles([h],null,A.errors,g)}return v.length?v.map(b=>b.buildKeyframes()):[jb(t,[],[],[],0,0,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const n=t.subInstructions.get(t.element);if(n){const i=t.createSubContext(e.options),a=t.currentTimeline.currentTime,u=this._visitSubInstructions(n,i,i.options);a!=u&&t.transformIntoNewTimeline(u)}t.previousNode=e}visitAnimateRef(e,t){const n=t.createSubContext(e.options);n.transformIntoNewTimeline(),this.visitReference(e.animation,n),t.transformIntoNewTimeline(n.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,n){let a=t.currentTimeline.currentTime;const u=null!=n.duration?Xd(n.duration):null,h=null!=n.delay?Xd(n.delay):null;return 0!==u&&e.forEach(g=>{const p=t.appendInstructionToTimeline(g,u,h);a=Math.max(a,p.duration+p.delay)}),a}visitReference(e,t){t.updateOptions(e.options,!0),Jo(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const n=t.subContextCount;let i=t;const a=e.options;if(a&&(a.params||a.delay)&&(i=t.createSubContext(a),i.transformIntoNewTimeline(),null!=a.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=uv);const u=Xd(a.delay);i.delayNextStep(u)}e.steps.length&&(e.steps.forEach(u=>Jo(this,u,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>n&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const n=[];let i=t.currentTimeline.currentTime;const a=e.options&&e.options.delay?Xd(e.options.delay):0;e.steps.forEach(u=>{const h=t.createSubContext(e.options);a&&h.delayNextStep(a),Jo(this,u,h),i=Math.max(i,h.currentTimeline.currentTime),n.push(h.currentTimeline)}),n.forEach(u=>t.currentTimeline.mergeTimelineCollectedStyles(u)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const n=e.strValue;return ev(t.params?tv(n,t.params,t.errors):n,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const n=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;n.delay&&(t.incrementTime(n.delay),i.snapshotCurrentStyles());const a=e.style;5==a.type?this.visitKeyframes(a,t):(t.incrementTime(n.duration),this.visitStyle(a,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const n=t.currentTimeline,i=t.currentAnimateTimings;!i&&n.getCurrentStyleProperties().length&&n.forwardFrame();const a=i&&i.easing||e.easing;e.isEmptyStep?n.applyEmptyStep(a):n.setStyles(e.styles,a,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const n=t.currentAnimateTimings,i=t.currentTimeline.duration,a=n.duration,h=t.createSubContext().currentTimeline;h.easing=n.easing,e.styles.forEach(g=>{h.forwardTime((g.offset||0)*a),h.setStyles(g.styles,g.easing,t.errors,t.options),h.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(h),t.transformIntoNewTimeline(i+a),t.previousNode=e}visitQuery(e,t){const n=t.currentTimeline.currentTime,i=e.options||{},a=i.delay?Xd(i.delay):0;a&&(6===t.previousNode.type||0==n&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=uv);let u=n;const h=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=h.length;let g=null;h.forEach((p,C)=>{t.currentQueryIndex=C;const A=t.createSubContext(e.options,p);a&&A.delayNextStep(a),p===t.element&&(g=A.currentTimeline),Jo(this,e.animation,A),A.currentTimeline.applyStylesToKeyframe(),u=Math.max(u,A.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(u),g&&(t.currentTimeline.mergeTimelineCollectedStyles(g),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const n=t.parentContext,i=t.currentTimeline,a=e.timings,u=Math.abs(a.duration),h=u*(t.currentQueryTotal-1);let g=u*t.currentQueryIndex;switch(a.duration<0?"reverse":a.easing){case"reverse":g=h-g;break;case"full":g=n.currentStaggerTime}const C=t.currentTimeline;g&&C.delayNextStep(g);const A=C.currentTime;Jo(this,e.animation,t),t.previousNode=e,n.currentStaggerTime=i.currentTime-A+(i.startTime-n.currentTimeline.startTime)}}const uv={};class Zb{constructor(e,t,n,i,a,u,h,g){this._driver=e,this.element=t,this.subInstructions=n,this._enterClassName=i,this._leaveClassName=a,this.errors=u,this.timelines=h,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=uv,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=g||new dv(this._driver,t,0),h.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const n=e;let i=this.options;null!=n.duration&&(i.duration=Xd(n.duration)),null!=n.delay&&(i.delay=Xd(n.delay));const a=n.params;if(a){let u=i.params;u||(u=this.options.params={}),Object.keys(a).forEach(h=>{(!t||!u.hasOwnProperty(h))&&(u[h]=tv(a[h],u,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const n=e.params={};Object.keys(t).forEach(i=>{n[i]=t[i]})}}return e}createSubContext(e=null,t,n){const i=t||this.element,a=new Zb(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,n||0));return a.previousNode=this.previousNode,a.currentAnimateTimings=this.currentAnimateTimings,a.options=this._copyOptions(),a.updateOptions(e),a.currentQueryIndex=this.currentQueryIndex,a.currentQueryTotal=this.currentQueryTotal,a.parentContext=this,this.subContextCount++,a}transformIntoNewTimeline(e){return this.previousNode=uv,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,n){const i={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+e.delay,easing:""},a=new f1(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(a),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,n,i,a,u){let h=[];if(i&&h.push(this.element),e.length>0){e=(e=e.replace(c1,"."+this._enterClassName)).replace(d1,"."+this._leaveClassName);let p=this._driver.query(this.element,e,1!=n);0!==n&&(p=n<0?p.slice(p.length+n,p.length):p.slice(0,n)),h.push(...p)}return!a&&0==h.length&&u.push(function IT(o){return new c.vHH(3014,di)}()),h}}class dv{constructor(e,t,n,i){this._driver=e,this.element=t,this.startTime=n,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new dv(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||wl,this._currentKeyframe[t]=wl}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,n,i){t&&(this._previousKeyframe.easing=t);const a=i&&i.params||{},u=function g1(o,e){const t={};let n;return o.forEach(i=>{"*"===i?(n=n||Object.keys(e),n.forEach(a=>{t[a]=wl})):Ou(i,!1,t)}),t}(e,this._globalTimelineStyles);Object.keys(u).forEach(h=>{const g=tv(u[h],a,n);this._pendingStyles[h]=g,this._localTimelineStyles.hasOwnProperty(h)||(this._backFill[h]=this._globalTimelineStyles.hasOwnProperty(h)?this._globalTimelineStyles[h]:wl),this._updateStyle(h,g)})}applyStylesToKeyframe(){const e=this._pendingStyles,t=Object.keys(e);0!=t.length&&(this._pendingStyles={},t.forEach(n=>{this._currentKeyframe[n]=e[n]}),Object.keys(this._localTimelineStyles).forEach(n=>{this._currentKeyframe.hasOwnProperty(n)||(this._currentKeyframe[n]=this._localTimelineStyles[n])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(e=>{const t=this._localTimelineStyles[e];this._pendingStyles[e]=t,this._updateStyle(e,t)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){Object.keys(e._styleSummary).forEach(t=>{const n=this._styleSummary[t],i=e._styleSummary[t];(!n||i.time>n.time)&&this._updateStyle(t,i.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,n=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((h,g)=>{const p=Ou(h,!0);Object.keys(p).forEach(C=>{const A=p[C];"!"==A?e.add(C):A==wl&&t.add(C)}),n||(p.offset=g/this.duration),i.push(p)});const a=e.size?nv(e.values()):[],u=t.size?nv(t.values()):[];if(n){const h=i[0],g=Zf(h);h.offset=0,g.offset=1,i=[h,g]}return jb(this.element,i,a,u,this.duration,this.startTime,this.easing,!1)}}class f1 extends dv{constructor(e,t,n,i,a,u,h=!1){super(e,t,u.delay),this.keyframes=n,this.preStyleProps=i,this.postStyleProps=a,this._stretchStartingKeyframe=h,this.timings={duration:u.duration,delay:u.delay,easing:u.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:n,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const a=[],u=n+t,h=t/u,g=Ou(e[0],!1);g.offset=0,a.push(g);const p=Ou(e[0],!1);p.offset=SS(h),a.push(p);const C=e.length-1;for(let A=1;A<=C;A++){let v=Ou(e[A],!1);v.offset=SS((t+v.offset*n)/u),a.push(v)}n=u,t=0,i="",e=a}return jb(this.element,e,this.preStyleProps,this.postStyleProps,n,t,i,!0)}}function SS(o,e=3){const t=Math.pow(10,e-1);return Math.round(o*t)/t}class qb{}class p1 extends qb{normalizePropertyName(e,t){return zb(e)}normalizeStyleValue(e,t,n,i){let a="";const u=n.toString().trim();if(m1[t]&&0!==n&&"0"!==n)if("number"==typeof n)a="px";else{const h=n.match(/^[+-]?[\d\.]+([a-z]*)$/);h&&0==h[1].length&&i.push(function lT(o,e){return new c.vHH(3005,di)}())}return u+a}}const m1=(()=>function C1(o){const e={};return o.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function TS(o,e,t,n,i,a,u,h,g,p,C,A,v){return{type:0,element:o,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:a,toState:n,toStyles:u,timelines:h,queriedElements:g,preStyleProps:p,postStyleProps:C,totalTime:A,errors:v}}const Yb={};class ES{constructor(e,t,n){this._triggerName=e,this.ast=t,this._stateStyles=n}match(e,t,n,i){return function A1(o,e,t,n,i){return o.some(a=>a(e,t,n,i))}(this.ast.matchers,e,t,n,i)}buildStyles(e,t,n){const i=this._stateStyles["*"],a=this._stateStyles[e],u=i?i.buildStyles(t,n):{};return a?a.buildStyles(t,n):u}build(e,t,n,i,a,u,h,g,p,C){const A=[],v=this.ast.options&&this.ast.options.params||Yb,E=this.buildStyles(n,h&&h.params||Yb,A),S=g&&g.params||Yb,T=this.buildStyles(i,S,A),B=new Set,V=new Map,$=new Map,U="void"===i,Q={params:Object.assign(Object.assign({},v),S)},ne=C?[]:$b(e,t,this.ast.animation,a,u,E,T,Q,p,A);let Ie=0;if(ne.forEach(ce=>{Ie=Math.max(ce.duration+ce.delay,Ie)}),A.length)return TS(t,this._triggerName,n,i,U,E,T,[],[],V,$,Ie,A);ne.forEach(ce=>{const Le=ce.element,Ve=Ko(V,Le,{});ce.preStyleProps.forEach(Rt=>Ve[Rt]=!0);const yt=Ko($,Le,{});ce.postStyleProps.forEach(Rt=>yt[Rt]=!0),Le!==t&&B.add(Le)});const G=nv(B.values());return TS(t,this._triggerName,n,i,U,E,T,ne,G,V,$,Ie)}}class I1{constructor(e,t,n){this.styles=e,this.defaultParams=t,this.normalizer=n}buildStyles(e,t){const n={},i=Zf(this.defaultParams);return Object.keys(e).forEach(a=>{const u=e[a];null!=u&&(i[a]=u)}),this.styles.styles.forEach(a=>{if("string"!=typeof a){const u=a;Object.keys(u).forEach(h=>{let g=u[h];g.length>1&&(g=tv(g,i,t));const p=this.normalizer.normalizePropertyName(h,t);g=this.normalizer.normalizeStyleValue(h,p,g,t),n[p]=g})}}),n}}class v1{constructor(e,t,n){this.name=e,this.ast=t,this._normalizer=n,this.transitionFactories=[],this.states={},t.states.forEach(i=>{this.states[i.name]=new I1(i.style,i.options&&i.options.params||{},n)}),DS(this.states,"true","1"),DS(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new ES(e,i,this.states))}),this.fallbackTransition=function y1(o,e,t){return new ES(o,{type:1,animation:{type:2,steps:[],options:null},matchers:[(u,h)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,n,i){return this.transitionFactories.find(u=>u.match(e,t,n,i))||null}matchStyles(e,t,n){return this.fallbackTransition.buildStyles(e,t,n)}}function DS(o,e,t){o.hasOwnProperty(e)?o.hasOwnProperty(t)||(o[t]=o[e]):o.hasOwnProperty(t)&&(o[e]=o[t])}const x1=new cv;class b1{constructor(e,t,n){this.bodyNode=e,this._driver=t,this._normalizer=n,this._animations={},this._playersById={},this.players=[]}register(e,t){const n=[],a=Gb(this._driver,t,n,[]);if(n.length)throw function MT(o){return new c.vHH(3503,di)}();this._animations[e]=a}_buildPlayer(e,t,n){const i=e.element,a=lS(0,this._normalizer,0,e.keyframes,t,n);return this._driver.animate(i,a,e.duration,e.delay,e.easing,[],!0)}create(e,t,n={}){const i=[],a=this._animations[e];let u;const h=new Map;if(a?(u=$b(this._driver,t,a,Bb,J_,{},{},n,x1,i),u.forEach(C=>{const A=Ko(h,C.element,{});C.postStyleProps.forEach(v=>A[v]=null)})):(i.push(function ST(){return new c.vHH(3300,di)}()),u=[]),i.length)throw function TT(o){return new c.vHH(3504,di)}();h.forEach((C,A)=>{Object.keys(C).forEach(v=>{C[v]=this._driver.computeStyle(A,v,wl)})});const p=Pu(u.map(C=>{const A=h.get(C.element);return this._buildPlayer(C,{},A)}));return this._playersById[e]=p,p.onDestroy(()=>this.destroy(e)),this.players.push(p),p}destroy(e){const t=this._getPlayer(e);t.destroy(),delete this._playersById[e];const n=this.players.indexOf(t);n>=0&&this.players.splice(n,1)}_getPlayer(e){const t=this._playersById[e];if(!t)throw function ET(o){return new c.vHH(3301,di)}();return t}listen(e,t,n,i){const a=Rb(t,"","","");return Ob(this._getPlayer(e),n,a,i),()=>{}}command(e,t,n,i){if("register"==n)return void this.register(e,i[0]);if("create"==n)return void this.create(e,t,i[0]||{});const a=this._getPlayer(e);switch(n){case"play":a.play();break;case"pause":a.pause();break;case"reset":a.reset();break;case"restart":a.restart();break;case"finish":a.finish();break;case"init":a.init();break;case"setPosition":a.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const PS="ng-animate-queued",Kb="ng-animate-disabled",E1=[],OS={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},D1={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},wa="__ng_removed";class Jb{constructor(e,t=""){this.namespaceId=t;const n=e&&e.hasOwnProperty("value");if(this.value=function R1(o){return null!=o?o:null}(n?e.value:e),n){const a=Zf(e);delete a.value,this.options=a}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const n=this.options.params;Object.keys(t).forEach(i=>{null==n[i]&&(n[i]=t[i])})}}}const tC="void",Qb=new Jb(tC);class P1{constructor(e,t,n){this.id=e,this.hostElement=t,this._engine=n,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Ma(t,this._hostClassName)}listen(e,t,n,i){if(!this._triggers.hasOwnProperty(t))throw function DT(o,e){return new c.vHH(3302,di)}();if(null==n||0==n.length)throw function PT(o){return new c.vHH(3303,di)}();if(!function N1(o){return"start"==o||"done"==o}(n))throw function OT(o,e){return new c.vHH(3400,di)}();const a=Ko(this._elementListeners,e,[]),u={name:t,phase:n,callback:i};a.push(u);const h=Ko(this._engine.statesByElement,e,{});return h.hasOwnProperty(t)||(Ma(e,Q_),Ma(e,Q_+"-"+t),h[t]=Qb),()=>{this._engine.afterFlush(()=>{const g=a.indexOf(u);g>=0&&a.splice(g,1),this._triggers[t]||delete h[t]})}}register(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}_getTrigger(e){const t=this._triggers[e];if(!t)throw function LT(o){return new c.vHH(3401,di)}();return t}trigger(e,t,n,i=!0){const a=this._getTrigger(t),u=new Xb(this.id,t,e);let h=this._engine.statesByElement.get(e);h||(Ma(e,Q_),Ma(e,Q_+"-"+t),this._engine.statesByElement.set(e,h={}));let g=h[t];const p=new Jb(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&g&&p.absorbOptions(g.options),h[t]=p,g||(g=Qb),p.value!==tC&&g.value===p.value){if(!function B1(o,e){const t=Object.keys(o),n=Object.keys(e);if(t.length!=n.length)return!1;for(let i=0;i<t.length;i++){const a=t[i];if(!e.hasOwnProperty(a)||o[a]!==e[a])return!1}return!0}(g.params,p.params)){const S=[],T=a.matchStyles(g.value,g.params,S),B=a.matchStyles(p.value,p.params,S);S.length?this._engine.reportError(S):this._engine.afterFlush(()=>{eh(e,T),El(e,B)})}return}const v=Ko(this._engine.playersByElement,e,[]);v.forEach(S=>{S.namespaceId==this.id&&S.triggerName==t&&S.queued&&S.destroy()});let b=a.matchTransition(g.value,p.value,e,p.params),E=!1;if(!b){if(!i)return;b=a.fallbackTransition,E=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:b,fromState:g,toState:p,player:u,isFallbackTransition:E}),E||(Ma(e,PS),u.onStart(()=>{qf(e,PS)})),u.onDone(()=>{let S=this.players.indexOf(u);S>=0&&this.players.splice(S,1);const T=this._engine.playersByElement.get(e);if(T){let B=T.indexOf(u);B>=0&&T.splice(B,1)}}),this.players.push(u),v.push(u),u}deregister(e){delete this._triggers[e],this._engine.statesByElement.forEach((t,n)=>{delete t[e]}),this._elementListeners.forEach((t,n)=>{this._elementListeners.set(n,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(n=>n.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const n=this._engine.driver.query(e,X_,!0);n.forEach(i=>{if(i[wa])return;const a=this._engine.fetchNamespacesByElement(i);a.size?a.forEach(u=>u.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,n,i){const a=this._engine.statesByElement.get(e),u=new Map;if(a){const h=[];if(Object.keys(a).forEach(g=>{if(u.set(g,a[g].value),this._triggers[g]){const p=this.trigger(e,g,tC,i);p&&h.push(p)}}),h.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,u),n&&Pu(h).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),n=this._engine.statesByElement.get(e);if(t&&n){const i=new Set;t.forEach(a=>{const u=a.name;if(i.has(u))return;i.add(u);const g=this._triggers[u].fallbackTransition,p=n[u]||Qb,C=new Jb(tC),A=new Xb(this.id,u,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:u,transition:g,fromState:p,toState:C,player:A,isFallbackTransition:!0})})}}removeNode(e,t){const n=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(n.totalAnimations){const a=n.players.length?n.playersByQueriedElement.get(e):[];if(a&&a.length)i=!0;else{let u=e;for(;u=u.parentNode;)if(n.statesByElement.get(u)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)n.markElementAsRemoved(this.id,e,!1,t);else{const a=e[wa];(!a||a===OS)&&(n.afterFlush(()=>this.clearElementCache(e)),n.destroyInnerAnimations(e),n._onRemovalComplete(e,t))}}insertNode(e,t){Ma(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(n=>{const i=n.player;if(i.destroyed)return;const a=n.element,u=this._elementListeners.get(a);u&&u.forEach(h=>{if(h.name==n.triggerName){const g=Rb(a,n.triggerName,n.fromState.value,n.toState.value);g._data=e,Ob(n.player,h.phase,g,h.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(n)}),this._queue=[],t.sort((n,i)=>{const a=n.transition.ast.depCount,u=i.transition.ast.depCount;return 0==a||0==u?a-u:this._engine.driver.containsElement(n.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(n=>n.element===e)||t,t}}class O1{constructor(e,t,n){this.bodyNode=e,this.driver=t,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,a)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(n=>{n.queued&&e.push(n)})}),e}createNamespace(e,t){const n=new P1(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(n,t):(this.newHostElements.set(t,n),this.collectEnterElement(t)),this._namespaceLookup[e]=n}_balanceNamespaceList(e,t){const n=this._namespaceList,i=this.namespacesByHostElement,a=n.length-1;if(a>=0){let u=!1;if(void 0!==this.driver.getParentElement){let h=this.driver.getParentElement(t);for(;h;){const g=i.get(h);if(g){const p=n.indexOf(g);n.splice(p+1,0,e),u=!0;break}h=this.driver.getParentElement(h)}}else for(let h=a;h>=0;h--)if(this.driver.containsElement(n[h].hostElement,t)){n.splice(h+1,0,e),u=!0;break}u||n.unshift(e)}else n.push(e);return i.set(t,e),e}register(e,t){let n=this._namespaceLookup[e];return n||(n=this.createNamespace(e,t)),n}registerTrigger(e,t,n){let i=this._namespaceLookup[e];i&&i.register(t,n)&&this.totalAnimations++}destroy(e,t){if(!e)return;const n=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(n.hostElement),delete this._namespaceLookup[e];const i=this._namespaceList.indexOf(n);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>n.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,n=this.statesByElement.get(e);if(n){const i=Object.keys(n);for(let a=0;a<i.length;a++){const u=n[i[a]].namespaceId;if(u){const h=this._fetchNamespace(u);h&&t.add(h)}}}return t}trigger(e,t,n,i){if(hv(t)){const a=this._fetchNamespace(e);if(a)return a.trigger(t,n,i),!0}return!1}insertNode(e,t,n,i){if(!hv(t))return;const a=t[wa];if(a&&a.setForRemoval){a.setForRemoval=!1,a.setForMove=!0;const u=this.collectedLeaveElements.indexOf(t);u>=0&&this.collectedLeaveElements.splice(u,1)}if(e){const u=this._fetchNamespace(e);u&&u.insertNode(t,n)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Ma(e,Kb)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),qf(e,Kb))}removeNode(e,t,n,i){if(hv(t)){const a=e?this._fetchNamespace(e):null;if(a?a.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),n){const u=this.namespacesByHostElement.get(t);u&&u.id!==e&&u.removeNode(t,i)}}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,n,i,a){this.collectedLeaveElements.push(t),t[wa]={namespaceId:e,setForRemoval:i,hasAnimation:n,removedBeforeQueried:!1,previousTriggersValues:a}}listen(e,t,n,i,a){return hv(t)?this._fetchNamespace(e).listen(t,n,i,a):()=>{}}_buildInstruction(e,t,n,i,a){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,n,i,e.fromState.options,e.toState.options,t,a)}destroyInnerAnimations(e){let t=this.driver.query(e,X_,!0);t.forEach(n=>this.destroyActiveAnimationsForElement(n)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,Vb,!0),t.forEach(n=>this.finishActiveQueriedAnimationOnElement(n)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(n=>{n.queued?n.markedForDestroy=!0:n.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(n=>n.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Pu(this.players).onDone(()=>e());e()})}processLeaveNode(e){var t;const n=e[wa];if(n&&n.setForRemoval){if(e[wa]=OS,n.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(n.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,n.setForRemoval)}(null===(t=e.classList)||void 0===t?void 0:t.contains(Kb))&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((n,i)=>this._balanceNamespaceList(n,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)Ma(this.collectedEnterElements[n],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{t=this._flushAnimations(n,e)}finally{for(let i=0;i<n.length;i++)n[i]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(n=>n()),this._flushFns=[],this._whenQuietFns.length){const n=this._whenQuietFns;this._whenQuietFns=[],t.length?Pu(t).onDone(()=>{n.forEach(i=>i())}):n.forEach(i=>i())}}reportError(e){throw function RT(o){return new c.vHH(3402,di)}()}_flushAnimations(e,t){const n=new cv,i=[],a=new Map,u=[],h=new Map,g=new Map,p=new Map,C=new Set;this.disabledNodes.forEach(De=>{C.add(De);const je=this.driver.query(De,".ng-animate-queued",!0);for(let Ke=0;Ke<je.length;Ke++)C.add(je[Ke])});const A=this.bodyNode,v=Array.from(this.statesByElement.keys()),b=NS(v,this.collectedEnterElements),E=new Map;let S=0;b.forEach((De,je)=>{const Ke=Bb+S++;E.set(je,Ke),De.forEach(He=>Ma(He,Ke))});const T=[],B=new Set,V=new Set;for(let De=0;De<this.collectedLeaveElements.length;De++){const je=this.collectedLeaveElements[De],Ke=je[wa];Ke&&Ke.setForRemoval&&(T.push(je),B.add(je),Ke.hasAnimation?this.driver.query(je,".ng-star-inserted",!0).forEach(He=>B.add(He)):V.add(je))}const $=new Map,U=NS(v,Array.from(B));U.forEach((De,je)=>{const Ke=J_+S++;$.set(je,Ke),De.forEach(He=>Ma(He,Ke))}),e.push(()=>{b.forEach((De,je)=>{const Ke=E.get(je);De.forEach(He=>qf(He,Ke))}),U.forEach((De,je)=>{const Ke=$.get(je);De.forEach(He=>qf(He,Ke))}),T.forEach(De=>{this.processLeaveNode(De)})});const Q=[],ne=[];for(let De=this._namespaceList.length-1;De>=0;De--)this._namespaceList[De].drainQueuedTransitions(t).forEach(Ke=>{const He=Ke.player,nt=Ke.element;if(Q.push(He),this.collectedEnterElements.length){const Bn=nt[wa];if(Bn&&Bn.setForMove){if(Bn.previousTriggersValues&&Bn.previousTriggersValues.has(Ke.triggerName)){const Ln=Bn.previousTriggersValues.get(Ke.triggerName),Vn=this.statesByElement.get(Ke.element);Vn&&Vn[Ke.triggerName]&&(Vn[Ke.triggerName].value=Ln)}return void He.destroy()}}const Vt=!A||!this.driver.containsElement(A,nt),Et=$.get(nt),qt=E.get(nt),Jt=this._buildInstruction(Ke,n,qt,Et,Vt);if(Jt.errors&&Jt.errors.length)return void ne.push(Jt);if(Vt)return He.onStart(()=>eh(nt,Jt.fromStyles)),He.onDestroy(()=>El(nt,Jt.toStyles)),void i.push(He);if(Ke.isFallbackTransition)return He.onStart(()=>eh(nt,Jt.fromStyles)),He.onDestroy(()=>El(nt,Jt.toStyles)),void i.push(He);const qn=[];Jt.timelines.forEach(Bn=>{Bn.stretchStartingKeyframe=!0,this.disabledNodes.has(Bn.element)||qn.push(Bn)}),Jt.timelines=qn,n.append(nt,Jt.timelines),u.push({instruction:Jt,player:He,element:nt}),Jt.queriedElements.forEach(Bn=>Ko(h,Bn,[]).push(He)),Jt.preStyleProps.forEach((Bn,Ln)=>{const Vn=Object.keys(Bn);if(Vn.length){let rn=g.get(Ln);rn||g.set(Ln,rn=new Set),Vn.forEach(hi=>rn.add(hi))}}),Jt.postStyleProps.forEach((Bn,Ln)=>{const Vn=Object.keys(Bn);let rn=p.get(Ln);rn||p.set(Ln,rn=new Set),Vn.forEach(hi=>rn.add(hi))})});if(ne.length){const De=[];ne.forEach(je=>{De.push(function NT(o,e){return new c.vHH(3505,di)}())}),Q.forEach(je=>je.destroy()),this.reportError(De)}const Ie=new Map,G=new Map;u.forEach(De=>{const je=De.element;n.has(je)&&(G.set(je,je),this._beforeAnimationBuild(De.player.namespaceId,De.instruction,Ie))}),i.forEach(De=>{const je=De.element;this._getPreviousPlayers(je,!1,De.namespaceId,De.triggerName,null).forEach(He=>{Ko(Ie,je,[]).push(He),He.destroy()})});const ce=T.filter(De=>kS(De,g,p)),Le=new Map;RS(Le,this.driver,V,p,wl).forEach(De=>{kS(De,g,p)&&ce.push(De)});const yt=new Map;b.forEach((De,je)=>{RS(yt,this.driver,new Set(De),g,"!")}),ce.forEach(De=>{const je=Le.get(De),Ke=yt.get(De);Le.set(De,Object.assign(Object.assign({},je),Ke))});const Rt=[],ze=[],pt={};u.forEach(De=>{const{element:je,player:Ke,instruction:He}=De;if(n.has(je)){if(C.has(je))return Ke.onDestroy(()=>El(je,He.toStyles)),Ke.disabled=!0,Ke.overrideTotalTime(He.totalTime),void i.push(Ke);let nt=pt;if(G.size>1){let Et=je;const qt=[];for(;Et=Et.parentNode;){const Jt=G.get(Et);if(Jt){nt=Jt;break}qt.push(Et)}qt.forEach(Jt=>G.set(Jt,nt))}const Vt=this._buildAnimation(Ke.namespaceId,He,Ie,a,yt,Le);if(Ke.setRealPlayer(Vt),nt===pt)Rt.push(Ke);else{const Et=this.playersByElement.get(nt);Et&&Et.length&&(Ke.parentPlayer=Pu(Et)),i.push(Ke)}}else eh(je,He.fromStyles),Ke.onDestroy(()=>El(je,He.toStyles)),ze.push(Ke),C.has(je)&&i.push(Ke)}),ze.forEach(De=>{const je=a.get(De.element);if(je&&je.length){const Ke=Pu(je);De.setRealPlayer(Ke)}}),i.forEach(De=>{De.parentPlayer?De.syncPlayerEvents(De.parentPlayer):De.destroy()});for(let De=0;De<T.length;De++){const je=T[De],Ke=je[wa];if(qf(je,J_),Ke&&Ke.hasAnimation)continue;let He=[];if(h.size){let Vt=h.get(je);Vt&&Vt.length&&He.push(...Vt);let Et=this.driver.query(je,Vb,!0);for(let qt=0;qt<Et.length;qt++){let Jt=h.get(Et[qt]);Jt&&Jt.length&&He.push(...Jt)}}const nt=He.filter(Vt=>!Vt.destroyed);nt.length?F1(this,je,nt):this.processLeaveNode(je)}return T.length=0,Rt.forEach(De=>{this.players.push(De),De.onDone(()=>{De.destroy();const je=this.players.indexOf(De);this.players.splice(je,1)}),De.play()}),Rt}elementContainsData(e,t){let n=!1;const i=t[wa];return i&&i.setForRemoval&&(n=!0),this.playersByElement.has(t)&&(n=!0),this.playersByQueriedElement.has(t)&&(n=!0),this.statesByElement.has(t)&&(n=!0),this._fetchNamespace(e).elementContainsData(t)||n}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,n,i,a){let u=[];if(t){const h=this.playersByQueriedElement.get(e);h&&(u=h)}else{const h=this.playersByElement.get(e);if(h){const g=!a||a==tC;h.forEach(p=>{p.queued||!g&&p.triggerName!=i||u.push(p)})}}return(n||i)&&(u=u.filter(h=>!(n&&n!=h.namespaceId||i&&i!=h.triggerName))),u}_beforeAnimationBuild(e,t,n){const a=t.element,u=t.isRemovalTransition?void 0:e,h=t.isRemovalTransition?void 0:t.triggerName;for(const g of t.timelines){const p=g.element,C=p!==a,A=Ko(n,p,[]);this._getPreviousPlayers(p,C,u,h,t.toState).forEach(b=>{const E=b.getRealPlayer();E.beforeDestroy&&E.beforeDestroy(),b.destroy(),A.push(b)})}eh(a,t.fromStyles)}_buildAnimation(e,t,n,i,a,u){const h=t.triggerName,g=t.element,p=[],C=new Set,A=new Set,v=t.timelines.map(E=>{const S=E.element;C.add(S);const T=S[wa];if(T&&T.removedBeforeQueried)return new $a(E.duration,E.delay);const B=S!==g,V=function k1(o){const e=[];return FS(o,e),e}((n.get(S)||E1).map(Ie=>Ie.getRealPlayer())).filter(Ie=>!!Ie.element&&Ie.element===S),$=a.get(S),U=u.get(S),Q=lS(0,this._normalizer,0,E.keyframes,$,U),ne=this._buildPlayer(E,Q,V);if(E.subTimeline&&i&&A.add(S),B){const Ie=new Xb(e,h,S);Ie.setRealPlayer(ne),p.push(Ie)}return ne});p.forEach(E=>{Ko(this.playersByQueriedElement,E.element,[]).push(E),E.onDone(()=>function L1(o,e,t){let n;if(o instanceof Map){if(n=o.get(e),n){if(n.length){const i=n.indexOf(t);n.splice(i,1)}0==n.length&&o.delete(e)}}else if(n=o[e],n){if(n.length){const i=n.indexOf(t);n.splice(i,1)}0==n.length&&delete o[e]}return n}(this.playersByQueriedElement,E.element,E))}),C.forEach(E=>Ma(E,AS));const b=Pu(v);return b.onDestroy(()=>{C.forEach(E=>qf(E,AS)),El(g,t.toStyles)}),A.forEach(E=>{Ko(i,E,[]).push(b)}),b}_buildPlayer(e,t,n){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,n):new $a(e.duration,e.delay)}}class Xb{constructor(e,t,n){this.namespaceId=e,this.triggerName=t,this.element=n,this._player=new $a,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(t=>{this._queuedCallbacks[t].forEach(n=>Ob(e,t,void 0,n))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Ko(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function hv(o){return o&&1===o.nodeType}function LS(o,e){const t=o.style.display;return o.style.display=null!=e?e:"none",t}function RS(o,e,t,n,i){const a=[];t.forEach(g=>a.push(LS(g)));const u=[];n.forEach((g,p)=>{const C={};g.forEach(A=>{const v=C[A]=e.computeStyle(p,A,i);(!v||0==v.length)&&(p[wa]=D1,u.push(p))}),o.set(p,C)});let h=0;return t.forEach(g=>LS(g,a[h++])),u}function NS(o,e){const t=new Map;if(o.forEach(h=>t.set(h,[])),0==e.length)return t;const i=new Set(e),a=new Map;function u(h){if(!h)return 1;let g=a.get(h);if(g)return g;const p=h.parentNode;return g=t.has(p)?p:i.has(p)?1:u(p),a.set(h,g),g}return e.forEach(h=>{const g=u(h);1!==g&&t.get(g).push(h)}),t}function Ma(o,e){var t;null===(t=o.classList)||void 0===t||t.add(e)}function qf(o,e){var t;null===(t=o.classList)||void 0===t||t.remove(e)}function F1(o,e,t){Pu(t).onDone(()=>o.processLeaveNode(e))}function FS(o,e){for(let t=0;t<o.length;t++){const n=o[t];n instanceof lm?FS(n.players,e):e.push(n)}}function kS(o,e,t){const n=t.get(o);if(!n)return!1;let i=e.get(o);return i?n.forEach(a=>i.add(a)):e.set(o,n),t.delete(o),!0}class fv{constructor(e,t,n){this.bodyNode=e,this._driver=t,this._normalizer=n,this._triggerCache={},this.onRemovalComplete=(i,a)=>{},this._transitionEngine=new O1(e,t,n),this._timelineEngine=new b1(e,t,n),this._transitionEngine.onRemovalComplete=(i,a)=>this.onRemovalComplete(i,a)}registerTrigger(e,t,n,i,a){const u=e+"-"+i;let h=this._triggerCache[u];if(!h){const g=[],C=Gb(this._driver,a,g,[]);if(g.length)throw function bT(o,e){return new c.vHH(3404,di)}();h=function _1(o,e,t){return new v1(o,e,t)}(i,C,this._normalizer),this._triggerCache[u]=h}this._transitionEngine.registerTrigger(t,i,h)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,n,i){this._transitionEngine.insertNode(e,t,n,i)}onRemove(e,t,n,i){this._transitionEngine.removeNode(e,t,i||!1,n)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,n,i){if("@"==n.charAt(0)){const[a,u]=cS(n);this._timelineEngine.command(a,t,u,i)}else this._transitionEngine.trigger(e,t,n,i)}listen(e,t,n,i,a){if("@"==n.charAt(0)){const[u,h]=cS(n);return this._timelineEngine.listen(u,t,h,a)}return this._transitionEngine.listen(e,t,n,i,a)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let U1=(()=>{class o{constructor(t,n,i){this._element=t,this._startStyles=n,this._endStyles=i,this._state=0;let a=o.initialStylesByElement.get(t);a||o.initialStylesByElement.set(t,a={}),this._initialStyles=a}start(){this._state<1&&(this._startStyles&&El(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(El(this._element,this._initialStyles),this._endStyles&&(El(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(o.initialStylesByElement.delete(this._element),this._startStyles&&(eh(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(eh(this._element,this._endStyles),this._endStyles=null),El(this._element,this._initialStyles),this._state=3)}}return o.initialStylesByElement=new WeakMap,o})();function ew(o){let e=null;const t=Object.keys(o);for(let n=0;n<t.length;n++){const i=t[n];H1(i)&&(e=e||{},e[i]=o[i])}return e}function H1(o){return"display"===o||"position"===o}class BS{constructor(e,t,n,i){this.element=e,this.keyframes=t,this.options=n,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(e,t,n){return e.animate(t,n)}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e={};if(this.hasStarted()){const t=this._finalKeyframe;Object.keys(t).forEach(n=>{"offset"!=n&&(e[n]=this._finished?t[n]:xS(this.element,n))})}this.currentSnapshot=e}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(n=>n()),t.length=0}}class z1{validateStyleProperty(e){return fS(e)}matchesElement(e,t){return!1}containsElement(e,t){return gS(e,t)}getParentElement(e){return Fb(e)}query(e,t,n){return pS(e,t,n)}computeStyle(e,t,n){return window.getComputedStyle(e)[t]}animate(e,t,n,i,a,u=[]){const g={duration:n,delay:i,fill:0==i?"both":"forwards"};a&&(g.easing=a);const p={},C=u.filter(v=>v instanceof BS);(function jT(o,e){return 0===o||0===e})(n,i)&&C.forEach(v=>{let b=v.currentSnapshot;Object.keys(b).forEach(E=>p[E]=b[E])}),t=function $T(o,e,t){const n=Object.keys(t);if(n.length&&e.length){let a=e[0],u=[];if(n.forEach(h=>{a.hasOwnProperty(h)||u.push(h),a[h]=t[h]}),u.length)for(var i=1;i<e.length;i++){let h=e[i];u.forEach(function(g){h[g]=xS(o,g)})}}return e}(e,t=t.map(v=>Ou(v,!1)),p);const A=function V1(o,e){let t=null,n=null;return Array.isArray(e)&&e.length?(t=ew(e[0]),e.length>1&&(n=ew(e[e.length-1]))):e&&(t=ew(e)),t||n?new U1(o,t,n):null}(e,t);return new BS(e,t,g,A)}}let G1=(()=>{class o extends om{constructor(t,n){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(n.body,{id:"0",encapsulation:c.ifc.None,styles:[],data:{animation:[]}})}build(t){const n=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?bf(t):t;return VS(this._renderer,null,n,"register",[i]),new W1(n,this._renderer)}}return o.\u0275fac=function(t){return new(t||o)(c.LFG(c.FYo),c.LFG(me.K0))},o.\u0275prov=c.Yz7({token:o,factory:o.\u0275fac}),o})();class W1 extends class Mx{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new j1(this._id,e,t||{},this._renderer)}}class j1{constructor(e,t,n,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return VS(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){var e,t;return null!==(t=null===(e=this._renderer.engine.players[+this.id])||void 0===e?void 0:e.getPosition())&&void 0!==t?t:0}}function VS(o,e,t,n,i){return o.setProperty(e,`@@${t}:${n}`,i)}const US="@.disabled";let $1=(()=>{class o{constructor(t,n,i){this.delegate=t,this.engine=n,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),n.onRemovalComplete=(a,u)=>{const h=null==u?void 0:u.parentNode(a);h&&u.removeChild(h,a)}}createRenderer(t,n){const a=this.delegate.createRenderer(t,n);if(!(t&&n&&n.data&&n.data.animation)){let C=this._rendererCache.get(a);return C||(C=new HS("",a,this.engine),this._rendererCache.set(a,C)),C}const u=n.id,h=n.id+"-"+this._currentId;this._currentId++,this.engine.register(h,t);const g=C=>{Array.isArray(C)?C.forEach(g):this.engine.registerTrigger(u,h,t,C.name,C)};return n.data.animation.forEach(g),new Z1(this,h,a,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,n,i){t>=0&&t<this._microtaskId?this._zone.run(()=>n(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(a=>{const[u,h]=a;u(h)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([n,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return o.\u0275fac=function(t){return new(t||o)(c.LFG(c.FYo),c.LFG(fv),c.LFG(c.R0b))},o.\u0275prov=c.Yz7({token:o,factory:o.\u0275fac}),o})();class HS{constructor(e,t,n){this.namespaceId=e,this.delegate=t,this.engine=n,this.destroyNode=this.delegate.destroyNode?i=>t.destroyNode(i):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,n,i=!0){this.delegate.insertBefore(e,t,n),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,n){this.engine.onRemove(this.namespaceId,t,this.delegate,n)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,n,i){this.delegate.setAttribute(e,t,n,i)}removeAttribute(e,t,n){this.delegate.removeAttribute(e,t,n)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,n,i){this.delegate.setStyle(e,t,n,i)}removeStyle(e,t,n){this.delegate.removeStyle(e,t,n)}setProperty(e,t,n){"@"==t.charAt(0)&&t==US?this.disableAnimations(e,!!n):this.delegate.setProperty(e,t,n)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,n){return this.delegate.listen(e,t,n)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class Z1 extends HS{constructor(e,t,n,i){super(t,n,i),this.factory=e,this.namespaceId=t}setProperty(e,t,n){"@"==t.charAt(0)?"."==t.charAt(1)&&t==US?this.disableAnimations(e,n=void 0===n||!!n):this.engine.process(this.namespaceId,e,t.substr(1),n):this.delegate.setProperty(e,t,n)}listen(e,t,n){if("@"==t.charAt(0)){const i=function q1(o){switch(o){case"body":return document.body;case"document":return document;case"window":return window;default:return o}}(e);let a=t.substr(1),u="";return"@"!=a.charAt(0)&&([a,u]=function Y1(o){const e=o.indexOf(".");return[o.substring(0,e),o.substr(e+1)]}(a)),this.engine.listen(this.namespaceId,i,a,u,h=>{this.factory.scheduleListenerCallback(h._data||-1,n,h)})}return this.delegate.listen(e,t,n)}}let K1=(()=>{class o extends fv{constructor(t,n,i){super(t.body,n,i)}ngOnDestroy(){this.flush()}}return o.\u0275fac=function(t){return new(t||o)(c.LFG(me.K0),c.LFG(kb),c.LFG(qb))},o.\u0275prov=c.Yz7({token:o,factory:o.\u0275fac}),o})();const zS=new c.OlP("AnimationModuleType"),GS=[{provide:om,useClass:G1},{provide:qb,useFactory:function J1(){return new p1}},{provide:fv,useClass:K1},{provide:c.FYo,useFactory:function Q1(o,e,t){return new $1(o,e,t)},deps:[D.se,fv,c.R0b]}],WS=[{provide:kb,useFactory:()=>new z1},{provide:zS,useValue:"BrowserAnimations"},...GS],X1=[{provide:kb,useClass:mS},{provide:zS,useValue:"NoopAnimations"},...GS];let eE=(()=>{class o{static withConfig(t){return{ngModule:o,providers:t.disableAnimations?X1:WS}}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=c.oAB({type:o}),o.\u0275inj=c.cJS({providers:WS,imports:[D.b2]}),o})();var tE=z(1147);let nE=(()=>{class o{constructor(t){this.cookieCreator=t,this.cookieCreator.check("EX")?this.cookieCreator.set("ALL","cazz"):(this.expireDate=new Date,this.expireDate.setDate(this.expireDate.getDate()+100),this.cookieCreator.set("EX","cazz",this.expireDate))}}return o.\u0275fac=function(t){return new(t||o)(c.LFG(oe))},o.\u0275mod=c.oAB({type:o,bootstrap:[Km]}),o.\u0275inj=c.cJS({providers:[oe],imports:[[D.b2,Jm.AuthenticationModule,Qm.TutorialContentModule,tE.HomeModule,J,Jd.JF,w,xu,mb,WI.hJ,eE,Be,Jd.JF,ae.aw.forRoot({loader:{provide:ae.Zw,useFactory:jS,deps:[Jd.eN]}})]]}),o})();function jS(o){return new Xm(o)}},3401:(dn,tt,z)=>{z.r(tt),z.d(tt,{AuthenticationModule:()=>de});var D=z(9808),X=z(5797),c=z(7587),$e=z(1062);const ee=[{path:"auth/login",component:(()=>{class Se{constructor(){}ngOnInit(){}}return Se.\u0275fac=function(Ye){return new(Ye||Se)},Se.\u0275cmp=c.Xpm({type:Se,selectors:[["app-login"]],decls:6,vars:3,consts:[[2,"font-size","200px"],[1,"content"],[1,"welcomeMessage"]],template:function(Ye,Tt){1&Ye&&(c.TgZ(0,"p",0),c._uU(1,"login works!"),c.qZA(),c.TgZ(2,"div",1)(3,"h1",2),c._uU(4),c.ALo(5,"translate"),c.qZA()()),2&Ye&&(c.xp6(4),c.Oqu(c.lcZ(5,1,"welcome.title")))},pipes:[$e.X$],styles:[""]}),Se})()},{path:"auth/signin",component:(()=>{class Se{constructor(){}ngOnInit(){}}return Se.\u0275fac=function(Ye){return new(Ye||Se)},Se.\u0275cmp=c.Xpm({type:Se,selectors:[["app-signin"]],decls:2,vars:0,template:function(Ye,Tt){1&Ye&&(c.TgZ(0,"p"),c._uU(1,"signin works!"),c.qZA())},styles:[""]}),Se})()}];let xe=(()=>{class Se{}return Se.\u0275fac=function(Ye){return new(Ye||Se)},Se.\u0275mod=c.oAB({type:Se}),Se.\u0275inj=c.cJS({imports:[[X.Bz.forRoot(ee)],X.Bz]}),Se})();var me=z(487),oe=z(520);let de=(()=>{class Se{}return Se.\u0275fac=function(Ye){return new(Ye||Se)},Se.\u0275mod=c.oAB({type:Se}),Se.\u0275inj=c.cJS({imports:[[D.ez,xe,$e.aw.forRoot({loader:{provide:$e.Zw,useFactory:me.s,deps:[oe.eN]}})]]}),Se})()},1147:(dn,tt,z)=>{z.r(tt),z.d(tt,{HomeModule:()=>de});var D=z(9808),X=z(5797),c=z(7587),$e=z(1062);const J=function(){return["/code/java"]},ee=[{path:"home",component:(()=>{class Se{constructor(){}ngOnInit(){}}return Se.\u0275fac=function(Ye){return new(Ye||Se)},Se.\u0275cmp=c.Xpm({type:Se,selectors:[["app-home"]],decls:16,vars:8,consts:[[1,"welcomeContent"],[1,"content"],["src","assets/images/welcome.component/image/2p.png",1,"imagePanic","welcomeContent"],[1,"welcomeMessage"],[1,"contentLink"],["href","javascript:void(0)",1,"linkStart",3,"routerLink"],[1,"pi","pi-forward",2,"font-size","2rem"]],template:function(Ye,Tt){1&Ye&&(c.TgZ(0,"div",0)(1,"div",1),c._UZ(2,"img",2),c.qZA(),c.TgZ(3,"div",1)(4,"h1",3),c._uU(5),c.ALo(6,"translate"),c.qZA()(),c.TgZ(7,"div",4)(8,"a",5),c._UZ(9,"span")(10,"span")(11,"span")(12,"span"),c._uU(13),c.ALo(14,"translate"),c._UZ(15,"i",6),c.qZA()()()),2&Ye&&(c.xp6(5),c.Oqu(c.lcZ(6,3,"welcome.title")),c.xp6(3),c.Q6J("routerLink",c.DdM(7,J)),c.xp6(5),c.hij(" ",c.lcZ(14,5,"welcome.linkStart")," "))},directives:[X.yS],pipes:[$e.X$],styles:['.welcomeContent{margin-top:130px;width:100%;display:flex;flex-direction:column;justify-content:center;align-items:center}.pippo{font-size:200px}.imagePanic{width:400px;height:400px;margin-bottom:100px}.welcomeMessage{font-size:200px!important;color:#fff;text-align:center}.contentLink{margin-top:-100px;margin-bottom:300px;margin-left:500px}.canvasContainer{margin-top:150px}.linkStart{font-size:45px;position:relative;display:inline-block;padding:30px 61px;border-radius:4px;color:var(--text-color-body);text-decoration:none;text-transform:uppercase;overflow:hidden;margin:25px;border:2px solid transparent;transition:all .1s linear}.linkStart span{position:absolute;display:block}.linkStart span:nth-child(1){top:0;left:0;width:100%;height:3px;background:linear-gradient(90deg,transparent,#35e986);animation:animate1 3s linear infinite}@keyframes animate1{0%{left:-100%}50%,to{left:100%}}.linkStart span:nth-child(2){top:-100%;right:0;width:3px;height:100%;background:linear-gradient(180deg,transparent,#35e986);animation:animate2 3s linear infinite;animation-delay:.75s}@keyframes animate2{0%{top:-100%}50%,to{top:100%}}.linkStart span:nth-child(3){bottom:0;right:0;width:100%;background:linear-gradient(270deg,transparent,#35e986);animation:animate3 3s linear infinite;animation-delay:1.5s}@keyframes animate3{0%{right:-100%;height:3px}50%,to{height:2px;right:100%}}.linkStart span:nth-child(4){bottom:-100%;left:0;width:3px;height:100%;background:linear-gradient(360deg,transparent,#35e986);animation:animate4 3s linear infinite;animation-delay:2.25s}@keyframes animate4{0%{bottom:-100%}50%,to{bottom:100%}}.linkStart:before{content:"";display:block;position:absolute;background:rgba(255,255,255,.5);width:60px;height:100%;top:0;left:-40px;filter:blur(30px);transform:translate(-100px) skew(-15deg)}.linkStart:after{content:"";display:block;position:absolute;background:rgba(255,255,255,.2);width:30px;height:100%;top:0;left:-40px;filter:blur(5px);transform:translate(-100px) skew(-15deg)}.linkStart:hover:before,.linkStart:hover:after{transform:translate(500px) skew(-15deg);transition:.9s}.linkStart:hover i{animation:slideRight 2s ease-in-out infinite}@keyframes slideRight{0%,to{transform:translate(0)}50%{transform:translate(15px)}}\n'],encapsulation:2}),Se})()}];let xe=(()=>{class Se{}return Se.\u0275fac=function(Ye){return new(Ye||Se)},Se.\u0275mod=c.oAB({type:Se}),Se.\u0275inj=c.cJS({imports:[[X.Bz.forChild(ee)],X.Bz]}),Se})();var me=z(487),oe=z(520);let de=(()=>{class Se{}return Se.\u0275fac=function(Ye){return new(Ye||Se)},Se.\u0275mod=c.oAB({type:Se}),Se.\u0275inj=c.cJS({imports:[[D.ez,xe,$e.aw.forRoot({loader:{provide:$e.Zw,useFactory:me.s,deps:[oe.eN]}})]]}),Se})()},4493:(dn,tt,z)=>{z.r(tt),z.d(tt,{TutorialContentModule:()=>Nl});var D=z(9808),X=z(5797),c=z(7587),$e=z(5861);class J{constructor(){this.type="url"}}var ae=z(7579),ee=z(520);let xe=(()=>{class H{constructor(_){var F,K,Me,gt,un;this.httpConnection=_,this.actionFromTutorialBodyContent=new ae.x,this.actionFromTutorialBodyContentChanged$=null===(F=this.actionFromTutorialBodyContent)||void 0===F?void 0:F.asObservable(),this.actionFromTutorialBodyNextContent=new ae.x,this.actionFromTutorialBodyPreviousContent=new ae.x,this.actionFromTutorialBodyNextContentChanged$=null===(K=this.actionFromTutorialBodyNextContent)||void 0===K?void 0:K.asObservable(),this.actionFromTutorialBodyPreviousContentChanged$=null===(Me=this.actionFromTutorialBodyPreviousContent)||void 0===Me?void 0:Me.asObservable(),this.idChapter=new ae.x,this.idSubChapter=new ae.x,this.idChapterChanged$=null===(gt=this.idChapter)||void 0===gt?void 0:gt.asObservable(),this.idChapterSubChanged$=null===(un=this.idSubChapter)||void 0===un?void 0:un.asObservable()}notifyChangeFromTutorialBodyContent(_){var F;null===(F=this.actionFromTutorialBodyContent)||void 0===F||F.next(_)}getChapters(_,F){return this.httpConnection.get("http://localhost:8080/tutorial/chapters/langcode/"+_+"/lang/"+F)}getPageByChapter(_){return this.httpConnection.get("http://localhost:8080/tutorial/java/page/chapter/"+_)}getPageBySubChapter(_){return this.httpConnection.get("http://localhost:8080/tutorial/java/page/subchapter/"+_)}changeIdChapter(_){var F;null===(F=this.idChapter)||void 0===F||F.next(_)}changeIdSubChapter(_){var F;null===(F=this.idSubChapter)||void 0===F||F.next(_)}nextChapter(_){var F;console.log("service"),null===(F=this.actionFromTutorialBodyNextContent)||void 0===F||F.next(_)}previousChapter(_){var F;console.log("service"),null===(F=this.actionFromTutorialBodyPreviousContent)||void 0===F||F.next(_)}}return H.\u0275fac=function(_){return new(_||H)(c.LFG(ee.eN))},H.\u0275prov=c.Yz7({token:H,factory:H.\u0275fac,providedIn:"root"}),H})(),me=(()=>{class H{constructor(){this.shape="rectangle",this.animation="wave",this.borderRadius=null,this.size=null,this.width="100%",this.height="1rem"}containerClass(){return{"p-skeleton p-component":!0,"p-skeleton-circle":"circle"===this.shape,"p-skeleton-none":"none"===this.animation}}containerStyle(){return Object.assign(Object.assign({},this.style),this.size?{width:this.size,height:this.size,borderRadius:this.borderRadius}:{width:this.width,height:this.height,borderRadius:this.borderRadius})}}return H.\u0275fac=function(_){return new(_||H)},H.\u0275cmp=c.Xpm({type:H,selectors:[["p-skeleton"]],hostAttrs:[1,"p-element"],inputs:{styleClass:"styleClass",style:"style",shape:"shape",animation:"animation",borderRadius:"borderRadius",size:"size",width:"width",height:"height"},decls:1,vars:4,consts:[[3,"ngClass","ngStyle"]],template:function(_,F){1&_&&c._UZ(0,"div",0),2&_&&(c.Tol(F.styleClass),c.Q6J("ngClass",F.containerClass())("ngStyle",F.containerStyle()))},directives:[D.mk,D.PC],styles:['.p-skeleton{position:relative;overflow:hidden}.p-skeleton:after{content:"";animation:p-skeleton-animation 1.2s infinite;height:100%;left:0;position:absolute;right:0;top:0;transform:translate(-100%);z-index:1}.p-skeleton.p-skeleton-circle{border-radius:50%}.p-skeleton-none:after{animation:none}@keyframes p-skeleton-animation{0%{transform:translate(-100%)}to{transform:translate(100%)}}\n'],encapsulation:2,changeDetection:0}),H})(),oe=(()=>{class H{}return H.\u0275fac=function(_){return new(_||H)},H.\u0275mod=c.oAB({type:H}),H.\u0275inj=c.cJS({imports:[[D.ez]]}),H})();var de=z(2392),Se=z(9783),st=z(5921),Ye=z(5730),Tt=z(5787);const xt=function(H){return{"p-treenode-droppoint-active":H}};function Fe(H,Pe){if(1&H){const _=c.EpF();c.TgZ(0,"li",4),c.NdJ("drop",function(K){return c.CHM(_),c.oxw(2).onDropPoint(K,-1)})("dragover",function(K){return c.CHM(_),c.oxw(2).onDropPointDragOver(K)})("dragenter",function(K){return c.CHM(_),c.oxw(2).onDropPointDragEnter(K,-1)})("dragleave",function(K){return c.CHM(_),c.oxw(2).onDropPointDragLeave(K)}),c.qZA()}if(2&H){const _=c.oxw(2);c.Q6J("ngClass",c.VKq(1,xt,_.draghoverPrev))}}const Ut=function(H){return{"p-checkbox-disabled":H}},_n=function(H,Pe){return{"p-highlight":H,"p-indeterminate":Pe}},Ht=function(H,Pe){return{"pi-check":H,"pi-minus":Pe}};function Ft(H,Pe){if(1&H&&(c.TgZ(0,"div",13)(1,"div",14),c._UZ(2,"span",15),c.qZA()()),2&H){const _=c.oxw(3);c.Q6J("ngClass",c.VKq(4,Ut,!1===_.node.selectable)),c.uIk("aria-checked",_.isSelected()),c.xp6(1),c.Q6J("ngClass",c.WLB(6,_n,_.isSelected(),_.node.partialSelected)),c.xp6(1),c.Q6J("ngClass",c.WLB(9,Ht,_.isSelected(),_.node.partialSelected))}}function he(H,Pe){if(1&H&&c._UZ(0,"span"),2&H){const _=c.oxw(3);c.Tol(_.getIcon())}}function Ct(H,Pe){if(1&H&&(c.TgZ(0,"span"),c._uU(1),c.qZA()),2&H){const _=c.oxw(3);c.xp6(1),c.Oqu(_.node.label)}}function _e(H,Pe){1&H&&c.GkF(0)}const Oe=function(H){return{$implicit:H}};function at(H,Pe){if(1&H&&(c.TgZ(0,"span"),c.YNc(1,_e,1,0,"ng-container",16),c.qZA()),2&H){const _=c.oxw(3);c.xp6(1),c.Q6J("ngTemplateOutlet",_.tree.getTemplateForNode(_.node))("ngTemplateOutletContext",c.VKq(2,Oe,_.node))}}function Ne(H,Pe){if(1&H&&c._UZ(0,"p-treeNode",19),2&H){const _=Pe.$implicit,F=Pe.first,K=Pe.last,Me=Pe.index,gt=c.oxw(4);c.Udp("height",gt.tree.virtualNodeHeight,"px"),c.Q6J("node",_)("parentNode",gt.node)("firstChild",F)("lastChild",K)("index",Me)("level",gt.level+1)}}function Re(H,Pe){if(1&H&&(c.TgZ(0,"ul",17),c.YNc(1,Ne,1,8,"p-treeNode",18),c.qZA()),2&H){const _=c.oxw(3);c.Udp("display",_.node.expanded?"block":"none"),c.xp6(1),c.Q6J("ngForOf",_.node.children)("ngForTrackBy",_.tree.trackBy)}}const Je=function(H,Pe){return["p-treenode",H,Pe]},et=function(H,Pe,_){return{"p-treenode-selectable":H,"p-treenode-dragover":Pe,"p-highlight":_}},_t=function(H,Pe){return{"pi-chevron-right":H,"pi-chevron-down":Pe}};function Ge(H,Pe){if(1&H){const _=c.EpF();c.TgZ(0,"li",5)(1,"div",6),c.NdJ("click",function(K){return c.CHM(_),c.oxw(2).onNodeClick(K)})("contextmenu",function(K){return c.CHM(_),c.oxw(2).onNodeRightClick(K)})("touchend",function(){return c.CHM(_),c.oxw(2).onNodeTouchEnd()})("drop",function(K){return c.CHM(_),c.oxw(2).onDropNode(K)})("dragover",function(K){return c.CHM(_),c.oxw(2).onDropNodeDragOver(K)})("dragenter",function(K){return c.CHM(_),c.oxw(2).onDropNodeDragEnter(K)})("dragleave",function(K){return c.CHM(_),c.oxw(2).onDropNodeDragLeave(K)})("dragstart",function(K){return c.CHM(_),c.oxw(2).onDragStart(K)})("dragend",function(K){return c.CHM(_),c.oxw(2).onDragStop(K)})("keydown",function(K){return c.CHM(_),c.oxw(2).onKeyDown(K)}),c.TgZ(2,"button",7),c.NdJ("click",function(K){return c.CHM(_),c.oxw(2).toggle(K)}),c._UZ(3,"span",8),c.qZA(),c.YNc(4,Ft,3,12,"div",9),c.YNc(5,he,1,2,"span",3),c.TgZ(6,"span",10),c.YNc(7,Ct,2,1,"span",11),c.YNc(8,at,2,4,"span",11),c.qZA()(),c.YNc(9,Re,2,4,"ul",12),c.qZA()}if(2&H){const _=c.oxw(2);c.Q6J("ngClass",c.WLB(17,Je,_.node.styleClass||"",_.isLeaf()?"p-treenode-leaf":"")),c.xp6(1),c.Udp("padding-left",_.level*_.indentation+"rem"),c.Q6J("draggable",_.tree.draggableNodes)("ngClass",c.kEZ(20,et,_.tree.selectionMode&&!1!==_.node.selectable,_.draghoverNode,_.isSelected())),c.uIk("tabindex",0)("aria-posinset",_.index+1)("aria-expanded",_.node.expanded)("aria-selected",_.isSelected())("aria-label",_.node.label),c.xp6(1),c.uIk("aria-label",_.tree.togglerAriaLabel),c.xp6(1),c.Q6J("ngClass",c.WLB(24,_t,!_.node.expanded,_.node.expanded)),c.xp6(1),c.Q6J("ngIf","checkbox"==_.tree.selectionMode),c.xp6(1),c.Q6J("ngIf",_.node.icon||_.node.expandedIcon||_.node.collapsedIcon),c.xp6(2),c.Q6J("ngIf",!_.tree.getTemplateForNode(_.node)),c.xp6(1),c.Q6J("ngIf",_.tree.getTemplateForNode(_.node)),c.xp6(1),c.Q6J("ngIf",!_.tree.virtualScroll&&_.node.children&&_.node.expanded)}}function rt(H,Pe){if(1&H){const _=c.EpF();c.TgZ(0,"li",4),c.NdJ("drop",function(K){return c.CHM(_),c.oxw(2).onDropPoint(K,1)})("dragover",function(K){return c.CHM(_),c.oxw(2).onDropPointDragOver(K)})("dragenter",function(K){return c.CHM(_),c.oxw(2).onDropPointDragEnter(K,1)})("dragleave",function(K){return c.CHM(_),c.oxw(2).onDropPointDragLeave(K)}),c.qZA()}if(2&H){const _=c.oxw(2);c.Q6J("ngClass",c.VKq(1,xt,_.draghoverNext))}}const Zt=function(H){return{"p-treenode-connector-line":H}};function be(H,Pe){if(1&H&&(c.TgZ(0,"td",25)(1,"table",26)(2,"tbody")(3,"tr"),c._UZ(4,"td",5),c.qZA(),c.TgZ(5,"tr"),c._UZ(6,"td",5),c.qZA()()()()),2&H){const _=c.oxw(3);c.xp6(4),c.Q6J("ngClass",c.VKq(2,Zt,!_.firstChild)),c.xp6(2),c.Q6J("ngClass",c.VKq(4,Zt,!_.lastChild))}}const qe=function(H,Pe){return{"pi-plus":H,"pi-minus":Pe}};function Bt(H,Pe){if(1&H){const _=c.EpF();c.TgZ(0,"span",27),c.NdJ("click",function(K){return c.CHM(_),c.oxw(3).toggle(K)}),c.qZA()}if(2&H){const _=c.oxw(3);c.Q6J("ngClass",c.WLB(2,qe,!_.node.expanded,_.node.expanded)),c.uIk("aria-label",_.tree.togglerAriaLabel)}}function tn(H,Pe){if(1&H&&c._UZ(0,"span"),2&H){const _=c.oxw(3);c.Tol(_.getIcon())}}function An(H,Pe){if(1&H&&(c.TgZ(0,"span"),c._uU(1),c.qZA()),2&H){const _=c.oxw(3);c.xp6(1),c.Oqu(_.node.label)}}function ui(H,Pe){1&H&&c.GkF(0)}function ri(H,Pe){if(1&H&&(c.TgZ(0,"span"),c.YNc(1,ui,1,0,"ng-container",16),c.qZA()),2&H){const _=c.oxw(3);c.xp6(1),c.Q6J("ngTemplateOutlet",_.tree.getTemplateForNode(_.node))("ngTemplateOutletContext",c.VKq(2,Oe,_.node))}}function ln(H,Pe){if(1&H&&c._UZ(0,"p-treeNode",31),2&H){const F=Pe.first,K=Pe.last;c.Q6J("node",Pe.$implicit)("firstChild",F)("lastChild",K)}}function Zi(H,Pe){if(1&H&&(c.TgZ(0,"td",28)(1,"div",29),c.YNc(2,ln,1,3,"p-treeNode",30),c.qZA()()),2&H){const _=c.oxw(3);c.Udp("display",_.node.expanded?"table-cell":"none"),c.xp6(2),c.Q6J("ngForOf",_.node.children)("ngForTrackBy",_.tree.trackBy)}}const Vi=function(H){return{"p-treenode-collapsed":H}},Sr=function(H,Pe){return{"p-treenode-selectable":H,"p-highlight":Pe}};function si(H,Pe){if(1&H){const _=c.EpF();c.TgZ(0,"table")(1,"tbody")(2,"tr"),c.YNc(3,be,7,6,"td",20),c.TgZ(4,"td",21)(5,"div",22),c.NdJ("click",function(K){return c.CHM(_),c.oxw(2).onNodeClick(K)})("contextmenu",function(K){return c.CHM(_),c.oxw(2).onNodeRightClick(K)})("touchend",function(){return c.CHM(_),c.oxw(2).onNodeTouchEnd()})("keydown",function(K){return c.CHM(_),c.oxw(2).onNodeKeydown(K)}),c.YNc(6,Bt,1,5,"span",23),c.YNc(7,tn,1,2,"span",3),c.TgZ(8,"span",10),c.YNc(9,An,2,1,"span",11),c.YNc(10,ri,2,4,"span",11),c.qZA()()(),c.YNc(11,Zi,3,4,"td",24),c.qZA()()()}if(2&H){const _=c.oxw(2);c.Tol(_.node.styleClass),c.xp6(3),c.Q6J("ngIf",!_.root),c.xp6(1),c.Q6J("ngClass",c.VKq(10,Vi,!_.node.expanded)),c.xp6(1),c.Q6J("ngClass",c.WLB(12,Sr,_.tree.selectionMode,_.isSelected())),c.xp6(1),c.Q6J("ngIf",!_.isLeaf()),c.xp6(1),c.Q6J("ngIf",_.node.icon||_.node.expandedIcon||_.node.collapsedIcon),c.xp6(2),c.Q6J("ngIf",!_.tree.getTemplateForNode(_.node)),c.xp6(1),c.Q6J("ngIf",_.tree.getTemplateForNode(_.node)),c.xp6(1),c.Q6J("ngIf",_.node.children&&_.node.expanded)}}function Es(H,Pe){if(1&H&&(c.YNc(0,Fe,1,3,"li",1),c.YNc(1,Ge,10,27,"li",2),c.YNc(2,rt,1,3,"li",1),c.YNc(3,si,12,15,"table",3)),2&H){const _=c.oxw();c.Q6J("ngIf",_.tree.droppableNodes),c.xp6(1),c.Q6J("ngIf",!_.tree.horizontal),c.xp6(1),c.Q6J("ngIf",_.tree.droppableNodes&&_.lastChild),c.xp6(1),c.Q6J("ngIf",_.tree.horizontal)}}const nr=["filter"];function Si(H,Pe){if(1&H&&(c.TgZ(0,"div",9),c._UZ(1,"i"),c.qZA()),2&H){const _=c.oxw(2);c.xp6(1),c.Tol("p-tree-loading-icon pi-spin "+_.loadingIcon)}}function jr(H,Pe){1&H&&c.GkF(0)}function Cr(H,Pe){if(1&H){const _=c.EpF();c.TgZ(0,"div",10)(1,"input",11,12),c.NdJ("keydown.enter",function(K){return K.preventDefault()})("input",function(K){return c.CHM(_),c.oxw(2)._filter(K.target.value)}),c.qZA(),c._UZ(3,"span",13),c.qZA()}if(2&H){const _=c.oxw(2);c.xp6(1),c.uIk("placeholder",_.filterPlaceholder)}}function eo(H,Pe){if(1&H&&c._UZ(0,"p-treeNode",18),2&H){const F=Pe.first,K=Pe.last,Me=Pe.index;c.Q6J("node",Pe.$implicit)("firstChild",F)("lastChild",K)("index",Me)("level",0)}}function $r(H,Pe){if(1&H&&(c.TgZ(0,"ul",16),c.YNc(1,eo,1,5,"p-treeNode",17),c.qZA()),2&H){const _=c.oxw(3);c.uIk("aria-label",_.ariaLabel)("aria-labelledby",_.ariaLabelledBy),c.xp6(1),c.Q6J("ngForOf",_.getRootNode())("ngForTrackBy",_.trackBy)}}function ns(H,Pe){if(1&H&&(c.ynx(0),c.TgZ(1,"div",14),c.YNc(2,$r,2,4,"ul",15),c.qZA(),c.BQk()),2&H){const _=c.oxw(2);c.xp6(1),c.Udp("max-height",_.scrollHeight),c.xp6(1),c.Q6J("ngIf",_.getRootNode())}}function ir(H,Pe){if(1&H&&c._UZ(0,"p-treeNode",21),2&H){const _=Pe.$implicit,F=Pe.first,K=Pe.last,Me=Pe.index,gt=c.oxw(4);c.Udp("height",gt.virtualNodeHeight,"px"),c.Q6J("level",_.level)("rowNode",_)("node",_.node)("firstChild",F)("lastChild",K)("index",Me)("indentation",gt.indentation)}}function cs(H,Pe){if(1&H&&(c.TgZ(0,"ul",16),c.YNc(1,ir,1,9,"p-treeNode",20),c.qZA()),2&H){const _=c.oxw(3);c.uIk("aria-label",_.ariaLabel)("aria-labelledby",_.ariaLabelledBy),c.xp6(1),c.Q6J("cdkVirtualForOf",_.serializedValue)("cdkVirtualForTrackBy",_.trackBy)("cdkVirtualForTemplateCacheSize",0)}}function to(H,Pe){if(1&H&&(c.TgZ(0,"cdk-virtual-scroll-viewport",19),c.YNc(1,cs,2,5,"ul",15),c.qZA()),2&H){const _=c.oxw(2);c.Udp("height",_.scrollHeight),c.Q6J("itemSize",_.virtualNodeHeight)("minBufferPx",_.minBufferPx)("maxBufferPx",_.maxBufferPx),c.xp6(1),c.Q6J("ngIf",_.getRootNode())}}function En(H,Pe){if(1&H&&(c.ynx(0),c._uU(1),c.BQk()),2&H){const _=c.oxw(3);c.xp6(1),c.hij(" ",_.emptyMessageLabel," ")}}function At(H,Pe){1&H&&c.GkF(0,null,23)}function Ee(H,Pe){if(1&H&&(c.TgZ(0,"div",22),c.YNc(1,En,2,1,"ng-container",6),c.YNc(2,At,2,0,"ng-container",4),c.qZA()),2&H){const _=c.oxw(2);c.xp6(1),c.Q6J("ngIf",!_.emptyMessageTemplate)("ngIfElse",_.emptyFilter),c.xp6(1),c.Q6J("ngTemplateOutlet",_.emptyMessageTemplate)}}function we(H,Pe){1&H&&c.GkF(0)}const Dt=function(H,Pe,_,F){return{"p-tree p-component":!0,"p-tree-selectable":H,"p-treenode-dragover":Pe,"p-tree-loading":_,"p-tree-flex-scrollable":F}};function ft(H,Pe){if(1&H){const _=c.EpF();c.TgZ(0,"div",2),c.NdJ("drop",function(K){return c.CHM(_),c.oxw().onDrop(K)})("dragover",function(K){return c.CHM(_),c.oxw().onDragOver(K)})("dragenter",function(){return c.CHM(_),c.oxw().onDragEnter()})("dragleave",function(K){return c.CHM(_),c.oxw().onDragLeave(K)}),c.YNc(1,Si,2,2,"div",3),c.YNc(2,jr,1,0,"ng-container",4),c.YNc(3,Cr,4,1,"div",5),c.YNc(4,ns,3,3,"ng-container",6),c.YNc(5,to,2,6,"ng-template",null,7,c.W1O),c.YNc(7,Ee,3,3,"div",8),c.YNc(8,we,1,0,"ng-container",4),c.qZA()}if(2&H){const _=c.MAs(6),F=c.oxw();c.Tol(F.styleClass),c.Q6J("ngClass",c.l5B(11,Dt,F.selectionMode,F.dragHover,F.loading,"flex"===F.scrollHeight))("ngStyle",F.style),c.xp6(1),c.Q6J("ngIf",F.loading),c.xp6(1),c.Q6J("ngTemplateOutlet",F.headerTemplate),c.xp6(1),c.Q6J("ngIf",F.filter),c.xp6(1),c.Q6J("ngIf",!F.virtualScroll)("ngIfElse",_),c.xp6(3),c.Q6J("ngIf",!F.loading&&(null==F.getRootNode()||0===F.getRootNode().length)),c.xp6(1),c.Q6J("ngTemplateOutlet",F.footerTemplate)}}function wt(H,Pe){1&H&&c.GkF(0)}function zt(H,Pe){if(1&H&&(c.TgZ(0,"div",27),c._UZ(1,"i"),c.qZA()),2&H){const _=c.oxw(2);c.xp6(1),c.Tol("p-tree-loading-icon pi-spin "+_.loadingIcon)}}function fn(H,Pe){if(1&H&&(c.TgZ(0,"table"),c._UZ(1,"p-treeNode",28),c.qZA()),2&H){const _=c.oxw(2);c.xp6(1),c.Q6J("node",_.value[0])("root",!0)}}function jn(H,Pe){if(1&H&&(c.ynx(0),c._uU(1),c.BQk()),2&H){const _=c.oxw(3);c.xp6(1),c.hij(" ",_.emptyMessageLabel," ")}}function Rn(H,Pe){1&H&&c.GkF(0,null,23)}function zi(H,Pe){if(1&H&&(c.TgZ(0,"div",22),c.YNc(1,jn,2,1,"ng-container",6),c.YNc(2,Rn,2,0,"ng-container",4),c.qZA()),2&H){const _=c.oxw(2);c.xp6(1),c.Q6J("ngIf",!_.emptyMessageTemplate)("ngIfElse",_.emptyFilter),c.xp6(1),c.Q6J("ngTemplateOutlet",_.emptyMessageTemplate)}}function Ti(H,Pe){1&H&&c.GkF(0)}const Ki=function(H){return{"p-tree p-tree-horizontal p-component":!0,"p-tree-selectable":H}};function vn(H,Pe){if(1&H&&(c.TgZ(0,"div",24),c.YNc(1,wt,1,0,"ng-container",4),c.YNc(2,zt,2,2,"div",25),c.YNc(3,fn,2,2,"table",26),c.YNc(4,zi,3,3,"div",8),c.YNc(5,Ti,1,0,"ng-container",4),c.qZA()),2&H){const _=c.oxw();c.Tol(_.styleClass),c.Q6J("ngClass",c.VKq(9,Ki,_.selectionMode))("ngStyle",_.style),c.xp6(1),c.Q6J("ngTemplateOutlet",_.headerTemplate),c.xp6(1),c.Q6J("ngIf",_.loading),c.xp6(1),c.Q6J("ngIf",_.value&&_.value[0]),c.xp6(1),c.Q6J("ngIf",!_.loading&&(null==_.getRootNode()||0===_.getRootNode().length)),c.xp6(1),c.Q6J("ngTemplateOutlet",_.footerTemplate)}}let Sn=(()=>{class H{constructor(_){this.tree=_}ngOnInit(){this.node.parent=this.parentNode,this.parentNode&&this.tree.syncNodeOption(this.node,this.tree.value,"parent",this.tree.getNodeWithKey(this.parentNode.key,this.tree.value))}getIcon(){let _;return _=this.node.icon?this.node.icon:this.node.expanded&&this.node.children&&this.node.children.length?this.node.expandedIcon:this.node.collapsedIcon,H.ICON_CLASS+" "+_}isLeaf(){return this.tree.isNodeLeaf(this.node)}toggle(_){this.node.expanded?this.collapse(_):this.expand(_)}expand(_){this.node.expanded=!0,this.tree.virtualScroll&&this.tree.updateSerializedValue(),this.tree.onNodeExpand.emit({originalEvent:_,node:this.node})}collapse(_){this.node.expanded=!1,this.tree.virtualScroll&&this.tree.updateSerializedValue(),this.tree.onNodeCollapse.emit({originalEvent:_,node:this.node})}onNodeClick(_){this.tree.onNodeClick(_,this.node)}onNodeKeydown(_){13===_.which&&this.tree.onNodeClick(_,this.node)}onNodeTouchEnd(){this.tree.onNodeTouchEnd()}onNodeRightClick(_){this.tree.onNodeRightClick(_,this.node)}isSelected(){return this.tree.isSelected(this.node)}onDropPoint(_,F){_.preventDefault();let K=this.tree.dragNode,un=this.tree.dragNodeTree!==this.tree||1===F||this.tree.dragNodeIndex!==this.index-1;if(this.tree.allowDrop(K,this.node,this.tree.dragNodeScope)&&un){let wn=Object.assign({},this.createDropPointEventMetadata(F));this.tree.validateDrop?this.tree.onNodeDrop.emit({originalEvent:_,dragNode:K,dropNode:this.node,index:this.index,accept:()=>{this.processPointDrop(wn)}}):(this.processPointDrop(wn),this.tree.onNodeDrop.emit({originalEvent:_,dragNode:K,dropNode:this.node,index:this.index}))}this.draghoverPrev=!1,this.draghoverNext=!1}processPointDrop(_){let F=_.dropNode.parent?_.dropNode.parent.children:this.tree.value;_.dragNodeSubNodes.splice(_.dragNodeIndex,1);let K=this.index;_.position<0?(K=_.dragNodeSubNodes===F?_.dragNodeIndex>_.index?_.index:_.index-1:_.index,F.splice(K,0,_.dragNode)):(K=F.length,F.push(_.dragNode)),this.tree.dragDropService.stopDrag({node:_.dragNode,subNodes:_.dropNode.parent?_.dropNode.parent.children:this.tree.value,index:_.dragNodeIndex})}createDropPointEventMetadata(_){return{dragNode:this.tree.dragNode,dragNodeIndex:this.tree.dragNodeIndex,dragNodeSubNodes:this.tree.dragNodeSubNodes,dropNode:this.node,index:this.index,position:_}}onDropPointDragOver(_){_.dataTransfer.dropEffect="move",_.preventDefault()}onDropPointDragEnter(_,F){this.tree.allowDrop(this.tree.dragNode,this.node,this.tree.dragNodeScope)&&(F<0?this.draghoverPrev=!0:this.draghoverNext=!0)}onDropPointDragLeave(_){this.draghoverPrev=!1,this.draghoverNext=!1}onDragStart(_){this.tree.draggableNodes&&!1!==this.node.draggable?(_.dataTransfer.setData("text","data"),this.tree.dragDropService.startDrag({tree:this,node:this.node,subNodes:this.node.parent?this.node.parent.children:this.tree.value,index:this.index,scope:this.tree.draggableScope})):_.preventDefault()}onDragStop(_){this.tree.dragDropService.stopDrag({node:this.node,subNodes:this.node.parent?this.node.parent.children:this.tree.value,index:this.index})}onDropNodeDragOver(_){_.dataTransfer.dropEffect="move",this.tree.droppableNodes&&(_.preventDefault(),_.stopPropagation())}onDropNode(_){if(this.tree.droppableNodes&&!1!==this.node.droppable){let F=this.tree.dragNode;if(this.tree.allowDrop(F,this.node,this.tree.dragNodeScope)){let K=Object.assign({},this.createDropNodeEventMetadata());this.tree.validateDrop?this.tree.onNodeDrop.emit({originalEvent:_,dragNode:F,dropNode:this.node,index:this.index,accept:()=>{this.processNodeDrop(K)}}):(this.processNodeDrop(K),this.tree.onNodeDrop.emit({originalEvent:_,dragNode:F,dropNode:this.node,index:this.index}))}}_.preventDefault(),_.stopPropagation(),this.draghoverNode=!1}createDropNodeEventMetadata(){return{dragNode:this.tree.dragNode,dragNodeIndex:this.tree.dragNodeIndex,dragNodeSubNodes:this.tree.dragNodeSubNodes,dropNode:this.node}}processNodeDrop(_){let F=_.dragNodeIndex;_.dragNodeSubNodes.splice(F,1),_.dropNode.children?_.dropNode.children.push(_.dragNode):_.dropNode.children=[_.dragNode],this.tree.dragDropService.stopDrag({node:_.dragNode,subNodes:_.dropNode.parent?_.dropNode.parent.children:this.tree.value,index:F})}onDropNodeDragEnter(_){this.tree.droppableNodes&&!1!==this.node.droppable&&this.tree.allowDrop(this.tree.dragNode,this.node,this.tree.dragNodeScope)&&(this.draghoverNode=!0)}onDropNodeDragLeave(_){if(this.tree.droppableNodes){let F=_.currentTarget.getBoundingClientRect();(_.x>F.left+F.width||_.x<F.left||_.y>=Math.floor(F.top+F.height)||_.y<F.top)&&(this.draghoverNode=!1)}}onKeyDown(_){const F=_.target.parentElement.parentElement;if(!("P-TREENODE"!==F.nodeName||this.tree.contextMenu&&"block"===this.tree.contextMenu.containerViewChild.nativeElement.style.display))switch(_.which){case 40:const K=this.tree.droppableNodes?F.children[1].children[1]:F.children[0].children[1];if(K&&K.children.length>0)this.focusNode(K.children[0]);else{const Me=F.nextElementSibling;if(Me)this.focusNode(Me);else{let gt=this.findNextSiblingOfAncestor(F);gt&&this.focusNode(gt)}}_.preventDefault();break;case 38:if(F.previousElementSibling)this.focusNode(this.findLastVisibleDescendant(F.previousElementSibling));else{let Me=this.getParentNodeElement(F);Me&&this.focusNode(Me)}_.preventDefault();break;case 39:!this.node.expanded&&!this.tree.isNodeLeaf(this.node)&&this.expand(_),_.preventDefault();break;case 37:if(this.node.expanded)this.collapse(_);else{let Me=this.getParentNodeElement(F);Me&&this.focusNode(Me)}_.preventDefault();break;case 13:this.tree.onNodeClick(_,this.node),_.preventDefault()}}findNextSiblingOfAncestor(_){let F=this.getParentNodeElement(_);return F?F.nextElementSibling?F.nextElementSibling:this.findNextSiblingOfAncestor(F):null}findLastVisibleDescendant(_){const K=Array.from(_.children).find(Me=>Ye.p.hasClass(Me,"p-treenode")).children[1];return K&&K.children.length>0?this.findLastVisibleDescendant(K.children[K.children.length-1]):_}getParentNodeElement(_){const F=_.parentElement.parentElement.parentElement;return"P-TREENODE"===F.tagName?F:null}focusNode(_){this.tree.droppableNodes?_.children[1].children[0].focus():_.children[0].children[0].focus()}}return H.ICON_CLASS="p-treenode-icon ",H.\u0275fac=function(_){return new(_||H)(c.Y36((0,c.Gpc)(()=>yn)))},H.\u0275cmp=c.Xpm({type:H,selectors:[["p-treeNode"]],hostAttrs:[1,"p-element"],inputs:{rowNode:"rowNode",node:"node",parentNode:"parentNode",root:"root",index:"index",firstChild:"firstChild",lastChild:"lastChild",level:"level",indentation:"indentation"},decls:1,vars:1,consts:[[3,"ngIf"],["class","p-treenode-droppoint",3,"ngClass","drop","dragover","dragenter","dragleave",4,"ngIf"],[3,"ngClass",4,"ngIf"],[3,"class",4,"ngIf"],[1,"p-treenode-droppoint",3,"ngClass","drop","dragover","dragenter","dragleave"],[3,"ngClass"],["role","treeitem",1,"p-treenode-content",3,"draggable","ngClass","click","contextmenu","touchend","drop","dragover","dragenter","dragleave","dragstart","dragend","keydown"],["type","button","pRipple","","tabindex","-1",1,"p-tree-toggler","p-link",3,"click"],[1,"p-tree-toggler-icon","pi","pi-fw",3,"ngClass"],["class","p-checkbox p-component",3,"ngClass",4,"ngIf"],[1,"p-treenode-label"],[4,"ngIf"],["class","p-treenode-children","style","display: none;","role","group",3,"display",4,"ngIf"],[1,"p-checkbox","p-component",3,"ngClass"],[1,"p-checkbox-box",3,"ngClass"],[1,"p-checkbox-icon","pi",3,"ngClass"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["role","group",1,"p-treenode-children",2,"display","none"],[3,"node","parentNode","firstChild","lastChild","index","height","level",4,"ngFor","ngForOf","ngForTrackBy"],[3,"node","parentNode","firstChild","lastChild","index","level"],["class","p-treenode-connector",4,"ngIf"],[1,"p-treenode",3,"ngClass"],["tabindex","0",1,"p-treenode-content",3,"ngClass","click","contextmenu","touchend","keydown"],["class","p-tree-toggler pi pi-fw",3,"ngClass","click",4,"ngIf"],["class","p-treenode-children-container",3,"display",4,"ngIf"],[1,"p-treenode-connector"],[1,"p-treenode-connector-table"],[1,"p-tree-toggler","pi","pi-fw",3,"ngClass","click"],[1,"p-treenode-children-container"],[1,"p-treenode-children"],[3,"node","firstChild","lastChild",4,"ngFor","ngForOf","ngForTrackBy"],[3,"node","firstChild","lastChild"]],template:function(_,F){1&_&&c.YNc(0,Es,4,4,"ng-template",0),2&_&&c.Q6J("ngIf",F.node)},directives:[H,D.O5,D.mk,Tt.H,D.tP,D.sg],encapsulation:2}),H})(),yn=(()=>{class H{constructor(_,F,K){this.el=_,this.dragDropService=F,this.config=K,this.selectionChange=new c.vpe,this.onNodeSelect=new c.vpe,this.onNodeUnselect=new c.vpe,this.onNodeExpand=new c.vpe,this.onNodeCollapse=new c.vpe,this.onNodeContextMenuSelect=new c.vpe,this.onNodeDrop=new c.vpe,this.layout="vertical",this.metaKeySelection=!0,this.propagateSelectionUp=!0,this.propagateSelectionDown=!0,this.loadingIcon="pi pi-spinner",this.emptyMessage="",this.filterBy="label",this.filterMode="lenient",this.indentation=1.5,this.trackBy=(Me,gt)=>gt,this.onFilter=new c.vpe}ngOnInit(){this.droppableNodes&&(this.dragStartSubscription=this.dragDropService.dragStart$.subscribe(_=>{this.dragNodeTree=_.tree,this.dragNode=_.node,this.dragNodeSubNodes=_.subNodes,this.dragNodeIndex=_.index,this.dragNodeScope=_.scope}),this.dragStopSubscription=this.dragDropService.dragStop$.subscribe(_=>{this.dragNodeTree=null,this.dragNode=null,this.dragNodeSubNodes=null,this.dragNodeIndex=null,this.dragNodeScope=null,this.dragHover=!1}))}ngOnChanges(_){_.value&&this.updateSerializedValue(),_.scrollHeight&&this.virtualScrollBody&&this.virtualScrollBody.ngOnInit()}get horizontal(){return"horizontal"==this.layout}get emptyMessageLabel(){return this.emptyMessage||this.config.getTranslation(Se.ws.EMPTY_MESSAGE)}ngAfterContentInit(){this.templates.length&&(this.templateMap={}),this.templates.forEach(_=>{switch(_.getType()){case"header":this.headerTemplate=_.template;break;case"empty":this.emptyMessageTemplate=_.template;break;case"footer":this.footerTemplate=_.template;break;default:this.templateMap[_.name]=_.template}})}updateSerializedValue(){this.serializedValue=[],this.serializeNodes(null,this.getRootNode(),0,!0)}serializeNodes(_,F,K,Me){if(F&&F.length)for(let gt of F){gt.parent=_;const un={node:gt,parent:_,level:K,visible:Me&&(!_||_.expanded)};this.serializedValue.push(un),un.visible&&gt.expanded&&this.serializeNodes(gt,gt.children,K+1,un.visible)}}onNodeClick(_,F){let K=_.target;if(!Ye.p.hasClass(K,"p-tree-toggler")&&!Ye.p.hasClass(K,"p-tree-toggler-icon")){if(this.selectionMode){if(!1===F.selectable||this.hasFilteredNodes()&&!(F=this.getNodeWithKey(F.key,this.value)))return;let Me=this.findIndexInSelection(F),gt=Me>=0;if(this.isCheckboxSelectionMode())gt?(this.propagateSelectionDown?this.propagateDown(F,!1):this.selection=this.selection.filter((un,wn)=>wn!=Me),this.propagateSelectionUp&&F.parent&&this.propagateUp(F.parent,!1),this.selectionChange.emit(this.selection),this.onNodeUnselect.emit({originalEvent:_,node:F})):(this.propagateSelectionDown?this.propagateDown(F,!0):this.selection=[...this.selection||[],F],this.propagateSelectionUp&&F.parent&&this.propagateUp(F.parent,!0),this.selectionChange.emit(this.selection),this.onNodeSelect.emit({originalEvent:_,node:F}));else if(!this.nodeTouched&&this.metaKeySelection){let wn=_.metaKey||_.ctrlKey;gt&&wn?(this.isSingleSelectionMode()?this.selectionChange.emit(null):(this.selection=this.selection.filter((ti,L)=>L!=Me),this.selectionChange.emit(this.selection)),this.onNodeUnselect.emit({originalEvent:_,node:F})):(this.isSingleSelectionMode()?this.selectionChange.emit(F):this.isMultipleSelectionMode()&&(this.selection=wn&&this.selection||[],this.selection=[...this.selection,F],this.selectionChange.emit(this.selection)),this.onNodeSelect.emit({originalEvent:_,node:F}))}else this.isSingleSelectionMode()?gt?(this.selection=null,this.onNodeUnselect.emit({originalEvent:_,node:F})):(this.selection=F,this.onNodeSelect.emit({originalEvent:_,node:F})):gt?(this.selection=this.selection.filter((wn,ti)=>ti!=Me),this.onNodeUnselect.emit({originalEvent:_,node:F})):(this.selection=[...this.selection||[],F],this.onNodeSelect.emit({originalEvent:_,node:F})),this.selectionChange.emit(this.selection)}this.nodeTouched=!1}}onNodeTouchEnd(){this.nodeTouched=!0}onNodeRightClick(_,F){if(this.contextMenu){let K=_.target;if(K.className&&0===K.className.indexOf("p-tree-toggler"))return;this.findIndexInSelection(F)>=0||(this.isSingleSelectionMode()?this.selectionChange.emit(F):this.selectionChange.emit([F])),this.contextMenu.show(_),this.onNodeContextMenuSelect.emit({originalEvent:_,node:F})}}findIndexInSelection(_){let F=-1;if(this.selectionMode&&this.selection)if(this.isSingleSelectionMode())F=this.selection.key&&this.selection.key===_.key||this.selection==_?0:-1;else for(let K=0;K<this.selection.length;K++){let Me=this.selection[K];if(Me.key&&Me.key===_.key||Me==_){F=K;break}}return F}syncNodeOption(_,F,K,Me){const gt=this.hasFilteredNodes()?this.getNodeWithKey(_.key,F):null;gt&&(gt[K]=Me||_[K])}hasFilteredNodes(){return this.filter&&this.filteredNodes&&this.filteredNodes.length}getNodeWithKey(_,F){for(let K of F){if(K.key===_)return K;if(K.children){let Me=this.getNodeWithKey(_,K.children);if(Me)return Me}}}propagateUp(_,F){if(_.children&&_.children.length){let Me=0,gt=!1;for(let un of _.children)this.isSelected(un)?Me++:un.partialSelected&&(gt=!0);if(F&&Me==_.children.length)this.selection=[...this.selection||[],_],_.partialSelected=!1;else{if(!F){let un=this.findIndexInSelection(_);un>=0&&(this.selection=this.selection.filter((wn,ti)=>ti!=un))}_.partialSelected=!!(gt||Me>0&&Me!=_.children.length)}this.syncNodeOption(_,this.filteredNodes,"partialSelected")}let K=_.parent;K&&this.propagateUp(K,F)}propagateDown(_,F){let K=this.findIndexInSelection(_);if(F&&-1==K?this.selection=[...this.selection||[],_]:!F&&K>-1&&(this.selection=this.selection.filter((Me,gt)=>gt!=K)),_.partialSelected=!1,this.syncNodeOption(_,this.filteredNodes,"partialSelected"),_.children&&_.children.length)for(let Me of _.children)this.propagateDown(Me,F)}isSelected(_){return-1!=this.findIndexInSelection(_)}isSingleSelectionMode(){return this.selectionMode&&"single"==this.selectionMode}isMultipleSelectionMode(){return this.selectionMode&&"multiple"==this.selectionMode}isCheckboxSelectionMode(){return this.selectionMode&&"checkbox"==this.selectionMode}isNodeLeaf(_){return 0!=_.leaf&&!(_.children&&_.children.length)}getRootNode(){return this.filteredNodes?this.filteredNodes:this.value}getTemplateForNode(_){return this.templateMap?_.type?this.templateMap[_.type]:this.templateMap.default:null}onDragOver(_){this.droppableNodes&&(!this.value||0===this.value.length)&&(_.dataTransfer.dropEffect="move",_.preventDefault())}onDrop(_){if(this.droppableNodes&&(!this.value||0===this.value.length)){_.preventDefault();let F=this.dragNode;if(this.allowDrop(F,null,this.dragNodeScope)){let K=this.dragNodeIndex;this.value=this.value||[],this.validateDrop?this.onNodeDrop.emit({originalEvent:_,dragNode:F,dropNode:null,index:K,accept:()=>{this.processTreeDrop(F,K)}}):(this.onNodeDrop.emit({originalEvent:_,dragNode:F,dropNode:null,index:K}),this.processTreeDrop(F,K))}}}processTreeDrop(_,F){this.dragNodeSubNodes.splice(F,1),this.value.push(_),this.dragDropService.stopDrag({node:_})}onDragEnter(){this.droppableNodes&&this.allowDrop(this.dragNode,null,this.dragNodeScope)&&(this.dragHover=!0)}onDragLeave(_){if(this.droppableNodes){let F=_.currentTarget.getBoundingClientRect();(_.x>F.left+F.width||_.x<F.left||_.y>F.top+F.height||_.y<F.top)&&(this.dragHover=!1)}}allowDrop(_,F,K){if(_){if(this.isValidDragScope(K)){let Me=!0;if(F)if(_===F)Me=!1;else{let gt=F.parent;for(;null!=gt;){if(gt===_){Me=!1;break}gt=gt.parent}}return Me}return!1}return!1}isValidDragScope(_){let F=this.droppableScope;if(F){if("string"==typeof F){if("string"==typeof _)return F===_;if(_ instanceof Array)return-1!=_.indexOf(F)}else if(F instanceof Array){if("string"==typeof _)return-1!=F.indexOf(_);if(_ instanceof Array)for(let K of F)for(let Me of _)if(K===Me)return!0}return!1}return!0}_filter(_){let F=_;if(""===F)this.filteredNodes=null;else{this.filteredNodes=[];const K=this.filterBy.split(","),Me=st.gb.removeAccents(F).toLocaleLowerCase(this.filterLocale),gt="strict"===this.filterMode;for(let un of this.value){let wn=Object.assign({},un),ti={searchFields:K,filterText:Me,isStrictMode:gt};(gt&&(this.findFilteredNodes(wn,ti)||this.isFilterMatched(wn,ti))||!gt&&(this.isFilterMatched(wn,ti)||this.findFilteredNodes(wn,ti)))&&this.filteredNodes.push(wn)}}this.updateSerializedValue(),this.onFilter.emit({filter:F,filteredValue:this.filteredNodes})}resetFilter(){this.filteredNodes=null,this.filterViewChild&&this.filterViewChild.nativeElement&&(this.filterViewChild.nativeElement.value="")}findFilteredNodes(_,F){if(_){let K=!1;if(_.children){let Me=[..._.children];_.children=[];for(let gt of Me){let un=Object.assign({},gt);this.isFilterMatched(un,F)&&(K=!0,_.children.push(un))}}if(K)return _.expanded=!0,!0}}isFilterMatched(_,{searchFields:F,filterText:K,isStrictMode:Me}){let gt=!1;for(let un of F)st.gb.removeAccents(String(st.gb.resolveFieldData(_,un))).toLocaleLowerCase(this.filterLocale).indexOf(K)>-1&&(gt=!0);return(!gt||Me&&!this.isNodeLeaf(_))&&(gt=this.findFilteredNodes(_,{searchFields:F,filterText:K,isStrictMode:Me})||gt),gt}getBlockableElement(){return this.el.nativeElement.children[0]}ngOnDestroy(){this.dragStartSubscription&&this.dragStartSubscription.unsubscribe(),this.dragStopSubscription&&this.dragStopSubscription.unsubscribe()}}return H.\u0275fac=function(_){return new(_||H)(c.Y36(c.SBq),c.Y36(Se.Y,8),c.Y36(Se.b4))},H.\u0275cmp=c.Xpm({type:H,selectors:[["p-tree"]],contentQueries:function(_,F,K){if(1&_&&c.Suo(K,Se.jx,4),2&_){let Me;c.iGM(Me=c.CRH())&&(F.templates=Me)}},viewQuery:function(_,F){if(1&_&&(c.Gf(de.N7,5),c.Gf(nr,5)),2&_){let K;c.iGM(K=c.CRH())&&(F.virtualScrollBody=K.first),c.iGM(K=c.CRH())&&(F.filterViewChild=K.first)}},hostAttrs:[1,"p-element"],inputs:{value:"value",selectionMode:"selectionMode",selection:"selection",style:"style",styleClass:"styleClass",contextMenu:"contextMenu",layout:"layout",draggableScope:"draggableScope",droppableScope:"droppableScope",draggableNodes:"draggableNodes",droppableNodes:"droppableNodes",metaKeySelection:"metaKeySelection",propagateSelectionUp:"propagateSelectionUp",propagateSelectionDown:"propagateSelectionDown",loading:"loading",loadingIcon:"loadingIcon",emptyMessage:"emptyMessage",ariaLabel:"ariaLabel",togglerAriaLabel:"togglerAriaLabel",ariaLabelledBy:"ariaLabelledBy",validateDrop:"validateDrop",filter:"filter",filterBy:"filterBy",filterMode:"filterMode",filterPlaceholder:"filterPlaceholder",filterLocale:"filterLocale",scrollHeight:"scrollHeight",virtualScroll:"virtualScroll",virtualNodeHeight:"virtualNodeHeight",minBufferPx:"minBufferPx",maxBufferPx:"maxBufferPx",indentation:"indentation",trackBy:"trackBy"},outputs:{selectionChange:"selectionChange",onNodeSelect:"onNodeSelect",onNodeUnselect:"onNodeUnselect",onNodeExpand:"onNodeExpand",onNodeCollapse:"onNodeCollapse",onNodeContextMenuSelect:"onNodeContextMenuSelect",onNodeDrop:"onNodeDrop",onFilter:"onFilter"},features:[c.TTD],decls:2,vars:2,consts:[[3,"ngClass","ngStyle","class","drop","dragover","dragenter","dragleave",4,"ngIf"],[3,"ngClass","ngStyle","class",4,"ngIf"],[3,"ngClass","ngStyle","drop","dragover","dragenter","dragleave"],["class","p-tree-loading-overlay p-component-overlay",4,"ngIf"],[4,"ngTemplateOutlet"],["class","p-tree-filter-container",4,"ngIf"],[4,"ngIf","ngIfElse"],["virtualScrollList",""],["class","p-tree-empty-message",4,"ngIf"],[1,"p-tree-loading-overlay","p-component-overlay"],[1,"p-tree-filter-container"],["type","text","autocomplete","off",1,"p-tree-filter","p-inputtext","p-component",3,"keydown.enter","input"],["filter",""],[1,"p-tree-filter-icon","pi","pi-search"],[1,"p-tree-wrapper"],["class","p-tree-container","role","tree",4,"ngIf"],["role","tree",1,"p-tree-container"],[3,"node","firstChild","lastChild","index","level",4,"ngFor","ngForOf","ngForTrackBy"],[3,"node","firstChild","lastChild","index","level"],[1,"p-tree-wrapper",3,"itemSize","minBufferPx","maxBufferPx"],[3,"level","rowNode","node","firstChild","lastChild","index","height","indentation",4,"cdkVirtualFor","cdkVirtualForOf","cdkVirtualForTrackBy","cdkVirtualForTemplateCacheSize"],[3,"level","rowNode","node","firstChild","lastChild","index","indentation"],[1,"p-tree-empty-message"],["emptyFilter",""],[3,"ngClass","ngStyle"],["class","p-tree-loading-mask p-component-overlay",4,"ngIf"],[4,"ngIf"],[1,"p-tree-loading-mask","p-component-overlay"],[3,"node","root"]],template:function(_,F){1&_&&(c.YNc(0,ft,9,16,"div",0),c.YNc(1,vn,6,11,"div",1)),2&_&&(c.Q6J("ngIf",!F.horizontal),c.xp6(1),c.Q6J("ngIf",F.horizontal))},directives:[Sn,de.N7,D.O5,D.mk,D.PC,D.tP,D.sg,de.xd,de.x0],styles:[".p-tree-container{margin:0;padding:0;list-style-type:none;overflow:auto}.p-treenode-children{margin:0;padding:0;list-style-type:none}.p-tree-wrapper{overflow:auto}.p-treenode-selectable{cursor:pointer;-webkit-user-select:none;user-select:none}.p-tree-toggler{cursor:pointer;-webkit-user-select:none;user-select:none;display:inline-flex;align-items:center;justify-content:center;overflow:hidden;position:relative;flex-shrink:0}.p-treenode-leaf>.p-treenode-content .p-tree-toggler{visibility:hidden}.p-treenode-content{display:flex;align-items:center}.p-tree-filter{width:100%}.p-tree-filter-container{position:relative;display:block;width:100%}.p-tree-filter-icon{position:absolute;top:50%;margin-top:-.5rem}.p-tree-loading{position:relative;min-height:4rem}.p-tree .p-tree-loading-overlay{position:absolute;display:flex;align-items:center;justify-content:center;z-index:2}.p-tree-flex-scrollable{display:flex;flex:1;height:100%;flex-direction:column}.p-tree-flex-scrollable .p-tree-wrapper{flex:1}.p-tree .p-treenode-droppoint{height:4px;list-style-type:none}.p-tree .p-treenode-droppoint-active{border:0 none}.p-tree-horizontal{width:auto;padding-left:0;padding-right:0;overflow:auto}.p-tree.p-tree-horizontal table,.p-tree.p-tree-horizontal tr,.p-tree.p-tree-horizontal td{border-collapse:collapse;margin:0;padding:0;vertical-align:middle}.p-tree-horizontal .p-treenode-content{font-weight:400;padding:.4em 1em .4em .2em;display:flex;align-items:center}.p-tree-horizontal .p-treenode-parent .p-treenode-content{font-weight:400;white-space:nowrap}.p-tree.p-tree-horizontal .p-treenode{background:url(data:image/gif;base64,R0lGODlhAQABAIAAALGxsf///yH/C1hNUCBEYXRhWE1QPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNC4xLWMwMzQgNDYuMjcyOTc2LCBTYXQgSmFuIDI3IDIwMDcgMjI6Mzc6MzcgICAgICAgICI+CiAgIDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+CiAgICAgIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiCiAgICAgICAgICAgIHhtbG5zOnhhcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyI+CiAgICAgICAgIDx4YXA6Q3JlYXRvclRvb2w+QWRvYmUgRmlyZXdvcmtzIENTMzwveGFwOkNyZWF0b3JUb29sPgogICAgICAgICA8eGFwOkNyZWF0ZURhdGU+MjAxMC0wMy0xMVQxMDoxNjo0MVo8L3hhcDpDcmVhdGVEYXRlPgogICAgICAgICA8eGFwOk1vZGlmeURhdGU+MjAxMC0wMy0xMVQxMjo0NDoxOVo8L3hhcDpNb2RpZnlEYXRlPgogICAgICA8L3JkZjpEZXNjcmlwdGlvbj4KICAgICAgPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIKICAgICAgICAgICAgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIj4KICAgICAgICAgPGRjOmZvcm1hdD5pbWFnZS9naWY8L2RjOmZvcm1hdD4KICAgICAgPC9yZGY6RGVzY3JpcHRpb24+CiAgIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgCjw/eHBhY2tldCBlbmQ9InciPz4B//79/Pv6+fj39vX08/Lx8O/u7ezr6uno5+bl5OPi4eDf3t3c29rZ2NfW1dTT0tHQz87NzMvKycjHxsXEw8LBwL++vby7urm4t7a1tLOysbCvrq2sq6qpqKempaSjoqGgn56dnJuamZiXlpWUk5KRkI+OjYyLiomIh4aFhIOCgYB/fn18e3p5eHd2dXRzcnFwb25tbGtqaWhnZmVkY2JhYF9eXVxbWllYV1ZVVFNSUVBPTk1MS0pJSEdGRURDQkFAPz49PAA6OTg3NjU0MzIxMC8uLSwrKikoJyYlJCMiISAfHh0cGxoZGBcWFRQTEhEQDw4NDAsKCQgHBgUEAwIBAAAh+QQABwD/ACwAAAAAAQABAAACAkQBADs=) repeat-x scroll center center transparent;padding:.25rem 2.5rem}.p-tree.p-tree-horizontal .p-treenode.p-treenode-leaf,.p-tree.p-tree-horizontal .p-treenode.p-treenode-collapsed{padding-right:0}.p-tree.p-tree-horizontal .p-treenode-children{padding:0;margin:0}.p-tree.p-tree-horizontal .p-treenode-connector{width:1px}.p-tree.p-tree-horizontal .p-treenode-connector-table{height:100%;width:1px}.p-tree.p-tree-horizontal .p-treenode-connector-line{background:url(data:image/gif;base64,R0lGODlhAQABAIAAALGxsf///yH/C1hNUCBEYXRhWE1QPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNC4xLWMwMzQgNDYuMjcyOTc2LCBTYXQgSmFuIDI3IDIwMDcgMjI6Mzc6MzcgICAgICAgICI+CiAgIDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+CiAgICAgIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiCiAgICAgICAgICAgIHhtbG5zOnhhcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyI+CiAgICAgICAgIDx4YXA6Q3JlYXRvclRvb2w+QWRvYmUgRmlyZXdvcmtzIENTMzwveGFwOkNyZWF0b3JUb29sPgogICAgICAgICA8eGFwOkNyZWF0ZURhdGU+MjAxMC0wMy0xMVQxMDoxNjo0MVo8L3hhcDpDcmVhdGVEYXRlPgogICAgICAgICA8eGFwOk1vZGlmeURhdGU+MjAxMC0wMy0xMVQxMjo0NDoxOVo8L3hhcDpNb2RpZnlEYXRlPgogICAgICA8L3JkZjpEZXNjcmlwdGlvbj4KICAgICAgPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIKICAgICAgICAgICAgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIj4KICAgICAgICAgPGRjOmZvcm1hdD5pbWFnZS9naWY8L2RjOmZvcm1hdD4KICAgICAgPC9yZGY6RGVzY3JpcHRpb24+CiAgIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgCjw/eHBhY2tldCBlbmQ9InciPz4B//79/Pv6+fj39vX08/Lx8O/u7ezr6uno5+bl5OPi4eDf3t3c29rZ2NfW1dTT0tHQz87NzMvKycjHxsXEw8LBwL++vby7urm4t7a1tLOysbCvrq2sq6qpqKempaSjoqGgn56dnJuamZiXlpWUk5KRkI+OjYyLiomIh4aFhIOCgYB/fn18e3p5eHd2dXRzcnFwb25tbGtqaWhnZmVkY2JhYF9eXVxbWllYV1ZVVFNSUVBPTk1MS0pJSEdGRURDQkFAPz49PAA6OTg3NjU0MzIxMC8uLSwrKikoJyYlJCMiISAfHh0cGxoZGBcWFRQTEhEQDw4NDAsKCQgHBgUEAwIBAAAh+QQABwD/ACwAAAAAAQABAAACAkQBADs=) repeat-y scroll 0 0 transparent;width:1px}.p-tree.p-tree-horizontal table{height:0}\n"],encapsulation:2}),H})(),Ar=(()=>{class H{}return H.\u0275fac=function(_){return new(_||H)},H.\u0275mod=c.oAB({type:H}),H.\u0275inj=c.cJS({imports:[[D.ez,de.Cl,Tt.T],Se.m8,de.Cl]}),H})();var Dn=z(845);function Qn(H,Pe){1&H&&(c.TgZ(0,"label",8),c._UZ(1,"i",9),c.qZA())}function Tr(H,Pe){1&H&&(c.TgZ(0,"div")(1,"div",10),c._UZ(2,"p-skeleton",11),c.qZA(),c.TgZ(3,"div",10),c._UZ(4,"p-skeleton",12),c.qZA(),c.TgZ(5,"div",10),c._UZ(6,"p-skeleton",12),c.qZA(),c.TgZ(7,"div",10),c._UZ(8,"p-skeleton",12),c.qZA(),c.TgZ(9,"div",10),c._UZ(10,"p-skeleton",12),c.qZA()())}function xi(H,Pe){if(1&H){const _=c.EpF();c.TgZ(0,"p-button",17),c.NdJ("click",function(){const Me=c.CHM(_).$implicit;return c.oxw(2).changeSubChapter(Me,Me.key)}),c.TgZ(1,"p",18)(2,"span",19),c._uU(3),c.qZA(),c._uU(4,"\xa0 "),c.TgZ(5,"span",20),c._uU(6),c.qZA(),c._UZ(7,"img",21),c.qZA()()}if(2&H){const _=Pe.$implicit;c.xp6(1),c.s9C("id",_.key),c.xp6(2),c.Oqu(_.key),c.xp6(3),c.Oqu(_.label)}}function Er(H,Pe){if(1&H){const _=c.EpF();c.TgZ(0,"p-button",22),c.NdJ("click",function(){const Me=c.CHM(_).$implicit;return c.oxw(2).changeChapter(Me,Me.key)}),c.TgZ(1,"p",23)(2,"span",19),c._uU(3),c.qZA(),c._uU(4,"\xa0 "),c.TgZ(5,"span",20),c._uU(6),c.qZA(),c._UZ(7,"img",21),c.qZA()()}if(2&H){const _=Pe.$implicit;c.xp6(1),c.s9C("id",_.key),c.xp6(2),c.Oqu(_.key),c.xp6(3),c.Oqu(_.label)}}function fi(H,Pe){if(1&H){const _=c.EpF();c.TgZ(0,"p-tree",13),c.NdJ("onNodeExpand",function(K){return c.CHM(_),c.oxw().refreshChildSelectedAddedEffects(K)})("onNodeCollapse",function(K){return c.CHM(_),c.oxw().refreshChildSelectedRemoveEffects(K)}),c._UZ(1,"p-skeleton",14),c.YNc(2,xi,8,3,"ng-template",15),c.YNc(3,Er,8,3,"ng-template",16),c.qZA()}if(2&H){const _=c.oxw();c.Q6J("value",_.nodes)}}let Ui=(()=>{class H{constructor(_,F){var K,Me,gt;this.router=_,this.chapterJavaService=F,this.nodes=[],this.selectedSubChapter=void 0,this.previousSubChapter=void 0,this.nextSubChapter=void 0,this.languageCode="java",this.language="ita",null===(K=this.chapterJavaService.actionFromTutorialBodyContentChanged$)||void 0===K||K.subscribe(un=>{console.log("sono nel costruttore della sideBar "),this.initializeChapter(un)}),null===(Me=this.chapterJavaService.actionFromTutorialBodyNextContentChanged$)||void 0===Me||Me.subscribe(un=>{console.log("sono nel costruttore della sideBar "),this.nextChapterFromRequestBody()}),null===(gt=this.chapterJavaService.actionFromTutorialBodyPreviousContentChanged$)||void 0===gt||gt.subscribe(un=>{this.previousChapterFromRequestBody()})}ngOnInit(){console.log(this.languageCode+" "+this.language),this.chapterJavaService.getChapters(this.languageCode,this.language).subscribe(_=>{console.log(_),this.chaptersJavaCourse=_,this.nodes=[],this.chaptersJavaCourse.forEach(F=>{console.log(F.id),this.childrenParam=[],null!=F.subChapters&&F.subChapters.forEach(K=>{let Me=new J;Me.data=""+K.id,Me.key=""+K.subChapterNumber,Me.label=""+K.subChapterTitle,this.childrenParam.push(Me)}),this.nodes.push({key:""+F.id,label:F.chapterTitle,children:this.childrenParam})}),console.log(this.chaptersJavaCourse)}),this.item=[{label:"capitolo 0",items:[{label:"introduzione",command:()=>this.navigate()}]}]}navigate(){this.router.navigate(["/auth/signin"])}changeChapter(_,F){var K,Me,gt,un,wn,ti;console.log("--------------------------------------"),console.log("scope chapter is "+_.key),console.log("scope chapter is "+_.label),console.log("scope chapter is "+(null===(K=_.children)||void 0===K?void 0:K.length)),console.log("scope chapter is ex "+_.expanded),console.log("--------------------------------------"),1!=_.expanded&&(_.expanded=!0),null===(gt=document.getElementById(null===(Me=this.selectedSubChapter)||void 0===Me?void 0:Me.key))||void 0===gt||gt.classList.remove("selectedArgument"),null===(wn=document.getElementById(null===(un=this.selectedChapter)||void 0===un?void 0:un.key))||void 0===wn||wn.classList.remove("selectedArgument"),null===(ti=document.getElementById(_.key))||void 0===ti||ti.classList.add("selectedArgument"),this.chapterJavaService.changeIdChapter(""+(null==_?void 0:_.key)),this.evalueateNextChapters(_),this.evalueatePreviousChapters(this.selectedChapter),this.initializeSubChapter(this.selectedChapter)}changeSubChapter(_,F){var K,Me,gt,un,wn,ti,L,Z,R,Y,pe;console.log("--------------------------------------"+F),console.log("scope subchapter is "+_.key),console.log("scope subchapter data "+_.data),console.log("scope subchapter is "+_.label),console.log("scope subchapter is "+(null===(K=_.children)||void 0===K?void 0:K.length)),console.log("---------------------------parent-------"+(null===(Me=_.parent)||void 0===Me?void 0:Me.key)),null===(un=document.getElementById(null===(gt=this.selectedSubChapter)||void 0===gt?void 0:gt.key))||void 0===un||un.classList.remove("selectedArgument"),null===(wn=document.getElementById(_.key))||void 0===wn||wn.classList.add("selectedArgument"),this.chapterJavaService.changeIdSubChapter(""+(null==_?void 0:_.data)),this.evalueateNextSubChapters(_),this.evalueatePreviousSubChapters(this.selectedSubChapter),(null===(ti=_.parent)||void 0===ti?void 0:ti.key)!=(null===(L=this.selectedChapter)||void 0===L?void 0:L.key)&&(null===(R=document.getElementById(null===(Z=this.selectedChapter)||void 0===Z?void 0:Z.key))||void 0===R||R.classList.remove("selectedArgument"),this.evalueateNextChapters(_.parent),this.evalueatePreviousChapters(this.selectedChapter),null===(pe=document.getElementById(null===(Y=this.selectedChapter)||void 0===Y?void 0:Y.key))||void 0===pe||pe.classList.add("selectedArgument"))}initializeChapter(_){var F,K,Me,gt;console.log("inizializzo con key: "+_),null===(F=document.getElementById(_))||void 0===F||F.classList.add("selectedArgument"),this.selectedChapter=this.nodes[Number(_)-1],this.nodes.length>1&&(this.nextChapter=this.nodes[Number(this.selectedChapter.key)]),this.previousChapter=void 0,1!=(null===(K=this.selectedChapter)||void 0===K?void 0:K.expanded)&&(this.selectedChapter.expanded=!0),this.initializeSubChapter(this.selectedChapter),console.log("capitolo successivo: "+(null===(Me=this.nextChapter)||void 0===Me?void 0:Me.key)),console.log("sotto capitolo successivo: "+(null===(gt=this.nextSubChapter)||void 0===gt?void 0:gt.key))}initializeSubChapter(_){null!=_.children&&(this.nextSubChapter=_.children[0],this.selectedSubChapter=void 0,this.previousSubChapter=void 0)}nextChapterFromRequestBody(){var _,F,K,Me,gt,un,wn,ti,L,Z;console.log("nextChapterFromRequestBody"),console.log("sub: "+this.nextSubChapter),null!=this.nextSubChapter?(null===(F=document.getElementById(null===(_=this.selectedSubChapter)||void 0===_?void 0:_.key))||void 0===F||F.classList.remove("selectedArgument"),this.chapterJavaService.changeIdSubChapter(this.nextSubChapter.data),null===(Me=document.getElementById(null===(K=this.nextSubChapter)||void 0===K?void 0:K.key))||void 0===Me||Me.classList.add("selectedArgument"),this.evalueateNextSubChapters(this.nextSubChapter),this.evalueatePreviousSubChapters(this.selectedSubChapter)):null!=this.nextChapter&&(null===(un=document.getElementById(null===(gt=this.selectedSubChapter)||void 0===gt?void 0:gt.key))||void 0===un||un.classList.remove("selectedArgument"),null===(ti=document.getElementById(null===(wn=this.selectedChapter)||void 0===wn?void 0:wn.key))||void 0===ti||ti.classList.remove("selectedArgument"),this.chapterJavaService.changeIdChapter(this.nextChapter.key),null===(Z=document.getElementById(null===(L=this.nextChapter)||void 0===L?void 0:L.key))||void 0===Z||Z.classList.add("selectedArgument"),this.evalueateNextChapters(this.nextChapter),this.evalueatePreviousChapters(this.selectedChapter),this.initializeSubChapter(this.selectedChapter))}previousChapterFromRequestBody(){var _,F,K,Me,gt,un,wn,ti,L,Z,R;if(null!=this.previousSubChapter)null===(F=document.getElementById(null===(_=this.selectedSubChapter)||void 0===_?void 0:_.key))||void 0===F||F.classList.remove("selectedArgument"),this.chapterJavaService.changeIdSubChapter(this.previousSubChapter.data),null===(Me=document.getElementById(null===(K=this.previousSubChapter)||void 0===K?void 0:K.key))||void 0===Me||Me.classList.add("selectedArgument"),this.evalueatePreviousSubChapters(this.previousSubChapter),this.evalueateNextSubChapters(this.selectedSubChapter);else if(null!=this.previousChapter){if(null===(un=document.getElementById(null===(gt=this.selectedSubChapter)||void 0===gt?void 0:gt.key))||void 0===un||un.classList.remove("selectedArgument"),null===(ti=document.getElementById(null===(wn=this.selectedChapter)||void 0===wn?void 0:wn.key))||void 0===ti||ti.classList.remove("selectedArgument"),null==this.previousChapter.children||0==this.previousChapter.children.length)this.chapterJavaService.changeIdChapter(this.previousChapter.key),this.evalueatePreviousChapters(this.previousChapter),this.evalueateNextChapters(this.selectedChapter),this.initializeSubChapter(this.selectedChapter);else{let Y=this.previousChapter.children[this.previousChapter.children.length-1];this.chapterJavaService.changeIdSubChapter(Y.data),null===(L=document.getElementById(null==Y?void 0:Y.key))||void 0===L||L.classList.add("selectedArgument"),this.evalueatePreviousSubChapters(Y),this.evalueateNextSubChapters(this.selectedSubChapter),this.evalueatePreviousChapters(this.previousChapter),this.evalueateNextChapters(this.selectedChapter)}null===(R=document.getElementById(null===(Z=this.selectedChapter)||void 0===Z?void 0:Z.key))||void 0===R||R.classList.add("selectedArgument")}}evalueateNextSubChapters(_){var F,K,Me,gt,un;console.log("evaluate next subChapter. Parend: "+(null===(F=_.parent)||void 0===F?void 0:F.key)),this.selectedSubChapter=_;let wn=[];if(null!=(null===(K=_.parent)||void 0===K?void 0:K.children)&&(wn=null===(Me=_.parent)||void 0===Me?void 0:Me.children),wn.length>0){let ti=wn.indexOf(this.selectedSubChapter);this.nextSubChapter=ti==wn.length-1?void 0:wn[ti+1]}console.log("-----------next--SUB-------------------"),console.log("selected sub chapter "+this.selectedSubChapter.key),console.log("nex sub chapter "+(null===(gt=this.nextSubChapter)||void 0===gt?void 0:gt.key)),console.log("previous sub chapter "+(null===(un=this.previousSubChapter)||void 0===un?void 0:un.key))}evalueateNextChapters(_){var F,K;console.log("evaluate next subChapter. "),this.selectedChapter=_,this.nextChapter=this.nodes.length-1>this.nodes.indexOf(this.selectedChapter)?this.nodes[this.nodes.indexOf(this.selectedChapter)+1]:void 0,console.log("-----------next---------------------"),console.log("selected  chapter "+this.selectedChapter.key),console.log("nex  chapter "+(null===(F=this.nextChapter)||void 0===F?void 0:F.key)),console.log("previous  chapter "+(null===(K=this.previousChapter)||void 0===K?void 0:K.key))}evalueatePreviousSubChapters(_){var F,K,Me,gt,un;console.log("evaluate previous subChapter. Parend: "+(null===(F=_.parent)||void 0===F?void 0:F.key)),this.selectedSubChapter=_;let wn=[];null!=(null===(K=_.parent)||void 0===K?void 0:K.children)&&(wn=null===(Me=_.parent)||void 0===Me?void 0:Me.children),wn.length>0&&(this.previousSubChapter=0==wn.indexOf(this.selectedSubChapter)?void 0:wn[wn.indexOf(this.selectedSubChapter)-1]),console.log("-----------previous----SUB-----------------"),console.log("selected sub chapter "+this.selectedSubChapter.key),console.log("nex sub chapter "+(null===(gt=this.nextSubChapter)||void 0===gt?void 0:gt.key)),console.log("previous sub chapter "+(null===(un=this.previousSubChapter)||void 0===un?void 0:un.key))}evalueatePreviousChapters(_){var F,K;console.log("evaluate previous subChapter. Parend: "),this.selectedChapter=_,this.previousChapter=this.nodes.indexOf(this.selectedChapter)>0?this.nodes[this.nodes.indexOf(this.selectedChapter)-1]:void 0,console.log("-----------previous---------------------"),console.log("selected  chapter "+this.selectedChapter.key),console.log("nex  chapter "+(null===(F=this.nextChapter)||void 0===F?void 0:F.key)),console.log("previous  chapter "+(null===(K=this.previousChapter)||void 0===K?void 0:K.key))}refreshChildSelectedAddedEffects(_){var K,F=this;_.node.key==(null===(K=this.selectedChapter)||void 0===K?void 0:K.key)&&(0,$e.Z)(function*(){setTimeout(()=>{var Me,gt;null===(gt=document.getElementById(null===(Me=F.selectedSubChapter)||void 0===Me?void 0:Me.key))||void 0===gt||gt.classList.add("selectedArgument")},50)})()}refreshChildSelectedRemoveEffects(_){var F,K,Me;_.node.key==(null===(F=this.selectedChapter)||void 0===F?void 0:F.key)&&(null===(Me=document.getElementById(null===(K=this.selectedSubChapter)||void 0===K?void 0:K.key))||void 0===Me||Me.classList.remove("selectedArgument"))}}return H.\u0275fac=function(_){return new(_||H)(c.Y36(X.F0),c.Y36(xe))},H.\u0275cmp=c.Xpm({type:H,selectors:[["app-side-bar"]],decls:8,vars:3,consts:[[1,"sidebarConteiner"],["type","checkbox","id","burger"],["for","burger",4,"ngIf"],["id","sidebarGlobal",1,"sidebar"],[1,"listCap"],[1,"listItem"],[4,"ngIf"],[3,"value","onNodeExpand","onNodeCollapse",4,"ngIf"],["for","burger"],["id","burgerMenuClosed",1,"fa-solid","fa-angle-left"],[1,"skeleton"],["idth","10rem","height","4rem","borderRadius","16px"],["idth","99%","height","4rem","borderRadius","16px"],[3,"value","onNodeExpand","onNodeCollapse"],["width","10rem","height","4rem","borderRadius","16px"],["pTemplate","url"],["pTemplate","default"],["styleClass","p-button-link custom-p-button-linkLeaf",3,"click"],[1,"paragraphSidebar",3,"id"],[1,"paragraphSidebarChapter"],[1,"paragraphSidebarContent"],["src","../../../assets/images/tutorial.content/side-bar/puntina.png",1,"puntinaPost-it"],["styleClass","p-button-link custom-p-button-link",3,"click"],[1,"paragraphSidebarOrphanNode",3,"id"]],template:function(_,F){1&_&&(c.TgZ(0,"div",0),c._UZ(1,"input",1),c.YNc(2,Qn,2,0,"label",2),c.TgZ(3,"div",3)(4,"ul",4)(5,"li",5),c.YNc(6,Tr,11,0,"div",6),c.YNc(7,fi,4,1,"p-tree",7),c.qZA()()()()),2&_&&(c.xp6(2),c.Q6J("ngIf",F.nodes.length>0),c.xp6(4),c.Q6J("ngIf",0==F.nodes.length),c.xp6(1),c.Q6J("ngIf",F.nodes.length>0))},directives:[D.O5,me,yn,Se.jx,Dn.zx],styles:[".sidebar[_ngcontent-%COMP%]{max-height:1000px;left:0;width:250px;height:100%;background:white;overflow-y:auto;transition:all .4s ease;z-index:9999}.sidebar[_ngcontent-%COMP%]   .listCap[_ngcontent-%COMP%]{list-style:none}.sidebar[_ngcontent-%COMP%]   .listCap[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:block;height:100%;width:100%;margin-bottom:30px;margin-left:-20px;font-size:20px;box-sizing:border-box;transition:.4s}.sidebar[_ngcontent-%COMP%]   .listCap[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover   button[_ngcontent-%COMP%]{margin-left:-5px}.skeleton[_ngcontent-%COMP%]{margin:10px!important}#burger[_ngcontent-%COMP%]{display:none}label[_ngcontent-%COMP%]   #burgerMenuClosed[_ngcontent-%COMP%]{position:absolute;cursor:pointer;background:#042331;border-radius:15px;color:#fff;margin-top:15px;z-index:0;left:233px;font-size:15px;padding:4px 8px;transition:all .4s ease}#burger[_ngcontent-%COMP%]:checked ~ .sidebar[_ngcontent-%COMP%]{width:100px}#burger[_ngcontent-%COMP%]:checked ~ .sidebar[_ngcontent-%COMP%]   .listCap[_ngcontent-%COMP%]   .listItem[_ngcontent-%COMP%]   .paragraphSidebarContent[_ngcontent-%COMP%]{visibility:hidden;display:none}#burger[_ngcontent-%COMP%]:checked ~ .sidebar[_ngcontent-%COMP%]   .descriptionCap[_ngcontent-%COMP%]{display:none}#burger[_ngcontent-%COMP%]:checked ~ .sidebar[_ngcontent-%COMP%]   .selectedArgument[_ngcontent-%COMP%]{width:40px}#burger[_ngcontent-%COMP%]:checked ~ label[_ngcontent-%COMP%]   #burgerMenu[_ngcontent-%COMP%]{opacity:100}#burger[_ngcontent-%COMP%]:checked ~ label[_ngcontent-%COMP%]   #burgerMenuClosed[_ngcontent-%COMP%]{left:81px;transform:rotate(180deg)}.listCap[_ngcontent-%COMP%]{margin-top:1px}.listItem[_ngcontent-%COMP%]{margin-left:-40px}.listItem[_ngcontent-%COMP%]   .paragraphSidebarNode[_ngcontent-%COMP%]{font-size:15px;color:#000}.listItem[_ngcontent-%COMP%]   .paragraphSidebarNode[_ngcontent-%COMP%]   .paragraphSidebarChapter[_ngcontent-%COMP%]{font-size:20px}.listItem[_ngcontent-%COMP%]   .paragraphSidebarOrphanNode[_ngcontent-%COMP%]{display:flex}.listItem[_ngcontent-%COMP%]   .paragraphSidebarOrphanNode[_ngcontent-%COMP%]   .paragraphSidebarChapter[_ngcontent-%COMP%]{font-size:20px}.listItem[_ngcontent-%COMP%]   .paragraphSidebarOrphanNode[_ngcontent-%COMP%]   .paragraphSidebarContent[_ngcontent-%COMP%]{padding-top:4px;width:180px}.listItem[_ngcontent-%COMP%]   .paragraphSidebar[_ngcontent-%COMP%]{display:flex}.listItem[_ngcontent-%COMP%]   .paragraphSidebar[_ngcontent-%COMP%]   .paragraphSidebarChapter[_ngcontent-%COMP%]{font-size:20px}.listItem[_ngcontent-%COMP%]   .paragraphSidebar[_ngcontent-%COMP%]   .paragraphSidebarContent[_ngcontent-%COMP%]{padding-top:4px;width:180px}.listItem[_ngcontent-%COMP%]   .puntinaPost-it[_ngcontent-%COMP%]{position:absolute;width:40px;height:25px;right:0;top:0;display:none}.listItem[_ngcontent-%COMP%]   .selectedArgument[_ngcontent-%COMP%]{overflow:visible;position:relative;box-shadow:0 1px 4px var(--box-shadow-color1),0 0 20px var(--box-shadow-color2) inset;transform:rotate(-4deg)}.listItem[_ngcontent-%COMP%]   .selectedArgument[_ngcontent-%COMP%]   .puntinaPost-it[_ngcontent-%COMP%]{display:block;top:-10px;right:-5px}"]}),H})();var Zr=z(2313),Ji=z(4119);function us(H,Pe){1&H&&c.GkF(0)}function is(H,Pe){if(1&H&&(c.ynx(0),c.YNc(1,us,1,0,"ng-container",3),c.BQk()),2&H){const _=c.oxw(2);c.xp6(1),c.Q6J("ngTemplateOutlet",_.contentTemplate)}}function We(H,Pe){if(1&H&&(c.TgZ(0,"div",1),c.Hsn(1),c.YNc(2,is,2,1,"ng-container",2),c.qZA()),2&H){const _=c.oxw();c.Q6J("hidden",!_.selected),c.uIk("id",_.id)("aria-hidden",!_.selected)("aria-labelledby",_.id+"-label"),c.xp6(2),c.Q6J("ngIf",_.contentTemplate&&(_.cache?_.loaded:_.selected))}}const Te=["*"],fe=["content"],ke=["navbar"],mt=["prevBtn"],kt=["nextBtn"],Fn=["inkbar"];function Gi(H,Pe){if(1&H){const _=c.EpF();c.TgZ(0,"button",12,13),c.NdJ("click",function(){return c.CHM(_),c.oxw().navBackward()}),c._UZ(2,"span",14),c.qZA()}}function Xn(H,Pe){if(1&H&&c._UZ(0,"span",24),2&H){const _=c.oxw(3).$implicit;c.Q6J("ngClass",_.leftIcon)}}function gr(H,Pe){if(1&H&&c._UZ(0,"span",25),2&H){const _=c.oxw(3).$implicit;c.Q6J("ngClass",_.rightIcon)}}function Nr(H,Pe){if(1&H&&(c.ynx(0),c.YNc(1,Xn,1,1,"span",21),c.TgZ(2,"span",22),c._uU(3),c.qZA(),c.YNc(4,gr,1,1,"span",23),c.BQk()),2&H){const _=c.oxw(2).$implicit;c.xp6(1),c.Q6J("ngIf",_.leftIcon),c.xp6(2),c.Oqu(_.header),c.xp6(1),c.Q6J("ngIf",_.rightIcon)}}function Ir(H,Pe){1&H&&c.GkF(0)}function _r(H,Pe){if(1&H){const _=c.EpF();c.TgZ(0,"span",26),c.NdJ("click",function(K){c.CHM(_);const Me=c.oxw(2).$implicit;return c.oxw().close(K,Me)}),c.qZA()}}const ds=function(H,Pe){return{"p-highlight":H,"p-disabled":Pe}};function hs(H,Pe){if(1&H){const _=c.EpF();c.TgZ(0,"li",16)(1,"a",17),c.NdJ("click",function(K){c.CHM(_);const Me=c.oxw().$implicit;return c.oxw().open(K,Me)})("keydown.enter",function(K){c.CHM(_);const Me=c.oxw().$implicit;return c.oxw().open(K,Me)}),c.YNc(2,Nr,5,3,"ng-container",18),c.YNc(3,Ir,1,0,"ng-container",19),c.YNc(4,_r,1,0,"span",20),c.qZA()()}if(2&H){const _=c.oxw().$implicit;c.Tol(_.headerStyleClass),c.Q6J("ngClass",c.WLB(16,ds,_.selected,_.disabled))("ngStyle",_.headerStyle),c.xp6(1),c.Q6J("pTooltip",_.tooltip)("tooltipPosition",_.tooltipPosition)("positionStyle",_.tooltipPositionStyle)("tooltipStyleClass",_.tooltipStyleClass),c.uIk("id",_.id+"-label")("aria-selected",_.selected)("aria-controls",_.id)("aria-selected",_.selected)("tabindex",_.disabled?null:"0"),c.xp6(1),c.Q6J("ngIf",!_.headerTemplate),c.xp6(1),c.Q6J("ngTemplateOutlet",_.headerTemplate),c.xp6(1),c.Q6J("ngIf",_.closable)}}function Fr(H,Pe){1&H&&c.YNc(0,hs,5,19,"li",15),2&H&&c.Q6J("ngIf",!Pe.$implicit.closed)}function vr(H,Pe){if(1&H){const _=c.EpF();c.TgZ(0,"button",27,28),c.NdJ("click",function(){return c.CHM(_),c.oxw().navForward()}),c._UZ(2,"span",29),c.qZA()}}const rr=function(H){return{"p-tabview p-component":!0,"p-tabview-scrollable":H}};let Xo=0,sr=(()=>{class H{constructor(_,F,K){this.viewContainer=F,this.cd=K,this.cache=!0,this.tooltipPosition="top",this.tooltipPositionStyle="absolute",this.id="p-tabpanel-"+Xo++,this.tabView=_}ngAfterContentInit(){this.templates.forEach(_=>{"header"===_.getType()?this.headerTemplate=_.template:this.contentTemplate=_.template})}get selected(){return this._selected}set selected(_){this._selected=_,this.loaded||this.cd.detectChanges(),_&&(this.loaded=!0)}get disabled(){return this._disabled}set disabled(_){this._disabled=_,this.tabView.cd.markForCheck()}get header(){return this._header}set header(_){this._header=_,this.tabView.updateInkBar(),this.tabView.cd.markForCheck()}get leftIcon(){return this._leftIcon}set leftIcon(_){this._leftIcon=_,this.tabView.cd.markForCheck()}get rightIcon(){return this._rightIcon}set rightIcon(_){this._rightIcon=_,this.tabView.cd.markForCheck()}ngOnDestroy(){this.view=null}}return H.\u0275fac=function(_){return new(_||H)(c.Y36((0,c.Gpc)(()=>Kt)),c.Y36(c.s_b),c.Y36(c.sBO))},H.\u0275cmp=c.Xpm({type:H,selectors:[["p-tabPanel"]],contentQueries:function(_,F,K){if(1&_&&c.Suo(K,Se.jx,4),2&_){let Me;c.iGM(Me=c.CRH())&&(F.templates=Me)}},hostAttrs:[1,"p-element"],inputs:{closable:"closable",headerStyle:"headerStyle",headerStyleClass:"headerStyleClass",cache:"cache",tooltip:"tooltip",tooltipPosition:"tooltipPosition",tooltipPositionStyle:"tooltipPositionStyle",tooltipStyleClass:"tooltipStyleClass",selected:"selected",disabled:"disabled",header:"header",leftIcon:"leftIcon",rightIcon:"rightIcon"},ngContentSelectors:Te,decls:1,vars:1,consts:[["class","p-tabview-panel","role","tabpanel",3,"hidden",4,"ngIf"],["role","tabpanel",1,"p-tabview-panel",3,"hidden"],[4,"ngIf"],[4,"ngTemplateOutlet"]],template:function(_,F){1&_&&(c.F$t(),c.YNc(0,We,3,5,"div",0)),2&_&&c.Q6J("ngIf",!F.closed)},directives:[D.O5,D.tP],encapsulation:2}),H})(),Kt=(()=>{class H{constructor(_,F){this.el=_,this.cd=F,this.orientation="top",this.onChange=new c.vpe,this.onClose=new c.vpe,this.activeIndexChange=new c.vpe,this.backwardIsDisabled=!0,this.forwardIsDisabled=!1}ngAfterContentInit(){this.initTabs(),this.tabPanels.changes.subscribe(_=>{this.initTabs()})}ngAfterViewChecked(){this.tabChanged&&(this.updateInkBar(),this.tabChanged=!1)}initTabs(){this.tabs=this.tabPanels.toArray(),!this.findSelectedTab()&&this.tabs.length&&(null!=this.activeIndex&&this.tabs.length>this.activeIndex?this.tabs[this.activeIndex].selected=!0:this.tabs[0].selected=!0,this.tabChanged=!0),this.cd.markForCheck()}open(_,F){if(F.disabled)_&&_.preventDefault();else{if(!F.selected){let K=this.findSelectedTab();K&&(K.selected=!1),this.tabChanged=!0,F.selected=!0;let Me=this.findTabIndex(F);this.preventActiveIndexPropagation=!0,this.activeIndexChange.emit(Me),this.onChange.emit({originalEvent:_,index:Me}),this.updateScrollBar(Me)}_&&_.preventDefault()}}close(_,F){this.controlClose?this.onClose.emit({originalEvent:_,index:this.findTabIndex(F),close:()=>{this.closeTab(F)}}):(this.closeTab(F),this.onClose.emit({originalEvent:_,index:this.findTabIndex(F)})),_.stopPropagation()}closeTab(_){if(!_.disabled){if(_.selected){this.tabChanged=!0,_.selected=!1;for(let F=0;F<this.tabs.length;F++){let K=this.tabs[F];if(!K.closed&&!_.disabled){K.selected=!0;break}}}_.closed=!0}}findSelectedTab(){for(let _=0;_<this.tabs.length;_++)if(this.tabs[_].selected)return this.tabs[_];return null}findTabIndex(_){let F=-1;for(let K=0;K<this.tabs.length;K++)if(this.tabs[K]==_){F=K;break}return F}getBlockableElement(){return this.el.nativeElement.children[0]}get activeIndex(){return this._activeIndex}set activeIndex(_){this._activeIndex=_,this.preventActiveIndexPropagation?this.preventActiveIndexPropagation=!1:this.tabs&&this.tabs.length&&null!=this._activeIndex&&this.tabs.length>this._activeIndex&&(this.findSelectedTab().selected=!1,this.tabs[this._activeIndex].selected=!0,this.tabChanged=!0,this.updateScrollBar(_))}updateInkBar(){if(this.navbar){let _=Ye.p.findSingle(this.navbar.nativeElement,"li.p-highlight");this.inkbar.nativeElement.style.width=Ye.p.getWidth(_)+"px",this.inkbar.nativeElement.style.left=Ye.p.getOffset(_).left-Ye.p.getOffset(this.navbar.nativeElement).left+"px"}}updateScrollBar(_){this.navbar.nativeElement.children[_].scrollIntoView({block:"nearest"})}updateButtonState(){const _=this.content.nativeElement,{scrollLeft:F,scrollWidth:K}=_,Me=Ye.p.getWidth(_);this.backwardIsDisabled=0===F,this.forwardIsDisabled=parseInt(F)===K-Me}onScroll(_){this.scrollable&&this.updateButtonState(),_.preventDefault()}getVisibleButtonWidths(){var _,F;return[null===(_=this.prevBtn)||void 0===_?void 0:_.nativeElement,null===(F=this.nextBtn)||void 0===F?void 0:F.nativeElement].reduce((K,Me)=>Me?K+Ye.p.getWidth(Me):K,0)}navBackward(){const _=this.content.nativeElement,F=Ye.p.getWidth(_)-this.getVisibleButtonWidths(),K=_.scrollLeft-F;_.scrollLeft=K<=0?0:K}navForward(){const _=this.content.nativeElement,F=Ye.p.getWidth(_)-this.getVisibleButtonWidths(),K=_.scrollLeft+F,Me=_.scrollWidth-F;_.scrollLeft=K>=Me?Me:K}}return H.\u0275fac=function(_){return new(_||H)(c.Y36(c.SBq),c.Y36(c.sBO))},H.\u0275cmp=c.Xpm({type:H,selectors:[["p-tabView"]],contentQueries:function(_,F,K){if(1&_&&c.Suo(K,sr,4),2&_){let Me;c.iGM(Me=c.CRH())&&(F.tabPanels=Me)}},viewQuery:function(_,F){if(1&_&&(c.Gf(fe,5),c.Gf(ke,5),c.Gf(mt,5),c.Gf(kt,5),c.Gf(Fn,5)),2&_){let K;c.iGM(K=c.CRH())&&(F.content=K.first),c.iGM(K=c.CRH())&&(F.navbar=K.first),c.iGM(K=c.CRH())&&(F.prevBtn=K.first),c.iGM(K=c.CRH())&&(F.nextBtn=K.first),c.iGM(K=c.CRH())&&(F.inkbar=K.first)}},hostAttrs:[1,"p-element"],inputs:{orientation:"orientation",style:"style",styleClass:"styleClass",controlClose:"controlClose",scrollable:"scrollable",activeIndex:"activeIndex"},outputs:{onChange:"onChange",onClose:"onClose",activeIndexChange:"activeIndexChange"},ngContentSelectors:Te,decls:13,vars:9,consts:[[3,"ngClass","ngStyle"],[1,"p-tabview-nav-container"],["class","p-tabview-nav-prev p-tabview-nav-btn p-link","type","button","pRipple","",3,"click",4,"ngIf"],[1,"p-tabview-nav-content",3,"scroll"],["content",""],["role","tablist",1,"p-tabview-nav"],["navbar",""],["ngFor","",3,"ngForOf"],[1,"p-tabview-ink-bar"],["inkbar",""],["class","p-tabview-nav-next p-tabview-nav-btn p-link","type","button","pRipple","",3,"click",4,"ngIf"],[1,"p-tabview-panels"],["type","button","pRipple","",1,"p-tabview-nav-prev","p-tabview-nav-btn","p-link",3,"click"],["prevBtn",""],[1,"pi","pi-chevron-left"],["role","presentation",3,"ngClass","ngStyle","class",4,"ngIf"],["role","presentation",3,"ngClass","ngStyle"],["role","tab","pRipple","",1,"p-tabview-nav-link",3,"pTooltip","tooltipPosition","positionStyle","tooltipStyleClass","click","keydown.enter"],[4,"ngIf"],[4,"ngTemplateOutlet"],["class","p-tabview-close pi pi-times",3,"click",4,"ngIf"],["class","p-tabview-left-icon",3,"ngClass",4,"ngIf"],[1,"p-tabview-title"],["class","p-tabview-right-icon",3,"ngClass",4,"ngIf"],[1,"p-tabview-left-icon",3,"ngClass"],[1,"p-tabview-right-icon",3,"ngClass"],[1,"p-tabview-close","pi","pi-times",3,"click"],["type","button","pRipple","",1,"p-tabview-nav-next","p-tabview-nav-btn","p-link",3,"click"],["nextBtn",""],[1,"pi","pi-chevron-right"]],template:function(_,F){1&_&&(c.F$t(),c.TgZ(0,"div",0)(1,"div",1),c.YNc(2,Gi,3,0,"button",2),c.TgZ(3,"div",3,4),c.NdJ("scroll",function(Me){return F.onScroll(Me)}),c.TgZ(5,"ul",5,6),c.YNc(7,Fr,1,1,"ng-template",7),c._UZ(8,"li",8,9),c.qZA()(),c.YNc(10,vr,3,0,"button",10),c.qZA(),c.TgZ(11,"div",11),c.Hsn(12),c.qZA()()),2&_&&(c.Tol(F.styleClass),c.Q6J("ngClass",c.VKq(7,rr,F.scrollable))("ngStyle",F.style),c.xp6(2),c.Q6J("ngIf",F.scrollable&&!F.backwardIsDisabled),c.xp6(5),c.Q6J("ngForOf",F.tabs),c.xp6(3),c.Q6J("ngIf",F.scrollable&&!F.forwardIsDisabled))},directives:[D.mk,D.PC,D.O5,Tt.H,D.sg,Ji.u,D.tP],styles:[".p-tabview-nav-container{position:relative}.p-tabview-scrollable .p-tabview-nav-container{overflow:hidden}.p-tabview-nav-content{overflow-x:auto;overflow-y:hidden;scroll-behavior:smooth;scrollbar-width:none;overscroll-behavior:contain auto}.p-tabview-nav{display:flex;margin:0;padding:0;list-style-type:none;flex:1 1 auto}.p-tabview-nav-link{cursor:pointer;-webkit-user-select:none;user-select:none;display:flex;align-items:center;position:relative;text-decoration:none;overflow:hidden}.p-tabview-ink-bar{display:none;z-index:1}.p-tabview-nav-link:focus{z-index:1}.p-tabview-title{line-height:1;white-space:nowrap}.p-tabview-nav-btn{position:absolute;top:0;z-index:2;height:100%;display:flex;align-items:center;justify-content:center}.p-tabview-nav-prev{left:0}.p-tabview-nav-next{right:0}.p-tabview-nav-content::-webkit-scrollbar{display:none}.p-tabview-close{z-index:1}\n"],encapsulation:2,changeDetection:0}),H})(),zn=(()=>{class H{}return H.\u0275fac=function(_){return new(_||H)},H.\u0275mod=c.oAB({type:H}),H.\u0275inj=c.cJS({imports:[[D.ez,Se.m8,Ji.z,Tt.T],Se.m8]}),H})();var oi=z(1062);const cr=["iconButton"],rs=["someDiv"];function Ri(H,Pe){1&H&&(c.TgZ(0,"div")(1,"div",3),c._UZ(2,"p-skeleton",4),c.qZA(),c._UZ(3,"br"),c.TgZ(4,"div",3),c._UZ(5,"p-skeleton",5),c.qZA(),c.TgZ(6,"div",3),c._UZ(7,"p-skeleton",6),c.qZA(),c.TgZ(8,"div",3),c._UZ(9,"p-skeleton",7),c.qZA(),c.TgZ(10,"div",3),c._UZ(11,"p-skeleton",8),c.qZA(),c.TgZ(12,"div",3),c._UZ(13,"p-skeleton",9),c.qZA(),c.TgZ(14,"div",3),c._UZ(15,"p-skeleton",10),c.qZA()())}function fs(H,Pe){if(1&H&&(c.ynx(0),c.TgZ(1,"p-tabPanel",19),c._UZ(2,"div",20),c.qZA(),c.BQk()),2&H){const _=Pe.$implicit;c.xp6(1),c.s9C("header",_.key),c.xp6(1),c.Q6J("innerHTML",_.value,c.oJD)}}function Ei(H,Pe){if(1&H){const _=c.EpF();c.ynx(0),c._UZ(1,"br"),c.TgZ(2,"div",11)(3,"div",12)(4,"p-button",13),c.NdJ("click",function(){return c.CHM(_),c.oxw().previousArgument()}),c._UZ(5,"i",14),c._uU(6),c.ALo(7,"translate"),c.qZA()(),c.TgZ(8,"div",15)(9,"p-button",16),c.NdJ("click",function(){return c.CHM(_),c.oxw().nextArgument()}),c._uU(10),c.ALo(11,"translate"),c._UZ(12,"i",17),c.qZA()()(),c._UZ(13,"hr"),c.TgZ(14,"p-tabView"),c.YNc(15,fs,3,2,"ng-container",2),c.ALo(16,"keyvalue"),c.qZA(),c._UZ(17,"hr"),c.TgZ(18,"div",18)(19,"div",12)(20,"p-button",13),c.NdJ("click",function(){return c.CHM(_),c.oxw().previousArgument()}),c._UZ(21,"i",14),c._uU(22),c.ALo(23,"translate"),c.qZA()(),c.TgZ(24,"div",15)(25,"p-button",16),c.NdJ("click",function(){return c.CHM(_),c.oxw().nextArgument()}),c._uU(26),c.ALo(27,"translate"),c._UZ(28,"i",17),c.qZA()()(),c.BQk()}if(2&H){const _=c.oxw();c.xp6(6),c.hij(" ",c.lcZ(7,5,"ContentBodyTutorial.buttonPrevious")," "),c.xp6(4),c.hij(" ",c.lcZ(11,7,"ContentBodyTutorial.buttonNext")," "),c.xp6(5),c.Q6J("ngForOf",c.lcZ(16,9,_.tabViewContents)),c.xp6(7),c.hij(" ",c.lcZ(23,11,"ContentBodyTutorial.buttonPrevious")," "),c.xp6(4),c.hij(" ",c.lcZ(27,13,"ContentBodyTutorial.buttonNext")," ")}}function Ds(H,Pe){if(1&H&&(c.TgZ(0,"div"),c._UZ(1,"div",20),c.qZA()),2&H){const _=Pe.$implicit;c.xp6(1),c.Q6J("innerHTML",_,c.oJD)}}function Ps(H,Pe){if(1&H){const _=c.EpF();c.TgZ(0,"div"),c._UZ(1,"br"),c.TgZ(2,"div",11)(3,"div",12)(4,"p-button",13),c.NdJ("click",function(){return c.CHM(_),c.oxw().previousArgument()}),c._UZ(5,"i",14),c._uU(6),c.ALo(7,"translate"),c.qZA()(),c.TgZ(8,"div",15)(9,"p-button",16),c.NdJ("click",function(){return c.CHM(_),c.oxw().nextArgument()}),c._uU(10),c.ALo(11,"translate"),c._UZ(12,"i",17),c.qZA()()(),c._UZ(13,"hr"),c.YNc(14,Ds,2,1,"div",2),c._UZ(15,"hr"),c.TgZ(16,"div",18)(17,"div",12)(18,"p-button",13),c.NdJ("click",function(){return c.CHM(_),c.oxw().previousArgument()}),c._UZ(19,"i",14),c._uU(20),c.ALo(21,"translate"),c.qZA()(),c.TgZ(22,"div",15)(23,"p-button",16),c.NdJ("click",function(){return c.CHM(_),c.oxw().nextArgument()}),c._uU(24),c.ALo(25,"translate"),c._UZ(26,"i",17),c.qZA()()()()}if(2&H){const _=c.oxw();c.xp6(6),c.hij(" ",c.lcZ(7,5,"ContentBodyTutorial.buttonPrevious")," "),c.xp6(4),c.hij(" ",c.lcZ(11,7,"ContentBodyTutorial.buttonNext")," "),c.xp6(4),c.Q6J("ngForOf",_.defaultContent),c.xp6(6),c.hij(" ",c.lcZ(21,9,"ContentBodyTutorial.buttonPrevious")," "),c.xp6(4),c.hij(" ",c.lcZ(25,11,"ContentBodyTutorial.buttonNext")," ")}}function Hn(H,Pe){if(1&H&&(c.TgZ(0,"div"),c._UZ(1,"hr")(2,"div",20),c.TgZ(3,"p"),c._uU(4),c.qZA(),c._UZ(5,"hr"),c.qZA()),2&H){const _=Pe.$implicit;c.xp6(2),c.Q6J("innerHTML",_.value,c.oJD),c.xp6(2),c.AsE(" ",_.key," --\x3e ",_.value,"")}}let Os=(()=>{class H{constructor(_,F,K){var Me,gt;this.chapterJavaService=_,this.viewContainerRef=F,this.sanitizer=K,this.defaultContent=[],this.tabViewContents=new Map,this._gridOptions=new Map,this.p="p",this.b="p-tabPanel",null===(Me=this.chapterJavaService.idChapterSubChanged$)||void 0===Me||Me.subscribe(un=>{console.log("sono nel body-contet. sotto capitolo cambiato: "+un),this.chapterJavaService.getPageBySubChapter(un).subscribe(wn=>{this.tabViewContents=new Map,this.defaultContent=[],console.log("nel subscribe "),console.log(wn),this.pageToShow=wn,this.createPage(this.pageToShow)})}),null===(gt=this.chapterJavaService.idChapterChanged$)||void 0===gt||gt.subscribe(un=>{console.log("sono nel body-contet. capitolo cambiato: "+un),this.chapterJavaService.getPageByChapter(un).subscribe(wn=>{this.tabViewContents=new Map,this.defaultContent=[],console.log(wn),this.pageToShow=wn,this.createPage(this.pageToShow)})})}ngOnInit(){this.chapterJavaService.getPageByChapter("1").subscribe(_=>{this.chapterJavaService.notifyChangeFromTutorialBodyContent("1"),console.log(_),this.pageToShow=_,this.createPage(this.pageToShow)})}createPage(_){var F;"p-tabView"==_.compontentsPage[0].componentType?(null===(F=_.compontentsPage)||void 0===F||F.forEach(K=>{var Me;console.log("page: "+K.componentType),null===(Me=K.childComponentsPageTutorialList)||void 0===Me||Me.forEach(gt=>{console.log("component: "+gt.componentContent)})}),console.log("finitoooooooooooooooooooooo"),this.createPageTabViewTemplate(_)):this.createPageDefaultTemplate(_),this.defaultContent.push("<ul>"),this.defaultContent.push("<li>ciso</li>"),this.defaultContent.push("<code><span>sono uno span del cazzo</span></code>"),this.defaultContent.push('<div class="subBodyContaine"><p>sono un paragrafo nel div</p></div>'),this.defaultContent.push("</ul>"),this.defaultContent.push('<div> <p-tabView> <p-tabPanel header="Header 1">Content 1</p-tabPanel> </p-tabView> </div>'),this.defaultContent.push("<p-tree>\n    asd\n    </p-tree>")}createPageDefaultTemplate(_){var F;null===(F=_.compontentsPage)||void 0===F||F.forEach(K=>{if(console.log("cazz "+K.componentType+"  "+K.childComponentsPageTutorialList+" "+K.standAlone+" "+K.parentComponentPageTutorial),K.childComponentsPageTutorialList.length>0){let Me="";Me=this.createInnestedComponent(K.childComponentsPageTutorialList),this.defaultContent.push(`<${K.componentType} class="${K.componentClassCss}" id=""${K.componentIdCss}>${Me}</${K.componentType}>`),console.log("contenuto su "+Me)}else this.defaultContent.push(`<${K.componentType} class="${K.componentClassCss}" id=""${K.componentIdCss}>${K.componentContent}</${K.componentType}>`)})}createPageTabViewTemplate(_){var F;null===(F=_.compontentsPage)||void 0===F||F.forEach(K=>{var Me;let gt="",un="";console.log("entro nei panel"),null===(Me=K.childComponentsPageTutorialList)||void 0===Me||Me.forEach(wn=>{let ti=[];void 0!==wn.tagOptions&&wn.tagOptions.length>0&&wn.tagOptions.forEach(L=>{un=""+L.optionValue}),gt=wn.childComponentsPageTutorialList.length>0?this.createInnestedComponent(wn.childComponentsPageTutorialList):wn.componentContent,ti.push(gt),ti.push("<p>sto <strong>cazzo</strong></p>"),this.tabViewContents.set(un,ti)})})}createInnestedComponent(_){let F="";return console.log("nel metodo"),_.forEach(K=>{if(console.log("foreach "+F),K.childComponentsPageTutorialList.length>0){let Me="";console.log("figli maggiorni di 0 con boolean:  "+K.standAlone),console.log("tag "+K.componentType),Me=this.createInnestedComponent(K.childComponentsPageTutorialList);let gt="";gt=this.createOptionsTag(K),F+=`<${K.componentType} class="${K.componentClassCss}" id=""${K.componentIdCss} ${gt}>${Me}</${K.componentType}>`}else{let Me="";Me=this.createOptionsTag(K),F+=`<${K.componentType} class="${K.componentClassCss}" id=""${K.componentIdCss} ${Me}>${K.componentContent}</${K.componentType}>`}}),console.log("nel metodo: "+F),F}createOptionsTag(_){var F;let K="";return console.log("nel metodo option "+_.tagOptions),null!=_.tagOptions&&_.tagOptions.length>0&&(null===(F=_.tagOptions)||void 0===F||F.forEach(Me=>{K=K+" "+Me.option+Me.optionValue})),K}previousArgument(){console.log("previous"),this.chapterJavaService.previousChapter("1")}nextArgument(){console.log("next"),this.chapterJavaService.nextChapter("1")}}return H.\u0275fac=function(_){return new(_||H)(c.Y36(xe),c.Y36(c.s_b),c.Y36(Zr.H7))},H.\u0275cmp=c.Xpm({type:H,selectors:[["app-tutorial-body-content"]],viewQuery:function(_,F){if(1&_&&(c.Gf(cr,5),c.Gf(rs,5,c.s_b)),2&_){let K;c.iGM(K=c.CRH())&&(F.iconButton=K.first),c.iGM(K=c.CRH())&&(F.viewContainerReff=K.first)}},decls:6,vars:6,consts:[[1,"tutorialBodyContent"],[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"skeleton"],["width","50%","height","2rem","styleClass","mb-2","borderRadius","16px"],["width","80%","styleClass","mb-2","borderRadius","16px"],["width","70%","styleClass","mb-1","borderRadius","16px"],["width","85%","styleClass","mb-2","borderRadius","16px"],["width","55%","styleClass","mb-2","borderRadius","16px"],["width","10rem","styleClass","mb-2","borderRadius","16px"],["width","5rem","styleClass","mb-2","borderRadius","16px"],[1,"buttonNavigate"],[1,"contentButtonPrevious"],[1,"buttonPrevious",3,"click"],[1,"pi","pi-angle-left"],[1,"contentButtonNext"],[1,"buttonNext",3,"click"],[1,"pi","pi-angle-right"],[1,"buttonNavigate","onTheBottom"],[3,"header"],[1,"article",3,"innerHTML"]],template:function(_,F){1&_&&(c.TgZ(0,"div",0),c.YNc(1,Ri,16,0,"div",1),c.YNc(2,Ei,29,15,"ng-container",1),c.YNc(3,Ps,27,13,"div",1),c.YNc(4,Hn,6,3,"div",2),c.ALo(5,"keyvalue"),c.qZA()),2&_&&(c.xp6(1),c.Q6J("ngIf",0==F.tabViewContents.size&&0==F.defaultContent.length),c.xp6(1),c.Q6J("ngIf",F.tabViewContents.size>0),c.xp6(1),c.Q6J("ngIf",!(F.tabViewContents.size>0)&&F.defaultContent.length>0),c.xp6(1),c.Q6J("ngForOf",c.lcZ(5,4,F._gridOptions)))},directives:[D.O5,me,Dn.zx,Kt,D.sg,sr],pipes:[oi.X$,D.Nd],styles:[".tutorialBodyContent .skeleton{margin:10px!important}hr{border:0;border-top:1px solid #eee;margin:20px 16px}.buttonNavigate{display:flex;justify-content:flex-end;align-items:center}.buttonNavigate .p-button{background-color:var(--navbar-color);transition:var(--transition-delay);color:var(--text-color);border:none}.buttonNavigate .p-button:enabled:hover{transition:var(--transition-delay-hover);background-color:var(--navbar-hover-component-color)!important;color:var(--text-color)}.buttonNavigate .p-button:enabled:focus{outline:0 none!important;outline-offset:0!important;box-shadow:none!important}.buttonNavigate .p-button:enabled:active{color:#13df3f;background-color:var(--navbar-color)!important}.contentButtonPrevious{margin-right:auto}.contentButtonPrevious .p-button{margin-left:30px}.contentButtonPrevious .p-button i{margin-right:7px;margin-top:3px}.contentButtonNext .p-button{margin-right:30px}.contentButtonNext .p-button i{margin-left:7px;margin-top:3px}.onTheBottom{margin-bottom:30px}.reddo{background-color:#000;color:red}.red{background-color:red;color:#fff}.headerTop{text-align:center;margin-top:10px}.topTitle{text-align:center}.subTitle{margin-left:20px}.subBodyContaine{margin-left:10px;margin-right:10px}ul.ui-tabview-nav li:first-child span,.ui-tabview-title{color:red}\n"],encapsulation:2}),H})();const gs=[{path:"code/java",component:(()=>{class H{constructor(_){this.router=_,this.router.events.subscribe(F=>{F instanceof X.m2&&window.scrollTo(0,0)})}ngOnInit(){this.router.events.subscribe(_=>{_ instanceof X.m2&&window.scrollTo(0,0)})}navigate(){this.router.navigate(["/auth/signin"])}}return H.\u0275fac=function(_){return new(_||H)(c.Y36(X.F0))},H.\u0275cmp=c.Xpm({type:H,selectors:[["app-global-content"]],decls:5,vars:0,consts:[[1,"globalContentTutorialContent"],[1,"contentSideBar"],[1,"contentTurorial"]],template:function(_,F){1&_&&(c.TgZ(0,"div",0)(1,"div",1),c._UZ(2,"app-side-bar"),c.qZA(),c.TgZ(3,"div",2),c._UZ(4,"app-tutorial-body-content"),c.qZA()())},directives:[Ui,Os],styles:[".globalContentTutorialContent[_ngcontent-%COMP%]{margin-top:250px;display:flex}.contentTurorial[_ngcontent-%COMP%]{background-color:#e6e6e6;height:100vp;width:100%;margin-left:15px;margin-right:15px;margin-bottom:15px;color:#000}"]}),H})()}];let ur=(()=>{class H{}return H.\u0275fac=function(_){return new(_||H)},H.\u0275mod=c.oAB({type:H}),H.\u0275inj=c.cJS({imports:[[X.Bz.forRoot(gs)],X.Bz]}),H})(),Cc=(()=>{class H{}return H.\u0275fac=function(_){return new(_||H)},H.\u0275mod=c.oAB({type:H}),H.\u0275inj=c.cJS({imports:[[D.ez,X.Bz,Ji.z],X.Bz,Ji.z]}),H})();var Io=z(487);let Nl=(()=>{class H{}return H.\u0275fac=function(_){return new(_||H)},H.\u0275mod=c.oAB({type:H}),H.\u0275inj=c.cJS({imports:[[D.ez,ur,Cc,Ar,Dn.hJ,zn,oe,oi.aw.forRoot({loader:{provide:oi.Zw,useFactory:Io.s,deps:[ee.eN]}})]]}),H})()},6246:(dn,tt,z)=>{var D=z(2313),X=z(7587),c=z(487);(0,X.G48)(),D.q6().bootstrapModule(c.b).catch(J=>console.error(J))},8306:(dn,tt,z)=>{z.d(tt,{y:()=>oe});var D=z(930),X=z(727),c=z(8822),$e=z(4671);var ee=z(2416),xe=z(576),me=z(2806);let oe=(()=>{class Ye{constructor(xt){xt&&(this._subscribe=xt)}lift(xt){const Fe=new Ye;return Fe.source=this,Fe.operator=xt,Fe}subscribe(xt,Fe,Ut){const _n=function st(Ye){return Ye&&Ye instanceof D.Lv||function Se(Ye){return Ye&&(0,xe.m)(Ye.next)&&(0,xe.m)(Ye.error)&&(0,xe.m)(Ye.complete)}(Ye)&&(0,X.Nn)(Ye)}(xt)?xt:new D.Hp(xt,Fe,Ut);return(0,me.x)(()=>{const{operator:Ht,source:Ft}=this;_n.add(Ht?Ht.call(_n,Ft):Ft?this._subscribe(_n):this._trySubscribe(_n))}),_n}_trySubscribe(xt){try{return this._subscribe(xt)}catch(Fe){xt.error(Fe)}}forEach(xt,Fe){return new(Fe=de(Fe))((Ut,_n)=>{const Ht=new D.Hp({next:Ft=>{try{xt(Ft)}catch(he){_n(he),Ht.unsubscribe()}},error:_n,complete:Ut});this.subscribe(Ht)})}_subscribe(xt){var Fe;return null===(Fe=this.source)||void 0===Fe?void 0:Fe.subscribe(xt)}[c.L](){return this}pipe(...xt){return function ae(Ye){return 0===Ye.length?$e.y:1===Ye.length?Ye[0]:function(xt){return Ye.reduce((Fe,Ut)=>Ut(Fe),xt)}}(xt)(this)}toPromise(xt){return new(xt=de(xt))((Fe,Ut)=>{let _n;this.subscribe(Ht=>_n=Ht,Ht=>Ut(Ht),()=>Fe(_n))})}}return Ye.create=Tt=>new Ye(Tt),Ye})();function de(Ye){var Tt;return null!==(Tt=null!=Ye?Ye:ee.v.Promise)&&void 0!==Tt?Tt:Promise}},7579:(dn,tt,z)=>{z.d(tt,{x:()=>ee});var D=z(8306),X=z(727);const $e=(0,z(3888).d)(me=>function(){me(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var J=z(8737),ae=z(2806);let ee=(()=>{class me extends D.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(de){const Se=new xe(this,this);return Se.operator=de,Se}_throwIfClosed(){if(this.closed)throw new $e}next(de){(0,ae.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Se of this.currentObservers)Se.next(de)}})}error(de){(0,ae.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=de;const{observers:Se}=this;for(;Se.length;)Se.shift().error(de)}})}complete(){(0,ae.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:de}=this;for(;de.length;)de.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var de;return(null===(de=this.observers)||void 0===de?void 0:de.length)>0}_trySubscribe(de){return this._throwIfClosed(),super._trySubscribe(de)}_subscribe(de){return this._throwIfClosed(),this._checkFinalizedStatuses(de),this._innerSubscribe(de)}_innerSubscribe(de){const{hasError:Se,isStopped:st,observers:Ye}=this;return Se||st?X.Lc:(this.currentObservers=null,Ye.push(de),new X.w0(()=>{this.currentObservers=null,(0,J.P)(Ye,de)}))}_checkFinalizedStatuses(de){const{hasError:Se,thrownError:st,isStopped:Ye}=this;Se?de.error(st):Ye&&de.complete()}asObservable(){const de=new D.y;return de.source=this,de}}return me.create=(oe,de)=>new xe(oe,de),me})();class xe extends ee{constructor(oe,de){super(),this.destination=oe,this.source=de}next(oe){var de,Se;null===(Se=null===(de=this.destination)||void 0===de?void 0:de.next)||void 0===Se||Se.call(de,oe)}error(oe){var de,Se;null===(Se=null===(de=this.destination)||void 0===de?void 0:de.error)||void 0===Se||Se.call(de,oe)}complete(){var oe,de;null===(de=null===(oe=this.destination)||void 0===oe?void 0:oe.complete)||void 0===de||de.call(oe)}_subscribe(oe){var de,Se;return null!==(Se=null===(de=this.source)||void 0===de?void 0:de.subscribe(oe))&&void 0!==Se?Se:X.Lc}}},930:(dn,tt,z)=>{z.d(tt,{Hp:()=>xt,Lv:()=>Se});var D=z(576),X=z(727),c=z(2416),$e=z(7849),J=z(5032);const ae=me("C",void 0,void 0);function me(Ft,he,Ct){return{kind:Ft,value:he,error:Ct}}var oe=z(3410),de=z(2806);class Se extends X.w0{constructor(he){super(),this.isStopped=!1,he?(this.destination=he,(0,X.Nn)(he)&&he.add(this)):this.destination=Ht}static create(he,Ct,_e){return new xt(he,Ct,_e)}next(he){this.isStopped?_n(function xe(Ft){return me("N",Ft,void 0)}(he),this):this._next(he)}error(he){this.isStopped?_n(function ee(Ft){return me("E",void 0,Ft)}(he),this):(this.isStopped=!0,this._error(he))}complete(){this.isStopped?_n(ae,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(he){this.destination.next(he)}_error(he){try{this.destination.error(he)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const st=Function.prototype.bind;function Ye(Ft,he){return st.call(Ft,he)}class Tt{constructor(he){this.partialObserver=he}next(he){const{partialObserver:Ct}=this;if(Ct.next)try{Ct.next(he)}catch(_e){Fe(_e)}}error(he){const{partialObserver:Ct}=this;if(Ct.error)try{Ct.error(he)}catch(_e){Fe(_e)}else Fe(he)}complete(){const{partialObserver:he}=this;if(he.complete)try{he.complete()}catch(Ct){Fe(Ct)}}}class xt extends Se{constructor(he,Ct,_e){let Oe;if(super(),(0,D.m)(he)||!he)Oe={next:null!=he?he:void 0,error:null!=Ct?Ct:void 0,complete:null!=_e?_e:void 0};else{let at;this&&c.v.useDeprecatedNextContext?(at=Object.create(he),at.unsubscribe=()=>this.unsubscribe(),Oe={next:he.next&&Ye(he.next,at),error:he.error&&Ye(he.error,at),complete:he.complete&&Ye(he.complete,at)}):Oe=he}this.destination=new Tt(Oe)}}function Fe(Ft){c.v.useDeprecatedSynchronousErrorHandling?(0,de.O)(Ft):(0,$e.h)(Ft)}function _n(Ft,he){const{onStoppedNotification:Ct}=c.v;Ct&&oe.z.setTimeout(()=>Ct(Ft,he))}const Ht={closed:!0,next:J.Z,error:function Ut(Ft){throw Ft},complete:J.Z}},727:(dn,tt,z)=>{z.d(tt,{Lc:()=>ae,w0:()=>J,Nn:()=>ee});var D=z(576);const c=(0,z(3888).d)(me=>function(de){me(this),this.message=de?`${de.length} errors occurred during unsubscription:\n${de.map((Se,st)=>`${st+1}) ${Se.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=de});var $e=z(8737);class J{constructor(oe){this.initialTeardown=oe,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let oe;if(!this.closed){this.closed=!0;const{_parentage:de}=this;if(de)if(this._parentage=null,Array.isArray(de))for(const Ye of de)Ye.remove(this);else de.remove(this);const{initialTeardown:Se}=this;if((0,D.m)(Se))try{Se()}catch(Ye){oe=Ye instanceof c?Ye.errors:[Ye]}const{_finalizers:st}=this;if(st){this._finalizers=null;for(const Ye of st)try{xe(Ye)}catch(Tt){oe=null!=oe?oe:[],Tt instanceof c?oe=[...oe,...Tt.errors]:oe.push(Tt)}}if(oe)throw new c(oe)}}add(oe){var de;if(oe&&oe!==this)if(this.closed)xe(oe);else{if(oe instanceof J){if(oe.closed||oe._hasParent(this))return;oe._addParent(this)}(this._finalizers=null!==(de=this._finalizers)&&void 0!==de?de:[]).push(oe)}}_hasParent(oe){const{_parentage:de}=this;return de===oe||Array.isArray(de)&&de.includes(oe)}_addParent(oe){const{_parentage:de}=this;this._parentage=Array.isArray(de)?(de.push(oe),de):de?[de,oe]:oe}_removeParent(oe){const{_parentage:de}=this;de===oe?this._parentage=null:Array.isArray(de)&&(0,$e.P)(de,oe)}remove(oe){const{_finalizers:de}=this;de&&(0,$e.P)(de,oe),oe instanceof J&&oe._removeParent(this)}}J.EMPTY=(()=>{const me=new J;return me.closed=!0,me})();const ae=J.EMPTY;function ee(me){return me instanceof J||me&&"closed"in me&&(0,D.m)(me.remove)&&(0,D.m)(me.add)&&(0,D.m)(me.unsubscribe)}function xe(me){(0,D.m)(me)?me():me.unsubscribe()}},2416:(dn,tt,z)=>{z.d(tt,{v:()=>D});const D={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},7272:(dn,tt,z)=>{z.d(tt,{z:()=>J});var D=z(8189),c=z(3269),$e=z(2076);function J(...ae){return function X(){return(0,D.J)(1)}()((0,$e.D)(ae,(0,c.yG)(ae)))}},9770:(dn,tt,z)=>{z.d(tt,{P:()=>c});var D=z(8306),X=z(8421);function c($e){return new D.y(J=>{(0,X.Xf)($e()).subscribe(J)})}},515:(dn,tt,z)=>{z.d(tt,{E:()=>X});const X=new(z(8306).y)(J=>J.complete())},4128:(dn,tt,z)=>{z.d(tt,{D:()=>xe});var D=z(8306),X=z(4742),c=z(8421),$e=z(3269),J=z(5403),ae=z(3268),ee=z(1810);function xe(...me){const oe=(0,$e.jO)(me),{args:de,keys:Se}=(0,X.D)(me),st=new D.y(Ye=>{const{length:Tt}=de;if(!Tt)return void Ye.complete();const xt=new Array(Tt);let Fe=Tt,Ut=Tt;for(let _n=0;_n<Tt;_n++){let Ht=!1;(0,c.Xf)(de[_n]).subscribe((0,J.x)(Ye,Ft=>{Ht||(Ht=!0,Ut--),xt[_n]=Ft},()=>Fe--,void 0,()=>{(!Fe||!Ht)&&(Ut||Ye.next(Se?(0,ee.n)(Se,xt):xt),Ye.complete())}))}});return oe?st.pipe((0,ae.Z)(oe)):st}},2076:(dn,tt,z)=>{z.d(tt,{D:()=>_e});var D=z(8421),X=z(9672),c=z(4482),$e=z(5403);function J(Oe,at=0){return(0,c.e)((Ne,Re)=>{Ne.subscribe((0,$e.x)(Re,Je=>(0,X.f)(Re,Oe,()=>Re.next(Je),at),()=>(0,X.f)(Re,Oe,()=>Re.complete(),at),Je=>(0,X.f)(Re,Oe,()=>Re.error(Je),at)))})}function ae(Oe,at=0){return(0,c.e)((Ne,Re)=>{Re.add(Oe.schedule(()=>Ne.subscribe(Re),at))})}var me=z(8306),de=z(2202),Se=z(576);function Ye(Oe,at){if(!Oe)throw new Error("Iterable cannot be null");return new me.y(Ne=>{(0,X.f)(Ne,at,()=>{const Re=Oe[Symbol.asyncIterator]();(0,X.f)(Ne,at,()=>{Re.next().then(Je=>{Je.done?Ne.complete():Ne.next(Je.value)})},0,!0)})})}var Tt=z(3670),xt=z(8239),Fe=z(1144),Ut=z(6495),_n=z(2206),Ht=z(4532),Ft=z(3260);function _e(Oe,at){return at?function Ct(Oe,at){if(null!=Oe){if((0,Tt.c)(Oe))return function ee(Oe,at){return(0,D.Xf)(Oe).pipe(ae(at),J(at))}(Oe,at);if((0,Fe.z)(Oe))return function oe(Oe,at){return new me.y(Ne=>{let Re=0;return at.schedule(function(){Re===Oe.length?Ne.complete():(Ne.next(Oe[Re++]),Ne.closed||this.schedule())})})}(Oe,at);if((0,xt.t)(Oe))return function xe(Oe,at){return(0,D.Xf)(Oe).pipe(ae(at),J(at))}(Oe,at);if((0,_n.D)(Oe))return Ye(Oe,at);if((0,Ut.T)(Oe))return function st(Oe,at){return new me.y(Ne=>{let Re;return(0,X.f)(Ne,at,()=>{Re=Oe[de.h](),(0,X.f)(Ne,at,()=>{let Je,et;try{({value:Je,done:et}=Re.next())}catch(_t){return void Ne.error(_t)}et?Ne.complete():Ne.next(Je)},0,!0)}),()=>(0,Se.m)(null==Re?void 0:Re.return)&&Re.return()})}(Oe,at);if((0,Ft.L)(Oe))return function he(Oe,at){return Ye((0,Ft.Q)(Oe),at)}(Oe,at)}throw(0,Ht.z)(Oe)}(Oe,at):(0,D.Xf)(Oe)}},8421:(dn,tt,z)=>{z.d(tt,{Xf:()=>st});var D=z(655),X=z(1144),c=z(8239),$e=z(8306),J=z(3670),ae=z(2206),ee=z(4532),xe=z(6495),me=z(3260),oe=z(576),de=z(7849),Se=z(8822);function st(Ft){if(Ft instanceof $e.y)return Ft;if(null!=Ft){if((0,J.c)(Ft))return function Ye(Ft){return new $e.y(he=>{const Ct=Ft[Se.L]();if((0,oe.m)(Ct.subscribe))return Ct.subscribe(he);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ft);if((0,X.z)(Ft))return function Tt(Ft){return new $e.y(he=>{for(let Ct=0;Ct<Ft.length&&!he.closed;Ct++)he.next(Ft[Ct]);he.complete()})}(Ft);if((0,c.t)(Ft))return function xt(Ft){return new $e.y(he=>{Ft.then(Ct=>{he.closed||(he.next(Ct),he.complete())},Ct=>he.error(Ct)).then(null,de.h)})}(Ft);if((0,ae.D)(Ft))return Ut(Ft);if((0,xe.T)(Ft))return function Fe(Ft){return new $e.y(he=>{for(const Ct of Ft)if(he.next(Ct),he.closed)return;he.complete()})}(Ft);if((0,me.L)(Ft))return function _n(Ft){return Ut((0,me.Q)(Ft))}(Ft)}throw(0,ee.z)(Ft)}function Ut(Ft){return new $e.y(he=>{(function Ht(Ft,he){var Ct,_e,Oe,at;return(0,D.mG)(this,void 0,void 0,function*(){try{for(Ct=(0,D.KL)(Ft);!(_e=yield Ct.next()).done;)if(he.next(_e.value),he.closed)return}catch(Ne){Oe={error:Ne}}finally{try{_e&&!_e.done&&(at=Ct.return)&&(yield at.call(Ct))}finally{if(Oe)throw Oe.error}}he.complete()})})(Ft,he).catch(Ct=>he.error(Ct))})}},9646:(dn,tt,z)=>{z.d(tt,{of:()=>c});var D=z(3269),X=z(2076);function c(...$e){const J=(0,D.yG)($e);return(0,X.D)($e,J)}},5403:(dn,tt,z)=>{z.d(tt,{x:()=>X});var D=z(930);function X($e,J,ae,ee,xe){return new c($e,J,ae,ee,xe)}class c extends D.Lv{constructor(J,ae,ee,xe,me,oe){super(J),this.onFinalize=me,this.shouldUnsubscribe=oe,this._next=ae?function(de){try{ae(de)}catch(Se){J.error(Se)}}:super._next,this._error=xe?function(de){try{xe(de)}catch(Se){J.error(Se)}finally{this.unsubscribe()}}:super._error,this._complete=ee?function(){try{ee()}catch(de){J.error(de)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var J;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ae}=this;super.unsubscribe(),!ae&&(null===(J=this.onFinalize)||void 0===J||J.call(this))}}}},4351:(dn,tt,z)=>{z.d(tt,{b:()=>c});var D=z(5577),X=z(576);function c($e,J){return(0,X.m)(J)?(0,D.z)($e,J,1):(0,D.z)($e,1)}},9300:(dn,tt,z)=>{z.d(tt,{h:()=>c});var D=z(4482),X=z(5403);function c($e,J){return(0,D.e)((ae,ee)=>{let xe=0;ae.subscribe((0,X.x)(ee,me=>$e.call(J,me,xe++)&&ee.next(me)))})}},4004:(dn,tt,z)=>{z.d(tt,{U:()=>c});var D=z(4482),X=z(5403);function c($e,J){return(0,D.e)((ae,ee)=>{let xe=0;ae.subscribe((0,X.x)(ee,me=>{ee.next($e.call(J,me,xe++))}))})}},8189:(dn,tt,z)=>{z.d(tt,{J:()=>c});var D=z(5577),X=z(4671);function c($e=1/0){return(0,D.z)(X.y,$e)}},5577:(dn,tt,z)=>{z.d(tt,{z:()=>xe});var D=z(4004),X=z(8421),c=z(4482),$e=z(9672),J=z(5403),ee=z(576);function xe(me,oe,de=1/0){return(0,ee.m)(oe)?xe((Se,st)=>(0,D.U)((Ye,Tt)=>oe(Se,Ye,st,Tt))((0,X.Xf)(me(Se,st))),de):("number"==typeof oe&&(de=oe),(0,c.e)((Se,st)=>function ae(me,oe,de,Se,st,Ye,Tt,xt){const Fe=[];let Ut=0,_n=0,Ht=!1;const Ft=()=>{Ht&&!Fe.length&&!Ut&&oe.complete()},he=_e=>Ut<Se?Ct(_e):Fe.push(_e),Ct=_e=>{Ye&&oe.next(_e),Ut++;let Oe=!1;(0,X.Xf)(de(_e,_n++)).subscribe((0,J.x)(oe,at=>{null==st||st(at),Ye?he(at):oe.next(at)},()=>{Oe=!0},void 0,()=>{if(Oe)try{for(Ut--;Fe.length&&Ut<Se;){const at=Fe.shift();Tt?(0,$e.f)(oe,Tt,()=>Ct(at)):Ct(at)}Ft()}catch(at){oe.error(at)}}))};return me.subscribe((0,J.x)(oe,he,()=>{Ht=!0,Ft()})),()=>{null==xt||xt()}}(Se,st,me,de)))}},3099:(dn,tt,z)=>{z.d(tt,{B:()=>ae});var D=z(2076),X=z(5698),c=z(7579),$e=z(930),J=z(4482);function ae(xe={}){const{connector:me=(()=>new c.x),resetOnError:oe=!0,resetOnComplete:de=!0,resetOnRefCountZero:Se=!0}=xe;return st=>{let Ye=null,Tt=null,xt=null,Fe=0,Ut=!1,_n=!1;const Ht=()=>{null==Tt||Tt.unsubscribe(),Tt=null},Ft=()=>{Ht(),Ye=xt=null,Ut=_n=!1},he=()=>{const Ct=Ye;Ft(),null==Ct||Ct.unsubscribe()};return(0,J.e)((Ct,_e)=>{Fe++,!_n&&!Ut&&Ht();const Oe=xt=null!=xt?xt:me();_e.add(()=>{Fe--,0===Fe&&!_n&&!Ut&&(Tt=ee(he,Se))}),Oe.subscribe(_e),Ye||(Ye=new $e.Hp({next:at=>Oe.next(at),error:at=>{_n=!0,Ht(),Tt=ee(Ft,oe,at),Oe.error(at)},complete:()=>{Ut=!0,Ht(),Tt=ee(Ft,de),Oe.complete()}}),(0,D.D)(Ct).subscribe(Ye))})(st)}}function ee(xe,me,...oe){return!0===me?(xe(),null):!1===me?null:me(...oe).pipe((0,X.q)(1)).subscribe(()=>xe())}},3151:(dn,tt,z)=>{z.d(tt,{d:()=>J});var D=z(7579),X=z(6063);class c extends D.x{constructor(ee=1/0,xe=1/0,me=X.l){super(),this._bufferSize=ee,this._windowTime=xe,this._timestampProvider=me,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=xe===1/0,this._bufferSize=Math.max(1,ee),this._windowTime=Math.max(1,xe)}next(ee){const{isStopped:xe,_buffer:me,_infiniteTimeWindow:oe,_timestampProvider:de,_windowTime:Se}=this;xe||(me.push(ee),!oe&&me.push(de.now()+Se)),this._trimBuffer(),super.next(ee)}_subscribe(ee){this._throwIfClosed(),this._trimBuffer();const xe=this._innerSubscribe(ee),{_infiniteTimeWindow:me,_buffer:oe}=this,de=oe.slice();for(let Se=0;Se<de.length&&!ee.closed;Se+=me?1:2)ee.next(de[Se]);return this._checkFinalizedStatuses(ee),xe}_trimBuffer(){const{_bufferSize:ee,_timestampProvider:xe,_buffer:me,_infiniteTimeWindow:oe}=this,de=(oe?1:2)*ee;if(ee<1/0&&de<me.length&&me.splice(0,me.length-de),!oe){const Se=xe.now();let st=0;for(let Ye=1;Ye<me.length&&me[Ye]<=Se;Ye+=2)st=Ye;st&&me.splice(0,st+1)}}}var $e=z(3099);function J(ae,ee,xe){let me,oe=!1;return ae&&"object"==typeof ae?({bufferSize:me=1/0,windowTime:ee=1/0,refCount:oe=!1,scheduler:xe}=ae):me=null!=ae?ae:1/0,(0,$e.B)({connector:()=>new c(me,ee,xe),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:oe})}},8675:(dn,tt,z)=>{z.d(tt,{O:()=>$e});var D=z(7272),X=z(3269),c=z(4482);function $e(...J){const ae=(0,X.yG)(J);return(0,c.e)((ee,xe)=>{(ae?(0,D.z)(J,ee,ae):(0,D.z)(J,ee)).subscribe(xe)})}},3900:(dn,tt,z)=>{z.d(tt,{w:()=>$e});var D=z(8421),X=z(4482),c=z(5403);function $e(J,ae){return(0,X.e)((ee,xe)=>{let me=null,oe=0,de=!1;const Se=()=>de&&!me&&xe.complete();ee.subscribe((0,c.x)(xe,st=>{null==me||me.unsubscribe();let Ye=0;const Tt=oe++;(0,D.Xf)(J(st,Tt)).subscribe(me=(0,c.x)(xe,xt=>xe.next(ae?ae(st,xt,Tt,Ye++):xt),()=>{me=null,Se()}))},()=>{de=!0,Se()}))})}},5698:(dn,tt,z)=>{z.d(tt,{q:()=>$e});var D=z(515),X=z(4482),c=z(5403);function $e(J){return J<=0?()=>D.E:(0,X.e)((ae,ee)=>{let xe=0;ae.subscribe((0,c.x)(ee,me=>{++xe<=J&&(ee.next(me),J<=xe&&ee.complete())}))})}},6063:(dn,tt,z)=>{z.d(tt,{l:()=>D});const D={now:()=>(D.delegate||Date).now(),delegate:void 0}},3410:(dn,tt,z)=>{z.d(tt,{z:()=>D});const D={setTimeout(X,c,...$e){const{delegate:J}=D;return(null==J?void 0:J.setTimeout)?J.setTimeout(X,c,...$e):setTimeout(X,c,...$e)},clearTimeout(X){const{delegate:c}=D;return((null==c?void 0:c.clearTimeout)||clearTimeout)(X)},delegate:void 0}},2202:(dn,tt,z)=>{z.d(tt,{h:()=>X});const X=function D(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(dn,tt,z)=>{z.d(tt,{L:()=>D});const D="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(dn,tt,z)=>{z.d(tt,{_6:()=>ae,jO:()=>$e,yG:()=>J});var D=z(576),X=z(3532);function c(ee){return ee[ee.length-1]}function $e(ee){return(0,D.m)(c(ee))?ee.pop():void 0}function J(ee){return(0,X.K)(c(ee))?ee.pop():void 0}function ae(ee,xe){return"number"==typeof c(ee)?ee.pop():xe}},4742:(dn,tt,z)=>{z.d(tt,{D:()=>J});const{isArray:D}=Array,{getPrototypeOf:X,prototype:c,keys:$e}=Object;function J(ee){if(1===ee.length){const xe=ee[0];if(D(xe))return{args:xe,keys:null};if(function ae(ee){return ee&&"object"==typeof ee&&X(ee)===c}(xe)){const me=$e(xe);return{args:me.map(oe=>xe[oe]),keys:me}}}return{args:ee,keys:null}}},8737:(dn,tt,z)=>{function D(X,c){if(X){const $e=X.indexOf(c);0<=$e&&X.splice($e,1)}}z.d(tt,{P:()=>D})},3888:(dn,tt,z)=>{function D(X){const $e=X(J=>{Error.call(J),J.stack=(new Error).stack});return $e.prototype=Object.create(Error.prototype),$e.prototype.constructor=$e,$e}z.d(tt,{d:()=>D})},1810:(dn,tt,z)=>{function D(X,c){return X.reduce(($e,J,ae)=>($e[J]=c[ae],$e),{})}z.d(tt,{n:()=>D})},2806:(dn,tt,z)=>{z.d(tt,{O:()=>$e,x:()=>c});var D=z(2416);let X=null;function c(J){if(D.v.useDeprecatedSynchronousErrorHandling){const ae=!X;if(ae&&(X={errorThrown:!1,error:null}),J(),ae){const{errorThrown:ee,error:xe}=X;if(X=null,ee)throw xe}}else J()}function $e(J){D.v.useDeprecatedSynchronousErrorHandling&&X&&(X.errorThrown=!0,X.error=J)}},9672:(dn,tt,z)=>{function D(X,c,$e,J=0,ae=!1){const ee=c.schedule(function(){$e(),ae?X.add(this.schedule(null,J)):this.unsubscribe()},J);if(X.add(ee),!ae)return ee}z.d(tt,{f:()=>D})},4671:(dn,tt,z)=>{function D(X){return X}z.d(tt,{y:()=>D})},1144:(dn,tt,z)=>{z.d(tt,{z:()=>D});const D=X=>X&&"number"==typeof X.length&&"function"!=typeof X},2206:(dn,tt,z)=>{z.d(tt,{D:()=>X});var D=z(576);function X(c){return Symbol.asyncIterator&&(0,D.m)(null==c?void 0:c[Symbol.asyncIterator])}},576:(dn,tt,z)=>{function D(X){return"function"==typeof X}z.d(tt,{m:()=>D})},3670:(dn,tt,z)=>{z.d(tt,{c:()=>c});var D=z(8822),X=z(576);function c($e){return(0,X.m)($e[D.L])}},6495:(dn,tt,z)=>{z.d(tt,{T:()=>c});var D=z(2202),X=z(576);function c($e){return(0,X.m)(null==$e?void 0:$e[D.h])}},5191:(dn,tt,z)=>{z.d(tt,{b:()=>c});var D=z(8306),X=z(576);function c($e){return!!$e&&($e instanceof D.y||(0,X.m)($e.lift)&&(0,X.m)($e.subscribe))}},8239:(dn,tt,z)=>{z.d(tt,{t:()=>X});var D=z(576);function X(c){return(0,D.m)(null==c?void 0:c.then)}},3260:(dn,tt,z)=>{z.d(tt,{L:()=>$e,Q:()=>c});var D=z(655),X=z(576);function c(J){return(0,D.FC)(this,arguments,function*(){const ee=J.getReader();try{for(;;){const{value:xe,done:me}=yield(0,D.qq)(ee.read());if(me)return yield(0,D.qq)(void 0);yield yield(0,D.qq)(xe)}}finally{ee.releaseLock()}})}function $e(J){return(0,X.m)(null==J?void 0:J.getReader)}},3532:(dn,tt,z)=>{z.d(tt,{K:()=>X});var D=z(576);function X(c){return c&&(0,D.m)(c.schedule)}},4482:(dn,tt,z)=>{z.d(tt,{A:()=>X,e:()=>c});var D=z(576);function X($e){return(0,D.m)(null==$e?void 0:$e.lift)}function c($e){return J=>{if(X(J))return J.lift(function(ae){try{return $e(ae,this)}catch(ee){this.error(ee)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(dn,tt,z)=>{z.d(tt,{Z:()=>$e});var D=z(4004);const{isArray:X}=Array;function $e(J){return(0,D.U)(ae=>function c(J,ae){return X(ae)?J(...ae):J(ae)}(J,ae))}},5032:(dn,tt,z)=>{function D(){}z.d(tt,{Z:()=>D})},7849:(dn,tt,z)=>{z.d(tt,{h:()=>c});var D=z(2416),X=z(3410);function c($e){X.z.setTimeout(()=>{const{onUnhandledError:J}=D.v;if(!J)throw $e;J($e)})}},4532:(dn,tt,z)=>{function D(X){return new TypeError(`You provided ${null!==X&&"object"==typeof X?"an invalid object":`'${X}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}z.d(tt,{z:()=>D})},655:(dn,tt,z)=>{function xe(Ne,Re,Je,et){return new(Je||(Je=Promise))(function(Ge,rt){function Zt(Bt){try{qe(et.next(Bt))}catch(tn){rt(tn)}}function be(Bt){try{qe(et.throw(Bt))}catch(tn){rt(tn)}}function qe(Bt){Bt.done?Ge(Bt.value):function _t(Ge){return Ge instanceof Je?Ge:new Je(function(rt){rt(Ge)})}(Bt.value).then(Zt,be)}qe((et=et.apply(Ne,Re||[])).next())})}function Fe(Ne){return this instanceof Fe?(this.v=Ne,this):new Fe(Ne)}function Ut(Ne,Re,Je){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var _t,et=Je.apply(Ne,Re||[]),Ge=[];return _t={},rt("next"),rt("throw"),rt("return"),_t[Symbol.asyncIterator]=function(){return this},_t;function rt(An){et[An]&&(_t[An]=function(ui){return new Promise(function(ri,ln){Ge.push([An,ui,ri,ln])>1||Zt(An,ui)})})}function Zt(An,ui){try{!function be(An){An.value instanceof Fe?Promise.resolve(An.value.v).then(qe,Bt):tn(Ge[0][2],An)}(et[An](ui))}catch(ri){tn(Ge[0][3],ri)}}function qe(An){Zt("next",An)}function Bt(An){Zt("throw",An)}function tn(An,ui){An(ui),Ge.shift(),Ge.length&&Zt(Ge[0][0],Ge[0][1])}}function Ht(Ne){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Je,Re=Ne[Symbol.asyncIterator];return Re?Re.call(Ne):(Ne=function Se(Ne){var Re="function"==typeof Symbol&&Symbol.iterator,Je=Re&&Ne[Re],et=0;if(Je)return Je.call(Ne);if(Ne&&"number"==typeof Ne.length)return{next:function(){return Ne&&et>=Ne.length&&(Ne=void 0),{value:Ne&&Ne[et++],done:!Ne}}};throw new TypeError(Re?"Object is not iterable.":"Symbol.iterator is not defined.")}(Ne),Je={},et("next"),et("throw"),et("return"),Je[Symbol.asyncIterator]=function(){return this},Je);function et(Ge){Je[Ge]=Ne[Ge]&&function(rt){return new Promise(function(Zt,be){!function _t(Ge,rt,Zt,be){Promise.resolve(be).then(function(qe){Ge({value:qe,done:Zt})},rt)}(Zt,be,(rt=Ne[Ge](rt)).done,rt.value)})}}}z.d(tt,{FC:()=>Ut,KL:()=>Ht,mG:()=>xe,qq:()=>Fe})},2392:(dn,tt,z)=>{z.d(tt,{xd:()=>Ri,x0:()=>Hi,N7:()=>gs,Cl:()=>qr});var D=z(7587);function c(ge,te=0){return function $e(ge){return!isNaN(parseFloat(ge))&&!isNaN(Number(ge))}(ge)?Number(ge):te}var me=z(8421),oe=z(8306),de=z(5577),Se=z(1144),st=z(576),Ye=z(3268);const Tt=["addListener","removeListener"],xt=["addEventListener","removeEventListener"],Fe=["on","off"];function Ut(ge,te,W,ye){if((0,st.m)(W)&&(ye=W,W=void 0),ye)return Ut(ge,te,W).pipe((0,Ye.Z)(ye));const[Xe,ht]=function he(ge){return(0,st.m)(ge.addEventListener)&&(0,st.m)(ge.removeEventListener)}(ge)?xt.map(sn=>Yn=>ge[sn](te,Yn,W)):function Ht(ge){return(0,st.m)(ge.addListener)&&(0,st.m)(ge.removeListener)}(ge)?Tt.map(_n(ge,te)):function Ft(ge){return(0,st.m)(ge.on)&&(0,st.m)(ge.off)}(ge)?Fe.map(_n(ge,te)):[];if(!Xe&&(0,Se.z)(ge))return(0,de.z)(sn=>Ut(sn,te,W))((0,me.Xf)(ge));if(!Xe)throw new TypeError("Invalid event target");return new oe.y(sn=>{const Yn=(...mn)=>sn.next(1<mn.length?mn:mn[0]);return Xe(Yn),()=>ht(Yn)})}function _n(ge,te){return W=>ye=>ge[W](te,ye)}var Ct=z(727);class _e extends Ct.w0{constructor(te,W){super()}schedule(te,W=0){return this}}const Oe={setInterval(ge,te,...W){const{delegate:ye}=Oe;return(null==ye?void 0:ye.setInterval)?ye.setInterval(ge,te,...W):setInterval(ge,te,...W)},clearInterval(ge){const{delegate:te}=Oe;return((null==te?void 0:te.clearInterval)||clearInterval)(ge)},delegate:void 0};var at=z(8737);class Ne extends _e{constructor(te,W){super(te,W),this.scheduler=te,this.work=W,this.pending=!1}schedule(te,W=0){if(this.closed)return this;this.state=te;const ye=this.id,Xe=this.scheduler;return null!=ye&&(this.id=this.recycleAsyncId(Xe,ye,W)),this.pending=!0,this.delay=W,this.id=this.id||this.requestAsyncId(Xe,this.id,W),this}requestAsyncId(te,W,ye=0){return Oe.setInterval(te.flush.bind(te,this),ye)}recycleAsyncId(te,W,ye=0){if(null!=ye&&this.delay===ye&&!1===this.pending)return W;Oe.clearInterval(W)}execute(te,W){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ye=this._execute(te,W);if(ye)return ye;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(te,W){let Xe,ye=!1;try{this.work(te)}catch(ht){ye=!0,Xe=ht||new Error("Scheduled action threw falsy error")}if(ye)return this.unsubscribe(),Xe}unsubscribe(){if(!this.closed){const{id:te,scheduler:W}=this,{actions:ye}=W;this.work=this.state=this.scheduler=null,this.pending=!1,(0,at.P)(ye,this),null!=te&&(this.id=this.recycleAsyncId(W,te,null)),this.delay=null,super.unsubscribe()}}}const Re={schedule(ge){let te=requestAnimationFrame,W=cancelAnimationFrame;const{delegate:ye}=Re;ye&&(te=ye.requestAnimationFrame,W=ye.cancelAnimationFrame);const Xe=te(ht=>{W=void 0,ge(ht)});return new Ct.w0(()=>null==W?void 0:W(Xe))},requestAnimationFrame(...ge){const{delegate:te}=Re;return((null==te?void 0:te.requestAnimationFrame)||requestAnimationFrame)(...ge)},cancelAnimationFrame(...ge){const{delegate:te}=Re;return((null==te?void 0:te.cancelAnimationFrame)||cancelAnimationFrame)(...ge)},delegate:void 0};var et=z(6063);class _t{constructor(te,W=_t.now){this.schedulerActionCtor=te,this.now=W}schedule(te,W=0,ye){return new this.schedulerActionCtor(this,te).schedule(ye,W)}}_t.now=et.l.now;class Ge extends _t{constructor(te,W=_t.now){super(te,W),this.actions=[],this._active=!1,this._scheduled=void 0}flush(te){const{actions:W}=this;if(this._active)return void W.push(te);let ye;this._active=!0;do{if(ye=te.execute(te.state,te.delay))break}while(te=W.shift());if(this._active=!1,ye){for(;te=W.shift();)te.unsubscribe();throw ye}}}const Zt=new class rt extends Ge{flush(te){this._active=!0;const W=this._scheduled;this._scheduled=void 0;const{actions:ye}=this;let Xe;te=te||ye.shift();do{if(Xe=te.execute(te.state,te.delay))break}while((te=ye[0])&&te.id===W&&ye.shift());if(this._active=!1,Xe){for(;(te=ye[0])&&te.id===W&&ye.shift();)te.unsubscribe();throw Xe}}}(class Je extends Ne{constructor(te,W){super(te,W),this.scheduler=te,this.work=W}requestAsyncId(te,W,ye=0){return null!==ye&&ye>0?super.requestAsyncId(te,W,ye):(te.actions.push(this),te._scheduled||(te._scheduled=Re.requestAnimationFrame(()=>te.flush(void 0))))}recycleAsyncId(te,W,ye=0){if(null!=ye&&ye>0||null==ye&&this.delay>0)return super.recycleAsyncId(te,W,ye);te.actions.some(Xe=>Xe.id===W)||(Re.cancelAnimationFrame(W),te._scheduled=void 0)}});let Bt,qe=1;const tn={};function An(ge){return ge in tn&&(delete tn[ge],!0)}const ui={setImmediate(ge){const te=qe++;return tn[te]=!0,Bt||(Bt=Promise.resolve()),Bt.then(()=>An(te)&&ge()),te},clearImmediate(ge){An(ge)}},{setImmediate:ln,clearImmediate:Zi}=ui,Vi={setImmediate(...ge){const{delegate:te}=Vi;return((null==te?void 0:te.setImmediate)||ln)(...ge)},clearImmediate(ge){const{delegate:te}=Vi;return((null==te?void 0:te.clearImmediate)||Zi)(ge)},delegate:void 0},Es=new class si extends Ge{flush(te){this._active=!0;const W=this._scheduled;this._scheduled=void 0;const{actions:ye}=this;let Xe;te=te||ye.shift();do{if(Xe=te.execute(te.state,te.delay))break}while((te=ye[0])&&te.id===W&&ye.shift());if(this._active=!1,Xe){for(;(te=ye[0])&&te.id===W&&ye.shift();)te.unsubscribe();throw Xe}}}(class Sr extends Ne{constructor(te,W){super(te,W),this.scheduler=te,this.work=W}requestAsyncId(te,W,ye=0){return null!==ye&&ye>0?super.requestAsyncId(te,W,ye):(te.actions.push(this),te._scheduled||(te._scheduled=Vi.setImmediate(te.flush.bind(te,void 0))))}recycleAsyncId(te,W,ye=0){if(null!=ye&&ye>0||null==ye&&this.delay>0)return super.recycleAsyncId(te,W,ye);te.actions.some(Xe=>Xe.id===W)||(Vi.clearImmediate(W),te._scheduled=void 0)}});var Si=z(7579),jr=z(9646),Cr=z(5191),eo=z(4671),$r=z(4482),ns=z(5403);function cs(ge,te){return ge===te}const to=new Ge(Ne),En=to;var Ee=z(3532);function ft(ge,te=to){return function At(ge){return(0,$r.e)((te,W)=>{let ye=!1,Xe=null,ht=null,sn=!1;const Yn=()=>{if(null==ht||ht.unsubscribe(),ht=null,ye){ye=!1;const Mn=Xe;Xe=null,W.next(Mn)}sn&&W.complete()},mn=()=>{ht=null,sn&&W.complete()};te.subscribe((0,ns.x)(W,Mn=>{ye=!0,Xe=Mn,ht||(0,me.Xf)(ge(Mn)).subscribe(ht=(0,ns.x)(W,Yn,mn))},()=>{sn=!0,(!ye||!ht||ht.closed)&&W.complete()}))})}(()=>function Dt(ge=0,te,W=En){let ye=-1;return null!=te&&((0,Ee.K)(te)?W=te:ye=te),new oe.y(Xe=>{let ht=function we(ge){return ge instanceof Date&&!isNaN(ge)}(ge)?+ge-W.now():ge;ht<0&&(ht=0);let sn=0;return W.schedule(function(){Xe.closed||(Xe.next(sn++),0<=ye?this.schedule(void 0,ye):Xe.complete())},ht)})}(ge,te))}var wt=z(5032);function zt(ge){return(0,$r.e)((te,W)=>{(0,me.Xf)(ge).subscribe((0,ns.x)(W,()=>W.complete(),wt.Z)),!W.closed&&te.subscribe(W)})}var jn=z(9300),Rn=z(8675),zi=z(3900),Ti=z(3151),Ki=z(9808);let vn;try{vn="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(ge){vn=!1}let fi,Ui,Sn=(()=>{class ge{constructor(W){this._platformId=W,this.isBrowser=this._platformId?(0,Ki.NF)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!vn)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return ge.\u0275fac=function(W){return new(W||ge)(D.LFG(D.Lbi))},ge.\u0275prov=D.Yz7({token:ge,factory:ge.\u0275fac,providedIn:"root"}),ge})();function Ji(){if("object"!=typeof document||!document)return 0;if(null==fi){const ge=document.createElement("div"),te=ge.style;ge.dir="rtl",te.width="1px",te.overflow="auto",te.visibility="hidden",te.pointerEvents="none",te.position="absolute";const W=document.createElement("div"),ye=W.style;ye.width="2px",ye.height="1px",ge.appendChild(W),document.body.appendChild(ge),fi=0,0===ge.scrollLeft&&(ge.scrollLeft=1,fi=0===ge.scrollLeft?1:2),ge.remove()}return fi}const mt=new D.OlP("cdk-dir-doc",{providedIn:"root",factory:function kt(){return(0,D.f3M)(Ki.K0)}}),Fn=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let Xn=(()=>{class ge{constructor(W){if(this.value="ltr",this.change=new D.vpe,W){const Xe=W.documentElement?W.documentElement.dir:null;this.value=function Gi(ge){const te=(null==ge?void 0:ge.toLowerCase())||"";return"auto"===te&&"undefined"!=typeof navigator&&(null==navigator?void 0:navigator.language)?Fn.test(navigator.language)?"rtl":"ltr":"rtl"===te?"rtl":"ltr"}((W.body?W.body.dir:null)||Xe||"ltr")}}ngOnDestroy(){this.change.complete()}}return ge.\u0275fac=function(W){return new(W||ge)(D.LFG(mt,8))},ge.\u0275prov=D.Yz7({token:ge,factory:ge.\u0275fac,providedIn:"root"}),ge})(),Nr=(()=>{class ge{}return ge.\u0275fac=function(W){return new(W||ge)},ge.\u0275mod=D.oAB({type:ge}),ge.\u0275inj=D.cJS({}),ge})();class ds extends class Ir{}{constructor(te){super(),this._data=te}connect(){return(0,Cr.b)(this._data)?this._data:(0,jr.of)(this._data)}disconnect(){}}class Fr{constructor(){this.viewCacheSize=20,this._viewCache=[]}applyChanges(te,W,ye,Xe,ht){te.forEachOperation((sn,Yn,mn)=>{let Mn,Br;null==sn.previousIndex?(Mn=this._insertView(()=>ye(sn,Yn,mn),mn,W,Xe(sn)),Br=Mn?1:0):null==mn?(this._detachAndCacheView(Yn,W),Br=3):(Mn=this._moveView(Yn,mn,W,Xe(sn)),Br=2),ht&&ht({context:null==Mn?void 0:Mn.context,operation:Br,record:sn})})}detach(){for(const te of this._viewCache)te.destroy();this._viewCache=[]}_insertView(te,W,ye,Xe){const ht=this._insertViewFromCache(W,ye);if(ht)return void(ht.context.$implicit=Xe);const sn=te();return ye.createEmbeddedView(sn.templateRef,sn.context,sn.index)}_detachAndCacheView(te,W){const ye=W.detach(te);this._maybeCacheView(ye,W)}_moveView(te,W,ye,Xe){const ht=ye.get(te);return ye.move(ht,W),ht.context.$implicit=Xe,ht}_maybeCacheView(te,W){if(this._viewCache.length<this.viewCacheSize)this._viewCache.push(te);else{const ye=W.indexOf(te);-1===ye?te.destroy():W.remove(ye)}}_insertViewFromCache(te,W){const ye=this._viewCache.pop();return ye&&W.insert(ye,te),ye||null}}const sr=new D.OlP("_ViewRepeater"),Kt=["contentWrapper"],zn=["*"],oi=new D.OlP("VIRTUAL_SCROLL_STRATEGY");class cr{constructor(te,W,ye){this._scrolledIndexChange=new Si.x,this.scrolledIndexChange=this._scrolledIndexChange.pipe(function ir(ge,te=eo.y){return ge=null!=ge?ge:cs,(0,$r.e)((W,ye)=>{let Xe,ht=!0;W.subscribe((0,ns.x)(ye,sn=>{const Yn=te(sn);(ht||!ge(Xe,Yn))&&(ht=!1,Xe=Yn,ye.next(sn))}))})}()),this._viewport=null,this._itemSize=te,this._minBufferPx=W,this._maxBufferPx=ye}attach(te){this._viewport=te,this._updateTotalContentSize(),this._updateRenderedRange()}detach(){this._scrolledIndexChange.complete(),this._viewport=null}updateItemAndBufferSize(te,W,ye){this._itemSize=te,this._minBufferPx=W,this._maxBufferPx=ye,this._updateTotalContentSize(),this._updateRenderedRange()}onContentScrolled(){this._updateRenderedRange()}onDataLengthChanged(){this._updateTotalContentSize(),this._updateRenderedRange()}onContentRendered(){}onRenderedOffsetChanged(){}scrollToIndex(te,W){this._viewport&&this._viewport.scrollToOffset(te*this._itemSize,W)}_updateTotalContentSize(){!this._viewport||this._viewport.setTotalContentSize(this._viewport.getDataLength()*this._itemSize)}_updateRenderedRange(){if(!this._viewport)return;const te=this._viewport.getRenderedRange(),W={start:te.start,end:te.end},ye=this._viewport.getViewportSize(),Xe=this._viewport.getDataLength();let ht=this._viewport.measureScrollOffset(),sn=this._itemSize>0?ht/this._itemSize:0;if(W.end>Xe){const mn=Math.ceil(ye/this._itemSize),Mn=Math.max(0,Math.min(sn,Xe-mn));sn!=Mn&&(sn=Mn,ht=Mn*this._itemSize,W.start=Math.floor(sn)),W.end=Math.max(0,Math.min(Xe,W.start+mn))}const Yn=ht-W.start*this._itemSize;if(Yn<this._minBufferPx&&0!=W.start){const mn=Math.ceil((this._maxBufferPx-Yn)/this._itemSize);W.start=Math.max(0,W.start-mn),W.end=Math.min(Xe,Math.ceil(sn+(ye+this._minBufferPx)/this._itemSize))}else{const mn=W.end*this._itemSize-(ht+ye);if(mn<this._minBufferPx&&W.end!=Xe){const Mn=Math.ceil((this._maxBufferPx-mn)/this._itemSize);Mn>0&&(W.end=Math.min(Xe,W.end+Mn),W.start=Math.max(0,Math.floor(sn-this._minBufferPx/this._itemSize)))}}this._viewport.setRenderedRange(W),this._viewport.setRenderedContentOffset(this._itemSize*W.start),this._scrolledIndexChange.next(Math.floor(sn))}}function rs(ge){return ge._scrollStrategy}let Ri=(()=>{class ge{constructor(){this._itemSize=20,this._minBufferPx=100,this._maxBufferPx=200,this._scrollStrategy=new cr(this.itemSize,this.minBufferPx,this.maxBufferPx)}get itemSize(){return this._itemSize}set itemSize(W){this._itemSize=c(W)}get minBufferPx(){return this._minBufferPx}set minBufferPx(W){this._minBufferPx=c(W)}get maxBufferPx(){return this._maxBufferPx}set maxBufferPx(W){this._maxBufferPx=c(W)}ngOnChanges(){this._scrollStrategy.updateItemAndBufferSize(this.itemSize,this.minBufferPx,this.maxBufferPx)}}return ge.\u0275fac=function(W){return new(W||ge)},ge.\u0275dir=D.lG2({type:ge,selectors:[["cdk-virtual-scroll-viewport","itemSize",""]],inputs:{itemSize:"itemSize",minBufferPx:"minBufferPx",maxBufferPx:"maxBufferPx"},features:[D._Bn([{provide:oi,useFactory:rs,deps:[(0,D.Gpc)(()=>ge)]}]),D.TTD]}),ge})(),Ei=(()=>{class ge{constructor(W,ye,Xe){this._ngZone=W,this._platform=ye,this._scrolled=new Si.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=Xe}register(W){this.scrollContainers.has(W)||this.scrollContainers.set(W,W.elementScrolled().subscribe(()=>this._scrolled.next(W)))}deregister(W){const ye=this.scrollContainers.get(W);ye&&(ye.unsubscribe(),this.scrollContainers.delete(W))}scrolled(W=20){return this._platform.isBrowser?new oe.y(ye=>{this._globalSubscription||this._addGlobalListener();const Xe=W>0?this._scrolled.pipe(ft(W)).subscribe(ye):this._scrolled.subscribe(ye);return this._scrolledCount++,()=>{Xe.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,jr.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((W,ye)=>this.deregister(ye)),this._scrolled.complete()}ancestorScrolled(W,ye){const Xe=this.getAncestorScrollContainers(W);return this.scrolled(ye).pipe((0,jn.h)(ht=>!ht||Xe.indexOf(ht)>-1))}getAncestorScrollContainers(W){const ye=[];return this.scrollContainers.forEach((Xe,ht)=>{this._scrollableContainsElement(ht,W)&&ye.push(ht)}),ye}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(W,ye){let Xe=function ee(ge){return ge instanceof D.SBq?ge.nativeElement:ge}(ye),ht=W.getElementRef().nativeElement;do{if(Xe==ht)return!0}while(Xe=Xe.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Ut(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return ge.\u0275fac=function(W){return new(W||ge)(D.LFG(D.R0b),D.LFG(Sn),D.LFG(Ki.K0,8))},ge.\u0275prov=D.Yz7({token:ge,factory:ge.\u0275fac,providedIn:"root"}),ge})(),Ds=(()=>{class ge{constructor(W,ye,Xe,ht){this.elementRef=W,this.scrollDispatcher=ye,this.ngZone=Xe,this.dir=ht,this._destroyed=new Si.x,this._elementScrolled=new oe.y(sn=>this.ngZone.runOutsideAngular(()=>Ut(this.elementRef.nativeElement,"scroll").pipe(zt(this._destroyed)).subscribe(sn)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(W){const ye=this.elementRef.nativeElement,Xe=this.dir&&"rtl"==this.dir.value;null==W.left&&(W.left=Xe?W.end:W.start),null==W.right&&(W.right=Xe?W.start:W.end),null!=W.bottom&&(W.top=ye.scrollHeight-ye.clientHeight-W.bottom),Xe&&0!=Ji()?(null!=W.left&&(W.right=ye.scrollWidth-ye.clientWidth-W.left),2==Ji()?W.left=W.right:1==Ji()&&(W.left=W.right?-W.right:W.right)):null!=W.right&&(W.left=ye.scrollWidth-ye.clientWidth-W.right),this._applyScrollToOptions(W)}_applyScrollToOptions(W){const ye=this.elementRef.nativeElement;!function Zr(){if(null==Ui){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Ui=!1,Ui;if("scrollBehavior"in document.documentElement.style)Ui=!0;else{const ge=Element.prototype.scrollTo;Ui=!!ge&&!/\{\s*\[native code\]\s*\}/.test(ge.toString())}}return Ui}()?(null!=W.top&&(ye.scrollTop=W.top),null!=W.left&&(ye.scrollLeft=W.left)):ye.scrollTo(W)}measureScrollOffset(W){const ye="left",ht=this.elementRef.nativeElement;if("top"==W)return ht.scrollTop;if("bottom"==W)return ht.scrollHeight-ht.clientHeight-ht.scrollTop;const sn=this.dir&&"rtl"==this.dir.value;return"start"==W?W=sn?"right":ye:"end"==W&&(W=sn?ye:"right"),sn&&2==Ji()?W==ye?ht.scrollWidth-ht.clientWidth-ht.scrollLeft:ht.scrollLeft:sn&&1==Ji()?W==ye?ht.scrollLeft+ht.scrollWidth-ht.clientWidth:-ht.scrollLeft:W==ye?ht.scrollLeft:ht.scrollWidth-ht.clientWidth-ht.scrollLeft}}return ge.\u0275fac=function(W){return new(W||ge)(D.Y36(D.SBq),D.Y36(Ei),D.Y36(D.R0b),D.Y36(Xn,8))},ge.\u0275dir=D.lG2({type:ge,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]}),ge})(),Hn=(()=>{class ge{constructor(W,ye,Xe){this._platform=W,this._change=new Si.x,this._changeListener=ht=>{this._change.next(ht)},this._document=Xe,ye.runOutsideAngular(()=>{if(W.isBrowser){const ht=this._getWindow();ht.addEventListener("resize",this._changeListener),ht.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const W=this._getWindow();W.removeEventListener("resize",this._changeListener),W.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const W={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),W}getViewportRect(){const W=this.getViewportScrollPosition(),{width:ye,height:Xe}=this.getViewportSize();return{top:W.top,left:W.left,bottom:W.top+Xe,right:W.left+ye,height:Xe,width:ye}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const W=this._document,ye=this._getWindow(),Xe=W.documentElement,ht=Xe.getBoundingClientRect();return{top:-ht.top||W.body.scrollTop||ye.scrollY||Xe.scrollTop||0,left:-ht.left||W.body.scrollLeft||ye.scrollX||Xe.scrollLeft||0}}change(W=20){return W>0?this._change.pipe(ft(W)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const W=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:W.innerWidth,height:W.innerHeight}:{width:0,height:0}}}return ge.\u0275fac=function(W){return new(W||ge)(D.LFG(Sn),D.LFG(D.R0b),D.LFG(Ki.K0,8))},ge.\u0275prov=D.Yz7({token:ge,factory:ge.\u0275fac,providedIn:"root"}),ge})();const Ls="undefined"!=typeof requestAnimationFrame?Zt:Es;let gs=(()=>{class ge extends Ds{constructor(W,ye,Xe,ht,sn,Yn,mn){super(W,Yn,Xe,sn),this.elementRef=W,this._changeDetectorRef=ye,this._scrollStrategy=ht,this._detachedSubject=new Si.x,this._renderedRangeSubject=new Si.x,this._orientation="vertical",this._appendOnly=!1,this.scrolledIndexChange=new oe.y(Mn=>this._scrollStrategy.scrolledIndexChange.subscribe(Br=>Promise.resolve().then(()=>this.ngZone.run(()=>Mn.next(Br))))),this.renderedRangeStream=this._renderedRangeSubject,this._totalContentSize=0,this._totalContentWidth="",this._totalContentHeight="",this._renderedRange={start:0,end:0},this._dataLength=0,this._viewportSize=0,this._renderedContentOffset=0,this._renderedContentOffsetNeedsRewrite=!1,this._isChangeDetectionPending=!1,this._runAfterChangeDetection=[],this._viewportChanges=Ct.w0.EMPTY,this._viewportChanges=mn.change().subscribe(()=>{this.checkViewportSize()})}get orientation(){return this._orientation}set orientation(W){this._orientation!==W&&(this._orientation=W,this._calculateSpacerSize())}get appendOnly(){return this._appendOnly}set appendOnly(W){this._appendOnly=function X(ge){return null!=ge&&"false"!=`${ge}`}(W)}ngOnInit(){super.ngOnInit(),this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._measureViewportSize(),this._scrollStrategy.attach(this),this.elementScrolled().pipe((0,Rn.O)(null),ft(0,Ls)).subscribe(()=>this._scrollStrategy.onContentScrolled()),this._markChangeDetectionNeeded()}))}ngOnDestroy(){this.detach(),this._scrollStrategy.detach(),this._renderedRangeSubject.complete(),this._detachedSubject.complete(),this._viewportChanges.unsubscribe(),super.ngOnDestroy()}attach(W){this.ngZone.runOutsideAngular(()=>{this._forOf=W,this._forOf.dataStream.pipe(zt(this._detachedSubject)).subscribe(ye=>{const Xe=ye.length;Xe!==this._dataLength&&(this._dataLength=Xe,this._scrollStrategy.onDataLengthChanged()),this._doChangeDetection()})})}detach(){this._forOf=null,this._detachedSubject.next()}getDataLength(){return this._dataLength}getViewportSize(){return this._viewportSize}getRenderedRange(){return this._renderedRange}setTotalContentSize(W){this._totalContentSize!==W&&(this._totalContentSize=W,this._calculateSpacerSize(),this._markChangeDetectionNeeded())}setRenderedRange(W){(function Os(ge,te){return ge.start==te.start&&ge.end==te.end})(this._renderedRange,W)||(this.appendOnly&&(W={start:0,end:Math.max(this._renderedRange.end,W.end)}),this._renderedRangeSubject.next(this._renderedRange=W),this._markChangeDetectionNeeded(()=>this._scrollStrategy.onContentRendered()))}getOffsetToRenderedContentStart(){return this._renderedContentOffsetNeedsRewrite?null:this._renderedContentOffset}setRenderedContentOffset(W,ye="to-start"){const ht="horizontal"==this.orientation,sn=ht?"X":"Y";let mn=`translate${sn}(${Number((ht&&this.dir&&"rtl"==this.dir.value?-1:1)*W)}px)`;this._renderedContentOffset=W=this.appendOnly&&"to-start"===ye?0:W,"to-end"===ye&&(mn+=` translate${sn}(-100%)`,this._renderedContentOffsetNeedsRewrite=!0),this._renderedContentTransform!=mn&&(this._renderedContentTransform=mn,this._markChangeDetectionNeeded(()=>{this._renderedContentOffsetNeedsRewrite?(this._renderedContentOffset-=this.measureRenderedContentSize(),this._renderedContentOffsetNeedsRewrite=!1,this.setRenderedContentOffset(this._renderedContentOffset)):this._scrollStrategy.onRenderedOffsetChanged()}))}scrollToOffset(W,ye="auto"){const Xe={behavior:ye};"horizontal"===this.orientation?Xe.start=W:Xe.top=W,this.scrollTo(Xe)}scrollToIndex(W,ye="auto"){this._scrollStrategy.scrollToIndex(W,ye)}measureScrollOffset(W){return super.measureScrollOffset(W||("horizontal"===this.orientation?"start":"top"))}measureRenderedContentSize(){const W=this._contentWrapper.nativeElement;return"horizontal"===this.orientation?W.offsetWidth:W.offsetHeight}measureRangeSize(W){return this._forOf?this._forOf.measureRangeSize(W,this.orientation):0}checkViewportSize(){this._measureViewportSize(),this._scrollStrategy.onDataLengthChanged()}_measureViewportSize(){const W=this.elementRef.nativeElement;this._viewportSize="horizontal"===this.orientation?W.clientWidth:W.clientHeight}_markChangeDetectionNeeded(W){W&&this._runAfterChangeDetection.push(W),this._isChangeDetectionPending||(this._isChangeDetectionPending=!0,this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._doChangeDetection()})))}_doChangeDetection(){this._isChangeDetectionPending=!1,this._contentWrapper.nativeElement.style.transform=this._renderedContentTransform,this.ngZone.run(()=>this._changeDetectorRef.markForCheck());const W=this._runAfterChangeDetection;this._runAfterChangeDetection=[];for(const ye of W)ye()}_calculateSpacerSize(){this._totalContentHeight="horizontal"===this.orientation?"":`${this._totalContentSize}px`,this._totalContentWidth="horizontal"===this.orientation?`${this._totalContentSize}px`:""}}return ge.\u0275fac=function(W){return new(W||ge)(D.Y36(D.SBq),D.Y36(D.sBO),D.Y36(D.R0b),D.Y36(oi,8),D.Y36(Xn,8),D.Y36(Ei),D.Y36(Hn))},ge.\u0275cmp=D.Xpm({type:ge,selectors:[["cdk-virtual-scroll-viewport"]],viewQuery:function(W,ye){if(1&W&&D.Gf(Kt,7),2&W){let Xe;D.iGM(Xe=D.CRH())&&(ye._contentWrapper=Xe.first)}},hostAttrs:[1,"cdk-virtual-scroll-viewport"],hostVars:4,hostBindings:function(W,ye){2&W&&D.ekj("cdk-virtual-scroll-orientation-horizontal","horizontal"===ye.orientation)("cdk-virtual-scroll-orientation-vertical","horizontal"!==ye.orientation)},inputs:{orientation:"orientation",appendOnly:"appendOnly"},outputs:{scrolledIndexChange:"scrolledIndexChange"},features:[D._Bn([{provide:Ds,useExisting:ge}]),D.qOj],ngContentSelectors:zn,decls:4,vars:4,consts:[[1,"cdk-virtual-scroll-content-wrapper"],["contentWrapper",""],[1,"cdk-virtual-scroll-spacer"]],template:function(W,ye){1&W&&(D.F$t(),D.TgZ(0,"div",0,1),D.Hsn(2),D.qZA(),D._UZ(3,"div",2)),2&W&&(D.xp6(3),D.Udp("width",ye._totalContentWidth)("height",ye._totalContentHeight))},styles:["cdk-virtual-scroll-viewport{display:block;position:relative;overflow:auto;contain:strict;transform:translateZ(0);will-change:scroll-position;-webkit-overflow-scrolling:touch}.cdk-virtual-scroll-content-wrapper{position:absolute;top:0;left:0;contain:content}[dir=rtl] .cdk-virtual-scroll-content-wrapper{right:0;left:auto}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper{min-height:100%}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-left:0;padding-right:0;margin-left:0;margin-right:0;border-left-width:0;border-right-width:0;outline:none}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper{min-width:100%}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0;border-top-width:0;border-bottom-width:0;outline:none}.cdk-virtual-scroll-spacer{position:absolute;top:0;left:0;height:1px;width:1px;transform-origin:0 0}[dir=rtl] .cdk-virtual-scroll-spacer{right:0;left:auto;transform-origin:100% 0}\n"],encapsulation:2,changeDetection:0}),ge})();function ur(ge,te,W){if(!W.getBoundingClientRect)return 0;const Xe=W.getBoundingClientRect();return"horizontal"===ge?"start"===te?Xe.left:Xe.right:"start"===te?Xe.top:Xe.bottom}let Hi=(()=>{class ge{constructor(W,ye,Xe,ht,sn,Yn){this._viewContainerRef=W,this._template=ye,this._differs=Xe,this._viewRepeater=ht,this._viewport=sn,this.viewChange=new Si.x,this._dataSourceChanges=new Si.x,this.dataStream=this._dataSourceChanges.pipe((0,Rn.O)(null),function fn(){return(0,$r.e)((ge,te)=>{let W,ye=!1;ge.subscribe((0,ns.x)(te,Xe=>{const ht=W;W=Xe,ye&&te.next([ht,Xe]),ye=!0}))})}(),(0,zi.w)(([mn,Mn])=>this._changeDataSource(mn,Mn)),(0,Ti.d)(1)),this._differ=null,this._needsUpdate=!1,this._destroyed=new Si.x,this.dataStream.subscribe(mn=>{this._data=mn,this._onRenderedDataChange()}),this._viewport.renderedRangeStream.pipe(zt(this._destroyed)).subscribe(mn=>{this._renderedRange=mn,this.viewChange.observers.length&&Yn.run(()=>this.viewChange.next(this._renderedRange)),this._onRenderedDataChange()}),this._viewport.attach(this)}get cdkVirtualForOf(){return this._cdkVirtualForOf}set cdkVirtualForOf(W){this._cdkVirtualForOf=W,function _r(ge){return ge&&"function"==typeof ge.connect}(W)?this._dataSourceChanges.next(W):this._dataSourceChanges.next(new ds((0,Cr.b)(W)?W:Array.from(W||[])))}get cdkVirtualForTrackBy(){return this._cdkVirtualForTrackBy}set cdkVirtualForTrackBy(W){this._needsUpdate=!0,this._cdkVirtualForTrackBy=W?(ye,Xe)=>W(ye+(this._renderedRange?this._renderedRange.start:0),Xe):void 0}set cdkVirtualForTemplate(W){W&&(this._needsUpdate=!0,this._template=W)}get cdkVirtualForTemplateCacheSize(){return this._viewRepeater.viewCacheSize}set cdkVirtualForTemplateCacheSize(W){this._viewRepeater.viewCacheSize=c(W)}measureRangeSize(W,ye){if(W.start>=W.end)return 0;const Xe=W.start-this._renderedRange.start,ht=W.end-W.start;let sn,Yn;for(let mn=0;mn<ht;mn++){const Mn=this._viewContainerRef.get(mn+Xe);if(Mn&&Mn.rootNodes.length){sn=Yn=Mn.rootNodes[0];break}}for(let mn=ht-1;mn>-1;mn--){const Mn=this._viewContainerRef.get(mn+Xe);if(Mn&&Mn.rootNodes.length){Yn=Mn.rootNodes[Mn.rootNodes.length-1];break}}return sn&&Yn?ur(ye,"end",Yn)-ur(ye,"start",sn):0}ngDoCheck(){if(this._differ&&this._needsUpdate){const W=this._differ.diff(this._renderedItems);W?this._applyChanges(W):this._updateContext(),this._needsUpdate=!1}}ngOnDestroy(){this._viewport.detach(),this._dataSourceChanges.next(void 0),this._dataSourceChanges.complete(),this.viewChange.complete(),this._destroyed.next(),this._destroyed.complete(),this._viewRepeater.detach()}_onRenderedDataChange(){!this._renderedRange||(this._renderedItems=this._data.slice(this._renderedRange.start,this._renderedRange.end),this._differ||(this._differ=this._differs.find(this._renderedItems).create((W,ye)=>this.cdkVirtualForTrackBy?this.cdkVirtualForTrackBy(W,ye):ye)),this._needsUpdate=!0)}_changeDataSource(W,ye){return W&&W.disconnect(this),this._needsUpdate=!0,ye?ye.connect(this):(0,jr.of)()}_updateContext(){const W=this._data.length;let ye=this._viewContainerRef.length;for(;ye--;){const Xe=this._viewContainerRef.get(ye);Xe.context.index=this._renderedRange.start+ye,Xe.context.count=W,this._updateComputedContextProperties(Xe.context),Xe.detectChanges()}}_applyChanges(W){this._viewRepeater.applyChanges(W,this._viewContainerRef,(ht,sn,Yn)=>this._getEmbeddedViewArgs(ht,Yn),ht=>ht.item),W.forEachIdentityChange(ht=>{this._viewContainerRef.get(ht.currentIndex).context.$implicit=ht.item});const ye=this._data.length;let Xe=this._viewContainerRef.length;for(;Xe--;){const ht=this._viewContainerRef.get(Xe);ht.context.index=this._renderedRange.start+Xe,ht.context.count=ye,this._updateComputedContextProperties(ht.context)}}_updateComputedContextProperties(W){W.first=0===W.index,W.last=W.index===W.count-1,W.even=W.index%2==0,W.odd=!W.even}_getEmbeddedViewArgs(W,ye){return{templateRef:this._template,context:{$implicit:W.item,cdkVirtualForOf:this._cdkVirtualForOf,index:-1,count:-1,first:!1,last:!1,odd:!1,even:!1},index:ye}}}return ge.\u0275fac=function(W){return new(W||ge)(D.Y36(D.s_b),D.Y36(D.Rgc),D.Y36(D.ZZ4),D.Y36(sr),D.Y36(gs,4),D.Y36(D.R0b))},ge.\u0275dir=D.lG2({type:ge,selectors:[["","cdkVirtualFor","","cdkVirtualForOf",""]],inputs:{cdkVirtualForOf:"cdkVirtualForOf",cdkVirtualForTrackBy:"cdkVirtualForTrackBy",cdkVirtualForTemplate:"cdkVirtualForTemplate",cdkVirtualForTemplateCacheSize:"cdkVirtualForTemplateCacheSize"},features:[D._Bn([{provide:sr,useClass:Fr}])]}),ge})(),kr=(()=>{class ge{}return ge.\u0275fac=function(W){return new(W||ge)},ge.\u0275mod=D.oAB({type:ge}),ge.\u0275inj=D.cJS({}),ge})(),qr=(()=>{class ge{}return ge.\u0275fac=function(W){return new(W||ge)},ge.\u0275mod=D.oAB({type:ge}),ge.\u0275inj=D.cJS({imports:[[Nr,kr],Nr,kr]}),ge})()},9808:(dn,tt,z)=>{z.d(tt,{Do:()=>Ft,EM:()=>K,HT:()=>J,JF:()=>ti,K0:()=>ee,Mx:()=>fs,NF:()=>Nl,Nd:()=>Ii,O5:()=>gs,PC:()=>ht,S$:()=>Fe,V_:()=>oe,Ye:()=>he,b0:()=>Ht,bD:()=>oa,ez:()=>Ya,lw:()=>xe,mk:()=>Ei,mr:()=>_n,q:()=>c,sg:()=>Hn,tP:()=>sn,w_:()=>ae});var D=z(7587);let X=null;function c(){return X}function J(L){X||(X=L)}class ae{}const ee=new D.OlP("DocumentToken");let xe=(()=>{class L{historyGo(R){throw new Error("Not implemented")}}return L.\u0275fac=function(R){return new(R||L)},L.\u0275prov=D.Yz7({token:L,factory:function(){return function me(){return(0,D.LFG)(de)}()},providedIn:"platform"}),L})();const oe=new D.OlP("Location Initialized");let de=(()=>{class L extends xe{constructor(R){super(),this._doc=R,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return c().getBaseHref(this._doc)}onPopState(R){const Y=c().getGlobalEventTarget(this._doc,"window");return Y.addEventListener("popstate",R,!1),()=>Y.removeEventListener("popstate",R)}onHashChange(R){const Y=c().getGlobalEventTarget(this._doc,"window");return Y.addEventListener("hashchange",R,!1),()=>Y.removeEventListener("hashchange",R)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(R){this.location.pathname=R}pushState(R,Y,pe){Se()?this._history.pushState(R,Y,pe):this.location.hash=pe}replaceState(R,Y,pe){Se()?this._history.replaceState(R,Y,pe):this.location.hash=pe}forward(){this._history.forward()}back(){this._history.back()}historyGo(R=0){this._history.go(R)}getState(){return this._history.state}}return L.\u0275fac=function(R){return new(R||L)(D.LFG(ee))},L.\u0275prov=D.Yz7({token:L,factory:function(){return function st(){return new de((0,D.LFG)(ee))}()},providedIn:"platform"}),L})();function Se(){return!!window.history.pushState}function Ye(L,Z){if(0==L.length)return Z;if(0==Z.length)return L;let R=0;return L.endsWith("/")&&R++,Z.startsWith("/")&&R++,2==R?L+Z.substring(1):1==R?L+Z:L+"/"+Z}function Tt(L){const Z=L.match(/#|\?|$/),R=Z&&Z.index||L.length;return L.slice(0,R-("/"===L[R-1]?1:0))+L.slice(R)}function xt(L){return L&&"?"!==L[0]?"?"+L:L}let Fe=(()=>{class L{historyGo(R){throw new Error("Not implemented")}}return L.\u0275fac=function(R){return new(R||L)},L.\u0275prov=D.Yz7({token:L,factory:function(){return function Ut(L){const Z=(0,D.LFG)(ee).location;return new Ht((0,D.LFG)(xe),Z&&Z.origin||"")}()},providedIn:"root"}),L})();const _n=new D.OlP("appBaseHref");let Ht=(()=>{class L extends Fe{constructor(R,Y){if(super(),this._platformLocation=R,this._removeListenerFns=[],null==Y&&(Y=this._platformLocation.getBaseHrefFromDOM()),null==Y)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=Y}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(R){this._removeListenerFns.push(this._platformLocation.onPopState(R),this._platformLocation.onHashChange(R))}getBaseHref(){return this._baseHref}prepareExternalUrl(R){return Ye(this._baseHref,R)}path(R=!1){const Y=this._platformLocation.pathname+xt(this._platformLocation.search),pe=this._platformLocation.hash;return pe&&R?`${Y}${pe}`:Y}pushState(R,Y,pe,ot){const Nt=this.prepareExternalUrl(pe+xt(ot));this._platformLocation.pushState(R,Y,Nt)}replaceState(R,Y,pe,ot){const Nt=this.prepareExternalUrl(pe+xt(ot));this._platformLocation.replaceState(R,Y,Nt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(R=0){var Y,pe;null===(pe=(Y=this._platformLocation).historyGo)||void 0===pe||pe.call(Y,R)}}return L.\u0275fac=function(R){return new(R||L)(D.LFG(xe),D.LFG(_n,8))},L.\u0275prov=D.Yz7({token:L,factory:L.\u0275fac}),L})(),Ft=(()=>{class L extends Fe{constructor(R,Y){super(),this._platformLocation=R,this._baseHref="",this._removeListenerFns=[],null!=Y&&(this._baseHref=Y)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(R){this._removeListenerFns.push(this._platformLocation.onPopState(R),this._platformLocation.onHashChange(R))}getBaseHref(){return this._baseHref}path(R=!1){let Y=this._platformLocation.hash;return null==Y&&(Y="#"),Y.length>0?Y.substring(1):Y}prepareExternalUrl(R){const Y=Ye(this._baseHref,R);return Y.length>0?"#"+Y:Y}pushState(R,Y,pe,ot){let Nt=this.prepareExternalUrl(pe+xt(ot));0==Nt.length&&(Nt=this._platformLocation.pathname),this._platformLocation.pushState(R,Y,Nt)}replaceState(R,Y,pe,ot){let Nt=this.prepareExternalUrl(pe+xt(ot));0==Nt.length&&(Nt=this._platformLocation.pathname),this._platformLocation.replaceState(R,Y,Nt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(R=0){var Y,pe;null===(pe=(Y=this._platformLocation).historyGo)||void 0===pe||pe.call(Y,R)}}return L.\u0275fac=function(R){return new(R||L)(D.LFG(xe),D.LFG(_n,8))},L.\u0275prov=D.Yz7({token:L,factory:L.\u0275fac}),L})(),he=(()=>{class L{constructor(R,Y){this._subject=new D.vpe,this._urlChangeListeners=[],this._platformStrategy=R;const pe=this._platformStrategy.getBaseHref();this._platformLocation=Y,this._baseHref=Tt(Oe(pe)),this._platformStrategy.onPopState(ot=>{this._subject.emit({url:this.path(!0),pop:!0,state:ot.state,type:ot.type})})}path(R=!1){return this.normalize(this._platformStrategy.path(R))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(R,Y=""){return this.path()==this.normalize(R+xt(Y))}normalize(R){return L.stripTrailingSlash(function _e(L,Z){return L&&Z.startsWith(L)?Z.substring(L.length):Z}(this._baseHref,Oe(R)))}prepareExternalUrl(R){return R&&"/"!==R[0]&&(R="/"+R),this._platformStrategy.prepareExternalUrl(R)}go(R,Y="",pe=null){this._platformStrategy.pushState(pe,"",R,Y),this._notifyUrlChangeListeners(this.prepareExternalUrl(R+xt(Y)),pe)}replaceState(R,Y="",pe=null){this._platformStrategy.replaceState(pe,"",R,Y),this._notifyUrlChangeListeners(this.prepareExternalUrl(R+xt(Y)),pe)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(R=0){var Y,pe;null===(pe=(Y=this._platformStrategy).historyGo)||void 0===pe||pe.call(Y,R)}onUrlChange(R){this._urlChangeListeners.push(R),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(Y=>{this._notifyUrlChangeListeners(Y.url,Y.state)}))}_notifyUrlChangeListeners(R="",Y){this._urlChangeListeners.forEach(pe=>pe(R,Y))}subscribe(R,Y,pe){return this._subject.subscribe({next:R,error:Y,complete:pe})}}return L.normalizeQueryParams=xt,L.joinWithSlash=Ye,L.stripTrailingSlash=Tt,L.\u0275fac=function(R){return new(R||L)(D.LFG(Fe),D.LFG(xe))},L.\u0275prov=D.Yz7({token:L,factory:function(){return function Ct(){return new he((0,D.LFG)(Fe),(0,D.LFG)(xe))}()},providedIn:"root"}),L})();function Oe(L){return L.replace(/\/index.html$/,"")}function fs(L,Z){Z=encodeURIComponent(Z);for(const R of L.split(";")){const Y=R.indexOf("="),[pe,ot]=-1==Y?[R,""]:[R.slice(0,Y),R.slice(Y+1)];if(pe.trim()===Z)return decodeURIComponent(ot)}return null}let Ei=(()=>{class L{constructor(R,Y,pe,ot){this._iterableDiffers=R,this._keyValueDiffers=Y,this._ngEl=pe,this._renderer=ot,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(R){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof R?R.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(R){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof R?R.split(/\s+/):R,this._rawClass&&((0,D.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const R=this._iterableDiffer.diff(this._rawClass);R&&this._applyIterableChanges(R)}else if(this._keyValueDiffer){const R=this._keyValueDiffer.diff(this._rawClass);R&&this._applyKeyValueChanges(R)}}_applyKeyValueChanges(R){R.forEachAddedItem(Y=>this._toggleClass(Y.key,Y.currentValue)),R.forEachChangedItem(Y=>this._toggleClass(Y.key,Y.currentValue)),R.forEachRemovedItem(Y=>{Y.previousValue&&this._toggleClass(Y.key,!1)})}_applyIterableChanges(R){R.forEachAddedItem(Y=>{if("string"!=typeof Y.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,D.AaK)(Y.item)}`);this._toggleClass(Y.item,!0)}),R.forEachRemovedItem(Y=>this._toggleClass(Y.item,!1))}_applyClasses(R){R&&(Array.isArray(R)||R instanceof Set?R.forEach(Y=>this._toggleClass(Y,!0)):Object.keys(R).forEach(Y=>this._toggleClass(Y,!!R[Y])))}_removeClasses(R){R&&(Array.isArray(R)||R instanceof Set?R.forEach(Y=>this._toggleClass(Y,!1)):Object.keys(R).forEach(Y=>this._toggleClass(Y,!1)))}_toggleClass(R,Y){(R=R.trim())&&R.split(/\s+/g).forEach(pe=>{Y?this._renderer.addClass(this._ngEl.nativeElement,pe):this._renderer.removeClass(this._ngEl.nativeElement,pe)})}}return L.\u0275fac=function(R){return new(R||L)(D.Y36(D.ZZ4),D.Y36(D.aQg),D.Y36(D.SBq),D.Y36(D.Qsj))},L.\u0275dir=D.lG2({type:L,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),L})();class Ps{constructor(Z,R,Y,pe){this.$implicit=Z,this.ngForOf=R,this.index=Y,this.count=pe}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Hn=(()=>{class L{constructor(R,Y,pe){this._viewContainer=R,this._template=Y,this._differs=pe,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(R){this._ngForOf=R,this._ngForOfDirty=!0}set ngForTrackBy(R){this._trackByFn=R}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(R){R&&(this._template=R)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const R=this._ngForOf;!this._differ&&R&&(this._differ=this._differs.find(R).create(this.ngForTrackBy))}if(this._differ){const R=this._differ.diff(this._ngForOf);R&&this._applyChanges(R)}}_applyChanges(R){const Y=this._viewContainer;R.forEachOperation((pe,ot,Nt)=>{if(null==pe.previousIndex)Y.createEmbeddedView(this._template,new Ps(pe.item,this._ngForOf,-1,-1),null===Nt?void 0:Nt);else if(null==Nt)Y.remove(null===ot?void 0:ot);else if(null!==ot){const Yt=Y.get(ot);Y.move(Yt,Nt),Os(Yt,pe)}});for(let pe=0,ot=Y.length;pe<ot;pe++){const Yt=Y.get(pe).context;Yt.index=pe,Yt.count=ot,Yt.ngForOf=this._ngForOf}R.forEachIdentityChange(pe=>{Os(Y.get(pe.currentIndex),pe)})}static ngTemplateContextGuard(R,Y){return!0}}return L.\u0275fac=function(R){return new(R||L)(D.Y36(D.s_b),D.Y36(D.Rgc),D.Y36(D.ZZ4))},L.\u0275dir=D.lG2({type:L,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),L})();function Os(L,Z){L.context.$implicit=Z.item}let gs=(()=>{class L{constructor(R,Y){this._viewContainer=R,this._context=new ur,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=Y}set ngIf(R){this._context.$implicit=this._context.ngIf=R,this._updateView()}set ngIfThen(R){Hi("ngIfThen",R),this._thenTemplateRef=R,this._thenViewRef=null,this._updateView()}set ngIfElse(R){Hi("ngIfElse",R),this._elseTemplateRef=R,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(R,Y){return!0}}return L.\u0275fac=function(R){return new(R||L)(D.Y36(D.s_b),D.Y36(D.Rgc))},L.\u0275dir=D.lG2({type:L,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),L})();class ur{constructor(){this.$implicit=null,this.ngIf=null}}function Hi(L,Z){if(Z&&!Z.createEmbeddedView)throw new Error(`${L} must be a TemplateRef, but received '${(0,D.AaK)(Z)}'.`)}let ht=(()=>{class L{constructor(R,Y,pe){this._ngEl=R,this._differs=Y,this._renderer=pe,this._ngStyle=null,this._differ=null}set ngStyle(R){this._ngStyle=R,!this._differ&&R&&(this._differ=this._differs.find(R).create())}ngDoCheck(){if(this._differ){const R=this._differ.diff(this._ngStyle);R&&this._applyChanges(R)}}_setStyle(R,Y){const[pe,ot]=R.split(".");null!=(Y=null!=Y&&ot?`${Y}${ot}`:Y)?this._renderer.setStyle(this._ngEl.nativeElement,pe,Y):this._renderer.removeStyle(this._ngEl.nativeElement,pe)}_applyChanges(R){R.forEachRemovedItem(Y=>this._setStyle(Y.key,null)),R.forEachAddedItem(Y=>this._setStyle(Y.key,Y.currentValue)),R.forEachChangedItem(Y=>this._setStyle(Y.key,Y.currentValue))}}return L.\u0275fac=function(R){return new(R||L)(D.Y36(D.SBq),D.Y36(D.aQg),D.Y36(D.Qsj))},L.\u0275dir=D.lG2({type:L,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),L})(),sn=(()=>{class L{constructor(R){this._viewContainerRef=R,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(R){if(R.ngTemplateOutlet){const Y=this._viewContainerRef;this._viewRef&&Y.remove(Y.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?Y.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&R.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return L.\u0275fac=function(R){return new(R||L)(D.Y36(D.s_b))},L.\u0275dir=D.lG2({type:L,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[D.TTD]}),L})(),Ii=(()=>{class L{constructor(R){this.differs=R,this.keyValues=[],this.compareFn=ra}transform(R,Y=ra){if(!R||!(R instanceof Map)&&"object"!=typeof R)return null;this.differ||(this.differ=this.differs.find(R).create());const pe=this.differ.diff(R),ot=Y!==this.compareFn;return pe&&(this.keyValues=[],pe.forEachItem(Nt=>{this.keyValues.push(function Co(L,Z){return{key:L,value:Z}}(Nt.key,Nt.currentValue))})),(pe||ot)&&(this.keyValues.sort(Y),this.compareFn=Y),this.keyValues}}return L.\u0275fac=function(R){return new(R||L)(D.Y36(D.aQg,16))},L.\u0275pipe=D.Yjl({name:"keyvalue",type:L,pure:!1}),L})();function ra(L,Z){const R=L.key,Y=Z.key;if(R===Y)return 0;if(void 0===R)return 1;if(void 0===Y)return-1;if(null===R)return 1;if(null===Y)return-1;if("string"==typeof R&&"string"==typeof Y)return R<Y?-1:1;if("number"==typeof R&&"number"==typeof Y)return R-Y;if("boolean"==typeof R&&"boolean"==typeof Y)return R<Y?-1:1;const pe=String(R),ot=String(Y);return pe==ot?0:pe<ot?-1:1}let Ya=(()=>{class L{}return L.\u0275fac=function(R){return new(R||L)},L.\u0275mod=D.oAB({type:L}),L.\u0275inj=D.cJS({}),L})();const oa="browser";function Nl(L){return L===oa}let K=(()=>{class L{}return L.\u0275prov=(0,D.Yz7)({token:L,providedIn:"root",factory:()=>new Me((0,D.LFG)(ee),window)}),L})();class Me{constructor(Z,R){this.document=Z,this.window=R,this.offset=()=>[0,0]}setOffset(Z){this.offset=Array.isArray(Z)?()=>Z:Z}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(Z){this.supportsScrolling()&&this.window.scrollTo(Z[0],Z[1])}scrollToAnchor(Z){if(!this.supportsScrolling())return;const R=function un(L,Z){const R=L.getElementById(Z)||L.getElementsByName(Z)[0];if(R)return R;if("function"==typeof L.createTreeWalker&&L.body&&(L.body.createShadowRoot||L.body.attachShadow)){const Y=L.createTreeWalker(L.body,NodeFilter.SHOW_ELEMENT);let pe=Y.currentNode;for(;pe;){const ot=pe.shadowRoot;if(ot){const Nt=ot.getElementById(Z)||ot.querySelector(`[name="${Z}"]`);if(Nt)return Nt}pe=Y.nextNode()}}return null}(this.document,Z);R&&(this.scrollToElement(R),R.focus())}setHistoryScrollRestoration(Z){if(this.supportScrollRestoration()){const R=this.window.history;R&&R.scrollRestoration&&(R.scrollRestoration=Z)}}scrollToElement(Z){const R=Z.getBoundingClientRect(),Y=R.left+this.window.pageXOffset,pe=R.top+this.window.pageYOffset,ot=this.offset();this.window.scrollTo(Y-ot[0],pe-ot[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const Z=gt(this.window.history)||gt(Object.getPrototypeOf(this.window.history));return!(!Z||!Z.writable&&!Z.set)}catch(Z){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(Z){return!1}}}function gt(L){return Object.getOwnPropertyDescriptor(L,"scrollRestoration")}class ti{}},520:(dn,tt,z)=>{z.d(tt,{JF:()=>cs,eN:()=>Ge});var D=z(9808),X=z(7587),c=z(9646),$e=z(8306),J=z(4351),ae=z(9300),ee=z(4004);class xe{}class me{}class oe{constructor(Ee){this.normalizedNames=new Map,this.lazyUpdate=null,Ee?this.lazyInit="string"==typeof Ee?()=>{this.headers=new Map,Ee.split("\n").forEach(we=>{const Dt=we.indexOf(":");if(Dt>0){const ft=we.slice(0,Dt),wt=ft.toLowerCase(),zt=we.slice(Dt+1).trim();this.maybeSetNormalizedName(ft,wt),this.headers.has(wt)?this.headers.get(wt).push(zt):this.headers.set(wt,[zt])}})}:()=>{this.headers=new Map,Object.keys(Ee).forEach(we=>{let Dt=Ee[we];const ft=we.toLowerCase();"string"==typeof Dt&&(Dt=[Dt]),Dt.length>0&&(this.headers.set(ft,Dt),this.maybeSetNormalizedName(we,ft))})}:this.headers=new Map}has(Ee){return this.init(),this.headers.has(Ee.toLowerCase())}get(Ee){this.init();const we=this.headers.get(Ee.toLowerCase());return we&&we.length>0?we[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(Ee){return this.init(),this.headers.get(Ee.toLowerCase())||null}append(Ee,we){return this.clone({name:Ee,value:we,op:"a"})}set(Ee,we){return this.clone({name:Ee,value:we,op:"s"})}delete(Ee,we){return this.clone({name:Ee,value:we,op:"d"})}maybeSetNormalizedName(Ee,we){this.normalizedNames.has(we)||this.normalizedNames.set(we,Ee)}init(){this.lazyInit&&(this.lazyInit instanceof oe?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(Ee=>this.applyUpdate(Ee)),this.lazyUpdate=null))}copyFrom(Ee){Ee.init(),Array.from(Ee.headers.keys()).forEach(we=>{this.headers.set(we,Ee.headers.get(we)),this.normalizedNames.set(we,Ee.normalizedNames.get(we))})}clone(Ee){const we=new oe;return we.lazyInit=this.lazyInit&&this.lazyInit instanceof oe?this.lazyInit:this,we.lazyUpdate=(this.lazyUpdate||[]).concat([Ee]),we}applyUpdate(Ee){const we=Ee.name.toLowerCase();switch(Ee.op){case"a":case"s":let Dt=Ee.value;if("string"==typeof Dt&&(Dt=[Dt]),0===Dt.length)return;this.maybeSetNormalizedName(Ee.name,we);const ft=("a"===Ee.op?this.headers.get(we):void 0)||[];ft.push(...Dt),this.headers.set(we,ft);break;case"d":const wt=Ee.value;if(wt){let zt=this.headers.get(we);if(!zt)return;zt=zt.filter(fn=>-1===wt.indexOf(fn)),0===zt.length?(this.headers.delete(we),this.normalizedNames.delete(we)):this.headers.set(we,zt)}else this.headers.delete(we),this.normalizedNames.delete(we)}}forEach(Ee){this.init(),Array.from(this.normalizedNames.keys()).forEach(we=>Ee(this.normalizedNames.get(we),this.headers.get(we)))}}class de{encodeKey(Ee){return Tt(Ee)}encodeValue(Ee){return Tt(Ee)}decodeKey(Ee){return decodeURIComponent(Ee)}decodeValue(Ee){return decodeURIComponent(Ee)}}const st=/%(\d[a-f0-9])/gi,Ye={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function Tt(At){return encodeURIComponent(At).replace(st,(Ee,we)=>{var Dt;return null!==(Dt=Ye[we])&&void 0!==Dt?Dt:Ee})}function xt(At){return`${At}`}class Fe{constructor(Ee={}){if(this.updates=null,this.cloneFrom=null,this.encoder=Ee.encoder||new de,Ee.fromString){if(Ee.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Se(At,Ee){const we=new Map;return At.length>0&&At.replace(/^\?/,"").split("&").forEach(ft=>{const wt=ft.indexOf("="),[zt,fn]=-1==wt?[Ee.decodeKey(ft),""]:[Ee.decodeKey(ft.slice(0,wt)),Ee.decodeValue(ft.slice(wt+1))],jn=we.get(zt)||[];jn.push(fn),we.set(zt,jn)}),we}(Ee.fromString,this.encoder)}else Ee.fromObject?(this.map=new Map,Object.keys(Ee.fromObject).forEach(we=>{const Dt=Ee.fromObject[we];this.map.set(we,Array.isArray(Dt)?Dt:[Dt])})):this.map=null}has(Ee){return this.init(),this.map.has(Ee)}get(Ee){this.init();const we=this.map.get(Ee);return we?we[0]:null}getAll(Ee){return this.init(),this.map.get(Ee)||null}keys(){return this.init(),Array.from(this.map.keys())}append(Ee,we){return this.clone({param:Ee,value:we,op:"a"})}appendAll(Ee){const we=[];return Object.keys(Ee).forEach(Dt=>{const ft=Ee[Dt];Array.isArray(ft)?ft.forEach(wt=>{we.push({param:Dt,value:wt,op:"a"})}):we.push({param:Dt,value:ft,op:"a"})}),this.clone(we)}set(Ee,we){return this.clone({param:Ee,value:we,op:"s"})}delete(Ee,we){return this.clone({param:Ee,value:we,op:"d"})}toString(){return this.init(),this.keys().map(Ee=>{const we=this.encoder.encodeKey(Ee);return this.map.get(Ee).map(Dt=>we+"="+this.encoder.encodeValue(Dt)).join("&")}).filter(Ee=>""!==Ee).join("&")}clone(Ee){const we=new Fe({encoder:this.encoder});return we.cloneFrom=this.cloneFrom||this,we.updates=(this.updates||[]).concat(Ee),we}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(Ee=>this.map.set(Ee,this.cloneFrom.map.get(Ee))),this.updates.forEach(Ee=>{switch(Ee.op){case"a":case"s":const we=("a"===Ee.op?this.map.get(Ee.param):void 0)||[];we.push(xt(Ee.value)),this.map.set(Ee.param,we);break;case"d":if(void 0===Ee.value){this.map.delete(Ee.param);break}{let Dt=this.map.get(Ee.param)||[];const ft=Dt.indexOf(xt(Ee.value));-1!==ft&&Dt.splice(ft,1),Dt.length>0?this.map.set(Ee.param,Dt):this.map.delete(Ee.param)}}}),this.cloneFrom=this.updates=null)}}class _n{constructor(){this.map=new Map}set(Ee,we){return this.map.set(Ee,we),this}get(Ee){return this.map.has(Ee)||this.map.set(Ee,Ee.defaultValue()),this.map.get(Ee)}delete(Ee){return this.map.delete(Ee),this}has(Ee){return this.map.has(Ee)}keys(){return this.map.keys()}}function Ft(At){return"undefined"!=typeof ArrayBuffer&&At instanceof ArrayBuffer}function he(At){return"undefined"!=typeof Blob&&At instanceof Blob}function Ct(At){return"undefined"!=typeof FormData&&At instanceof FormData}class Oe{constructor(Ee,we,Dt,ft){let wt;if(this.url=we,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=Ee.toUpperCase(),function Ht(At){switch(At){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||ft?(this.body=void 0!==Dt?Dt:null,wt=ft):wt=Dt,wt&&(this.reportProgress=!!wt.reportProgress,this.withCredentials=!!wt.withCredentials,wt.responseType&&(this.responseType=wt.responseType),wt.headers&&(this.headers=wt.headers),wt.context&&(this.context=wt.context),wt.params&&(this.params=wt.params)),this.headers||(this.headers=new oe),this.context||(this.context=new _n),this.params){const zt=this.params.toString();if(0===zt.length)this.urlWithParams=we;else{const fn=we.indexOf("?");this.urlWithParams=we+(-1===fn?"?":fn<we.length-1?"&":"")+zt}}else this.params=new Fe,this.urlWithParams=we}serializeBody(){return null===this.body?null:Ft(this.body)||he(this.body)||Ct(this.body)||function _e(At){return"undefined"!=typeof URLSearchParams&&At instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Fe?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Ct(this.body)?null:he(this.body)?this.body.type||null:Ft(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Fe?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(Ee={}){var we;const Dt=Ee.method||this.method,ft=Ee.url||this.url,wt=Ee.responseType||this.responseType,zt=void 0!==Ee.body?Ee.body:this.body,fn=void 0!==Ee.withCredentials?Ee.withCredentials:this.withCredentials,jn=void 0!==Ee.reportProgress?Ee.reportProgress:this.reportProgress;let Rn=Ee.headers||this.headers,zi=Ee.params||this.params;const Ti=null!==(we=Ee.context)&&void 0!==we?we:this.context;return void 0!==Ee.setHeaders&&(Rn=Object.keys(Ee.setHeaders).reduce((Ki,vn)=>Ki.set(vn,Ee.setHeaders[vn]),Rn)),Ee.setParams&&(zi=Object.keys(Ee.setParams).reduce((Ki,vn)=>Ki.set(vn,Ee.setParams[vn]),zi)),new Oe(Dt,ft,zt,{params:zi,headers:Rn,context:Ti,reportProgress:jn,responseType:wt,withCredentials:fn})}}var at=(()=>((at=at||{})[at.Sent=0]="Sent",at[at.UploadProgress=1]="UploadProgress",at[at.ResponseHeader=2]="ResponseHeader",at[at.DownloadProgress=3]="DownloadProgress",at[at.Response=4]="Response",at[at.User=5]="User",at))();class Ne{constructor(Ee,we=200,Dt="OK"){this.headers=Ee.headers||new oe,this.status=void 0!==Ee.status?Ee.status:we,this.statusText=Ee.statusText||Dt,this.url=Ee.url||null,this.ok=this.status>=200&&this.status<300}}class Re extends Ne{constructor(Ee={}){super(Ee),this.type=at.ResponseHeader}clone(Ee={}){return new Re({headers:Ee.headers||this.headers,status:void 0!==Ee.status?Ee.status:this.status,statusText:Ee.statusText||this.statusText,url:Ee.url||this.url||void 0})}}class Je extends Ne{constructor(Ee={}){super(Ee),this.type=at.Response,this.body=void 0!==Ee.body?Ee.body:null}clone(Ee={}){return new Je({body:void 0!==Ee.body?Ee.body:this.body,headers:Ee.headers||this.headers,status:void 0!==Ee.status?Ee.status:this.status,statusText:Ee.statusText||this.statusText,url:Ee.url||this.url||void 0})}}class et extends Ne{constructor(Ee){super(Ee,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${Ee.url||"(unknown url)"}`:`Http failure response for ${Ee.url||"(unknown url)"}: ${Ee.status} ${Ee.statusText}`,this.error=Ee.error||null}}function _t(At,Ee){return{body:Ee,headers:At.headers,context:At.context,observe:At.observe,params:At.params,reportProgress:At.reportProgress,responseType:At.responseType,withCredentials:At.withCredentials}}let Ge=(()=>{class At{constructor(we){this.handler=we}request(we,Dt,ft={}){let wt;if(we instanceof Oe)wt=we;else{let jn,Rn;jn=ft.headers instanceof oe?ft.headers:new oe(ft.headers),ft.params&&(Rn=ft.params instanceof Fe?ft.params:new Fe({fromObject:ft.params})),wt=new Oe(we,Dt,void 0!==ft.body?ft.body:null,{headers:jn,context:ft.context,params:Rn,reportProgress:ft.reportProgress,responseType:ft.responseType||"json",withCredentials:ft.withCredentials})}const zt=(0,c.of)(wt).pipe((0,J.b)(jn=>this.handler.handle(jn)));if(we instanceof Oe||"events"===ft.observe)return zt;const fn=zt.pipe((0,ae.h)(jn=>jn instanceof Je));switch(ft.observe||"body"){case"body":switch(wt.responseType){case"arraybuffer":return fn.pipe((0,ee.U)(jn=>{if(null!==jn.body&&!(jn.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return jn.body}));case"blob":return fn.pipe((0,ee.U)(jn=>{if(null!==jn.body&&!(jn.body instanceof Blob))throw new Error("Response is not a Blob.");return jn.body}));case"text":return fn.pipe((0,ee.U)(jn=>{if(null!==jn.body&&"string"!=typeof jn.body)throw new Error("Response is not a string.");return jn.body}));default:return fn.pipe((0,ee.U)(jn=>jn.body))}case"response":return fn;default:throw new Error(`Unreachable: unhandled observe type ${ft.observe}}`)}}delete(we,Dt={}){return this.request("DELETE",we,Dt)}get(we,Dt={}){return this.request("GET",we,Dt)}head(we,Dt={}){return this.request("HEAD",we,Dt)}jsonp(we,Dt){return this.request("JSONP",we,{params:(new Fe).append(Dt,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(we,Dt={}){return this.request("OPTIONS",we,Dt)}patch(we,Dt,ft={}){return this.request("PATCH",we,_t(ft,Dt))}post(we,Dt,ft={}){return this.request("POST",we,_t(ft,Dt))}put(we,Dt,ft={}){return this.request("PUT",we,_t(ft,Dt))}}return At.\u0275fac=function(we){return new(we||At)(X.LFG(xe))},At.\u0275prov=X.Yz7({token:At,factory:At.\u0275fac}),At})();class rt{constructor(Ee,we){this.next=Ee,this.interceptor=we}handle(Ee){return this.interceptor.intercept(Ee,this.next)}}const Zt=new X.OlP("HTTP_INTERCEPTORS");let be=(()=>{class At{intercept(we,Dt){return Dt.handle(we)}}return At.\u0275fac=function(we){return new(we||At)},At.\u0275prov=X.Yz7({token:At,factory:At.\u0275fac}),At})();const Vi=/^\)\]\}',?\n/;let si=(()=>{class At{constructor(we){this.xhrFactory=we}handle(we){if("JSONP"===we.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new $e.y(Dt=>{const ft=this.xhrFactory.build();if(ft.open(we.method,we.urlWithParams),we.withCredentials&&(ft.withCredentials=!0),we.headers.forEach((vn,Sn)=>ft.setRequestHeader(vn,Sn.join(","))),we.headers.has("Accept")||ft.setRequestHeader("Accept","application/json, text/plain, */*"),!we.headers.has("Content-Type")){const vn=we.detectContentTypeHeader();null!==vn&&ft.setRequestHeader("Content-Type",vn)}if(we.responseType){const vn=we.responseType.toLowerCase();ft.responseType="json"!==vn?vn:"text"}const wt=we.serializeBody();let zt=null;const fn=()=>{if(null!==zt)return zt;const vn=ft.statusText||"OK",Sn=new oe(ft.getAllResponseHeaders()),yn=function Sr(At){return"responseURL"in At&&At.responseURL?At.responseURL:/^X-Request-URL:/m.test(At.getAllResponseHeaders())?At.getResponseHeader("X-Request-URL"):null}(ft)||we.url;return zt=new Re({headers:Sn,status:ft.status,statusText:vn,url:yn}),zt},jn=()=>{let{headers:vn,status:Sn,statusText:yn,url:Ar}=fn(),Dn=null;204!==Sn&&(Dn=void 0===ft.response?ft.responseText:ft.response),0===Sn&&(Sn=Dn?200:0);let Qn=Sn>=200&&Sn<300;if("json"===we.responseType&&"string"==typeof Dn){const Tr=Dn;Dn=Dn.replace(Vi,"");try{Dn=""!==Dn?JSON.parse(Dn):null}catch(xi){Dn=Tr,Qn&&(Qn=!1,Dn={error:xi,text:Dn})}}Qn?(Dt.next(new Je({body:Dn,headers:vn,status:Sn,statusText:yn,url:Ar||void 0})),Dt.complete()):Dt.error(new et({error:Dn,headers:vn,status:Sn,statusText:yn,url:Ar||void 0}))},Rn=vn=>{const{url:Sn}=fn(),yn=new et({error:vn,status:ft.status||0,statusText:ft.statusText||"Unknown Error",url:Sn||void 0});Dt.error(yn)};let zi=!1;const Ti=vn=>{zi||(Dt.next(fn()),zi=!0);let Sn={type:at.DownloadProgress,loaded:vn.loaded};vn.lengthComputable&&(Sn.total=vn.total),"text"===we.responseType&&!!ft.responseText&&(Sn.partialText=ft.responseText),Dt.next(Sn)},Ki=vn=>{let Sn={type:at.UploadProgress,loaded:vn.loaded};vn.lengthComputable&&(Sn.total=vn.total),Dt.next(Sn)};return ft.addEventListener("load",jn),ft.addEventListener("error",Rn),ft.addEventListener("timeout",Rn),ft.addEventListener("abort",Rn),we.reportProgress&&(ft.addEventListener("progress",Ti),null!==wt&&ft.upload&&ft.upload.addEventListener("progress",Ki)),ft.send(wt),Dt.next({type:at.Sent}),()=>{ft.removeEventListener("error",Rn),ft.removeEventListener("abort",Rn),ft.removeEventListener("load",jn),ft.removeEventListener("timeout",Rn),we.reportProgress&&(ft.removeEventListener("progress",Ti),null!==wt&&ft.upload&&ft.upload.removeEventListener("progress",Ki)),ft.readyState!==ft.DONE&&ft.abort()}})}}return At.\u0275fac=function(we){return new(we||At)(X.LFG(D.JF))},At.\u0275prov=X.Yz7({token:At,factory:At.\u0275fac}),At})();const Es=new X.OlP("XSRF_COOKIE_NAME"),nr=new X.OlP("XSRF_HEADER_NAME");class Si{}let jr=(()=>{class At{constructor(we,Dt,ft){this.doc=we,this.platform=Dt,this.cookieName=ft,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const we=this.doc.cookie||"";return we!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,D.Mx)(we,this.cookieName),this.lastCookieString=we),this.lastToken}}return At.\u0275fac=function(we){return new(we||At)(X.LFG(D.K0),X.LFG(X.Lbi),X.LFG(Es))},At.\u0275prov=X.Yz7({token:At,factory:At.\u0275fac}),At})(),Cr=(()=>{class At{constructor(we,Dt){this.tokenService=we,this.headerName=Dt}intercept(we,Dt){const ft=we.url.toLowerCase();if("GET"===we.method||"HEAD"===we.method||ft.startsWith("http://")||ft.startsWith("https://"))return Dt.handle(we);const wt=this.tokenService.getToken();return null!==wt&&!we.headers.has(this.headerName)&&(we=we.clone({headers:we.headers.set(this.headerName,wt)})),Dt.handle(we)}}return At.\u0275fac=function(we){return new(we||At)(X.LFG(Si),X.LFG(nr))},At.\u0275prov=X.Yz7({token:At,factory:At.\u0275fac}),At})(),eo=(()=>{class At{constructor(we,Dt){this.backend=we,this.injector=Dt,this.chain=null}handle(we){if(null===this.chain){const Dt=this.injector.get(Zt,[]);this.chain=Dt.reduceRight((ft,wt)=>new rt(ft,wt),this.backend)}return this.chain.handle(we)}}return At.\u0275fac=function(we){return new(we||At)(X.LFG(me),X.LFG(X.zs3))},At.\u0275prov=X.Yz7({token:At,factory:At.\u0275fac}),At})(),ir=(()=>{class At{static disable(){return{ngModule:At,providers:[{provide:Cr,useClass:be}]}}static withOptions(we={}){return{ngModule:At,providers:[we.cookieName?{provide:Es,useValue:we.cookieName}:[],we.headerName?{provide:nr,useValue:we.headerName}:[]]}}}return At.\u0275fac=function(we){return new(we||At)},At.\u0275mod=X.oAB({type:At}),At.\u0275inj=X.cJS({providers:[Cr,{provide:Zt,useExisting:Cr,multi:!0},{provide:Si,useClass:jr},{provide:Es,useValue:"XSRF-TOKEN"},{provide:nr,useValue:"X-XSRF-TOKEN"}]}),At})(),cs=(()=>{class At{}return At.\u0275fac=function(we){return new(we||At)},At.\u0275mod=X.oAB({type:At}),At.\u0275inj=X.cJS({providers:[Ge,{provide:xe,useClass:eo},si,{provide:me,useExisting:si}],imports:[[ir.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),At})()},7587:(dn,tt,z)=>{z.d(tt,{deG:()=>Uo,tb:()=>Rm,AFp:()=>Om,ip1:()=>Pm,CZH:()=>Kd,hGG:()=>Eb,z2F:()=>Wf,sBO:()=>G_,Sil:()=>nb,_Vd:()=>yf,EJc:()=>Xx,SBq:()=>Nd,qLn:()=>_h,vpe:()=>ls,tBr:()=>ql,XFs:()=>En,OlP:()=>pr,zs3:()=>Qs,ZZ4:()=>$m,aQg:()=>qm,soG:()=>x_,YKP:()=>JI,h0i:()=>yu,PXZ:()=>Hm,R0b:()=>qo,FiY:()=>Wu,Lbi:()=>Uf,g9A:()=>Su,Qsj:()=>px,FYo:()=>ZI,JOm:()=>ka,q3G:()=>wr,tp0:()=>ju,Rgc:()=>Po,dDg:()=>D_,GfV:()=>qI,s_b:()=>zd,ifc:()=>Rn,eFA:()=>R_,G48:()=>ub,Gpc:()=>xt,f3M:()=>ks,_c5:()=>Tb,VLi:()=>Um,c2e:()=>Qx,zSh:()=>ec,wAp:()=>an,vHH:()=>Ht,EiD:()=>bC,mCW:()=>Zu,qzn:()=>Nc,JVY:()=>Ov,pB0:()=>Fv,eBb:()=>Rv,L6k:()=>Lv,LAX:()=>Nv,cg1:()=>mf,kL8:()=>zp,yhl:()=>mC,dqk:()=>Sn,sIi:()=>ml,CqO:()=>ac,QGY:()=>Sp,F4k:()=>qA,RDi:()=>Z,AaK:()=>st,z3N:()=>Na,qOj:()=>Wh,TTD:()=>oa,_Bn:()=>Xs,xp6:()=>qC,uIk:()=>Cp,Tol:()=>T0,ekj:()=>hf,Suo:()=>mm,Xpm:()=>us,lG2:()=>Fn,Yz7:()=>si,cJS:()=>nr,oAB:()=>ke,Yjl:()=>Gi,Y36:()=>rf,_UZ:()=>of,GkF:()=>oc,BQk:()=>za,ynx:()=>va,qZA:()=>Ha,TgZ:()=>fo,EpF:()=>fu,n5z:()=>zl,LFG:()=>Xr,$8M:()=>Vr,$Z:()=>hu,NdJ:()=>lf,CRH:()=>Cm,kcU:()=>bc,O4$:()=>Kr,oxw:()=>y0,ALo:()=>n_,lcZ:()=>Ml,Hsn:()=>x0,F$t:()=>yd,Q6J:()=>Mp,s9C:()=>JA,MGl:()=>lc,DdM:()=>Bd,VKq:()=>Ex,WLB:()=>Dx,kEZ:()=>am,l5B:()=>Px,qbA:()=>Ox,iGM:()=>$d,MAs:()=>UA,Jf7:()=>fy,CHM:()=>Ic,oJD:()=>wC,LSH:()=>gg,Udp:()=>mu,YNc:()=>VA,W1O:()=>Im,_uU:()=>gf,Oqu:()=>Fp,hij:()=>Cu,AsE:()=>kp,Gf:()=>pm});var D=z(8189),X=z(8421),c=z(515),$e=z(3269),J=z(2076),ee=z(7579),xe=z(727),me=z(8306),oe=z(3099);function de(r){for(let s in r)if(r[s]===de)return s;throw Error("Could not find renamed property on target object.")}function Se(r,s){for(const l in s)s.hasOwnProperty(l)&&!r.hasOwnProperty(l)&&(r[l]=s[l])}function st(r){if("string"==typeof r)return r;if(Array.isArray(r))return"["+r.map(st).join(", ")+"]";if(null==r)return""+r;if(r.overriddenName)return`${r.overriddenName}`;if(r.name)return`${r.name}`;const s=r.toString();if(null==s)return""+s;const l=s.indexOf("\n");return-1===l?s:s.substring(0,l)}function Ye(r,s){return null==r||""===r?null===s?"":s:null==s||""===s?r:r+" "+s}const Tt=de({__forward_ref__:de});function xt(r){return r.__forward_ref__=xt,r.toString=function(){return st(this())},r}function Fe(r){return Ut(r)?r():r}function Ut(r){return"function"==typeof r&&r.hasOwnProperty(Tt)&&r.__forward_ref__===xt}class Ht extends Error{constructor(s,l){super(function Ft(r,s){return`NG0${Math.abs(r)}${s?": "+s:""}`}(s,l)),this.code=s}}function he(r){return"string"==typeof r?r:null==r?"":String(r)}function Ct(r){return"function"==typeof r?r.name||r.toString():"object"==typeof r&&null!=r&&"function"==typeof r.type?r.type.name||r.type.toString():he(r)}function Ne(r,s){const l=s?` in ${s}`:"";throw new Ht(-201,`No provider for ${Ct(r)} found${l}`)}function ri(r,s){null==r&&function ln(r,s,l,d){throw new Error(`ASSERTION ERROR: ${r}`+(null==d?"":` [Expected=> ${l} ${d} ${s} <=Actual]`))}(s,r,null,"!=")}function si(r){return{token:r.token,providedIn:r.providedIn||null,factory:r.factory,value:void 0}}function nr(r){return{providers:r.providers||[],imports:r.imports||[]}}function Si(r){return jr(r,ns)||jr(r,cs)}function jr(r,s){return r.hasOwnProperty(s)?r[s]:null}function $r(r){return r&&(r.hasOwnProperty(ir)||r.hasOwnProperty(to))?r[ir]:null}const ns=de({\u0275prov:de}),ir=de({\u0275inj:de}),cs=de({ngInjectableDef:de}),to=de({ngInjectorDef:de});var En=(()=>((En=En||{})[En.Default=0]="Default",En[En.Host=1]="Host",En[En.Self=2]="Self",En[En.SkipSelf=4]="SkipSelf",En[En.Optional=8]="Optional",En))();let At;function we(r){const s=At;return At=r,s}function Dt(r,s,l){const d=Si(r);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:l&En.Optional?null:void 0!==s?s:void Ne(st(r),"Injector")}function wt(r){return{toString:r}.toString()}var zt=(()=>((zt=zt||{})[zt.OnPush=0]="OnPush",zt[zt.Default=1]="Default",zt))(),Rn=(()=>{return(r=Rn||(Rn={}))[r.Emulated=0]="Emulated",r[r.None=2]="None",r[r.ShadowDom=3]="ShadowDom",Rn;var r})();const zi="undefined"!=typeof globalThis&&globalThis,Ti="undefined"!=typeof window&&window,Ki="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Sn=zi||"undefined"!=typeof global&&global||Ti||Ki,Dn={},Qn=[],Tr=de({\u0275cmp:de}),xi=de({\u0275dir:de}),Er=de({\u0275pipe:de}),fi=de({\u0275mod:de}),Ui=de({\u0275fac:de}),Zr=de({__NG_ELEMENT_ID__:de});let Ji=0;function us(r){return wt(()=>{const l={},d={type:r.type,providersResolver:null,decls:r.decls,vars:r.vars,factory:null,template:r.template||null,consts:r.consts||null,ngContentSelectors:r.ngContentSelectors,hostBindings:r.hostBindings||null,hostVars:r.hostVars||0,hostAttrs:r.hostAttrs||null,contentQueries:r.contentQueries||null,declaredInputs:l,inputs:null,outputs:null,exportAs:r.exportAs||null,onPush:r.changeDetection===zt.OnPush,directiveDefs:null,pipeDefs:null,selectors:r.selectors||Qn,viewQuery:r.viewQuery||null,features:r.features||null,data:r.data||{},encapsulation:r.encapsulation||Rn.Emulated,id:"c",styles:r.styles||Qn,_:null,setInput:null,schemas:r.schemas||null,tView:null},f=r.directives,m=r.features,I=r.pipes;return d.id+=Ji++,d.inputs=kt(r.inputs,l),d.outputs=kt(r.outputs),m&&m.forEach(w=>w(d)),d.directiveDefs=f?()=>("function"==typeof f?f():f).map(We):null,d.pipeDefs=I?()=>("function"==typeof I?I():I).map(Te):null,d})}function We(r){return Xn(r)||function gr(r){return r[xi]||null}(r)}function Te(r){return function Nr(r){return r[Er]||null}(r)}const fe={};function ke(r){return wt(()=>{const s={type:r.type,bootstrap:r.bootstrap||Qn,declarations:r.declarations||Qn,imports:r.imports||Qn,exports:r.exports||Qn,transitiveCompileScopes:null,schemas:r.schemas||null,id:r.id||null};return null!=r.id&&(fe[r.id]=r.type),s})}function kt(r,s){if(null==r)return Dn;const l={};for(const d in r)if(r.hasOwnProperty(d)){let f=r[d],m=f;Array.isArray(f)&&(m=f[1],f=f[0]),l[f]=d,s&&(s[f]=m)}return l}const Fn=us;function Gi(r){return{type:r.type,name:r.name,factory:null,pure:!1!==r.pure,onDestroy:r.type.prototype.ngOnDestroy||null}}function Xn(r){return r[Tr]||null}function Ir(r,s){const l=r[fi]||null;if(!l&&!0===s)throw new Error(`Type ${st(r)} does not have '\u0275mod' property.`);return l}function Xe(r){return Array.isArray(r)&&"object"==typeof r[1]}function ht(r){return Array.isArray(r)&&!0===r[1]}function sn(r){return 0!=(8&r.flags)}function Yn(r){return 2==(2&r.flags)}function mn(r){return 1==(1&r.flags)}function Mn(r){return null!==r.template}function Br(r){return 0!=(512&r[2])}function sa(r,s){return r.hasOwnProperty(Ui)?r[Ui]:null}class Ya{constructor(s,l,d){this.previousValue=s,this.currentValue=l,this.firstChange=d}isFirstChange(){return this.firstChange}}function oa(){return io}function io(r){return r.type.prototype.ngOnChanges&&(r.setInput=Io),Cc}function Cc(){const r=H(this),s=null==r?void 0:r.current;if(s){const l=r.previous;if(l===Dn)r.previous=s;else for(let d in s)l[d]=s[d];r.current=null,this.ngOnChanges(s)}}function Io(r,s,l,d){const f=H(r)||function Pe(r,s){return r[Nl]=s}(r,{previous:Dn,current:null}),m=f.current||(f.current={}),I=f.previous,w=this.declaredInputs[l],P=I[w];m[w]=new Ya(P&&P.currentValue,s,I===Dn),r[d]=s}oa.ngInherit=!0;const Nl="__ngSimpleChanges__";function H(r){return r[Nl]||null}let L;function Z(r){L=r}function R(){return void 0!==L?L:"undefined"!=typeof document?document:void 0}function pe(r){return!!r.listen}const ot={createRenderer:(r,s)=>R()};function Yt(r){for(;Array.isArray(r);)r=r[0];return r}function bi(r,s){return Yt(s[r])}function kn(r,s){return Yt(s[r.index])}function wi(r,s){return r.data[s]}function Pi(r,s){return r[s]}function Qi(r,s){const l=s[r];return Xe(l)?l:l[0]}function qi(r){return 4==(4&r[2])}function Oi(r){return 128==(128&r[2])}function Ws(r,s){return null==s?null:r[s]}function Ka(r){r[18]=0}function _o(r,s){r[5]+=s;let l=r,d=r[3];for(;null!==d&&(1===s&&1===l[5]||-1===s&&0===l[5]);)d[5]+=s,l=d,d=d[3]}const Gn={lFrame:ih(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Fu(){return Gn.bindingsEnabled}function Pt(){return Gn.lFrame.lView}function ai(){return Gn.lFrame.tView}function Ic(r){return Gn.lFrame.contextLView=r,r[8]}function Xi(){let r=Fl();for(;null!==r&&64===r.type;)r=r.parent;return r}function Fl(){return Gn.lFrame.currentTNode}function As(r,s){const l=Gn.lFrame;l.currentTNode=r,l.isParent=s}function ku(){return Gn.lFrame.isParent}function Bu(){Gn.lFrame.isParent=!1}function Bl(){return Gn.isInCheckNoChangesMode}function _c(r){Gn.isInCheckNoChangesMode=r}function yr(){const r=Gn.lFrame;let s=r.bindingRootIndex;return-1===s&&(s=r.bindingRootIndex=r.tView.bindingStartIndex),s}function vo(){return Gn.lFrame.bindingIndex++}function ro(r){const s=Gn.lFrame,l=s.bindingIndex;return s.bindingIndex=s.bindingIndex+r,l}function br(r,s){const l=Gn.lFrame;l.bindingIndex=l.bindingRootIndex=r,Da(s)}function Da(r){Gn.lFrame.currentDirectiveIndex=r}function Ja(){return Gn.lFrame.currentQueryIndex}function $t(r){Gn.lFrame.currentQueryIndex=r}function Pa(r){const s=r[1];return 2===s.type?s.declTNode:1===s.type?r[6]:null}function yc(r,s,l){if(l&En.SkipSelf){let f=s,m=r;for(;!(f=f.parent,null!==f||l&En.Host||(f=Pa(m),null===f||(m=m[15],10&f.type))););if(null===f)return!1;s=f,r=m}const d=Gn.lFrame=xc();return d.currentTNode=s,d.lView=r,!0}function Lo(r){const s=xc(),l=r[1];Gn.lFrame=s,s.currentTNode=l.firstChild,s.lView=r,s.tView=l,s.contextLView=r,s.bindingIndex=l.bindingStartIndex,s.inI18n=!1}function xc(){const r=Gn.lFrame,s=null===r?null:r.child;return null===s?ih(r):s}function ih(r){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:r,child:null,inI18n:!1};return null!==r&&(r.child=s),s}function js(){const r=Gn.lFrame;return Gn.lFrame=r.parent,r.currentTNode=null,r.lView=null,r}const Mi=js;function Is(){const r=js();r.isParent=!0,r.tView=null,r.selectedIndex=-1,r.contextLView=null,r.elementDepthCount=0,r.currentDirectiveIndex=-1,r.currentNamespace=null,r.bindingRootIndex=-1,r.bindingIndex=-1,r.currentQueryIndex=0}function Yr(){return Gn.lFrame.selectedIndex}function Oa(r){Gn.lFrame.selectedIndex=r}function or(){const r=Gn.lFrame;return wi(r.tView,r.selectedIndex)}function Kr(){Gn.lFrame.currentNamespace="svg"}function bc(){!function rh(){Gn.lFrame.currentNamespace=null}()}function xo(r,s){for(let l=s.directiveStart,d=s.directiveEnd;l<d;l++){const m=r.data[l].type.prototype,{ngAfterContentInit:I,ngAfterContentChecked:w,ngAfterViewInit:P,ngAfterViewChecked:k,ngOnDestroy:j}=m;I&&(r.contentHooks||(r.contentHooks=[])).push(-l,I),w&&((r.contentHooks||(r.contentHooks=[])).push(l,w),(r.contentCheckHooks||(r.contentCheckHooks=[])).push(l,w)),P&&(r.viewHooks||(r.viewHooks=[])).push(-l,P),k&&((r.viewHooks||(r.viewHooks=[])).push(l,k),(r.viewCheckHooks||(r.viewCheckHooks=[])).push(l,k)),null!=j&&(r.destroyHooks||(r.destroyHooks=[])).push(l,j)}}function Qa(r,s,l){ca(r,s,3,l)}function dr(r,s,l,d){(3&r[2])===l&&ca(r,s,l,d)}function la(r,s){let l=r[2];(3&l)===s&&(l&=2047,l+=1,r[2]=l)}function ca(r,s,l,d){const m=null!=d?d:-1,I=s.length-1;let w=0;for(let P=void 0!==d?65535&r[18]:0;P<I;P++)if("number"==typeof s[P+1]){if(w=s[P],null!=d&&w>=d)break}else s[P]<0&&(r[18]+=65536),(w<m||-1==m)&&(bo(r,l,s,P),r[18]=(4294901760&r[18])+P+2),P++}function bo(r,s,l,d){const f=l[d]<0,m=l[d+1],w=r[f?-l[d]:l[d]];if(f){if(r[2]>>11<r[18]>>16&&(3&r[2])===s){r[2]+=2048;try{m.call(w)}finally{}}}else try{m.call(w)}finally{}}class Jr{constructor(s,l,d){this.factory=s,this.resolving=!1,this.canSeeViewProviders=l,this.injectImpl=d}}function $s(r,s,l){const d=pe(r);let f=0;for(;f<l.length;){const m=l[f];if("number"==typeof m){if(0!==m)break;f++;const I=l[f++],w=l[f++],P=l[f++];d?r.setAttribute(s,w,P,I):s.setAttributeNS(I,w,P)}else{const I=m,w=l[++f];ao(I)?d&&r.setProperty(s,I,w):d?r.setAttribute(s,I,w):s.setAttribute(I,w),f++}}return f}function Fo(r){return 3===r||4===r||6===r}function ao(r){return 64===r.charCodeAt(0)}function el(r,s){if(null!==s&&0!==s.length)if(null===r||0===r.length)r=s.slice();else{let l=-1;for(let d=0;d<s.length;d++){const f=s[d];"number"==typeof f?l=f:0===l||Ul(r,l,f,null,-1===l||2===l?s[++d]:null)}}return r}function Ul(r,s,l,d,f){let m=0,I=r.length;if(-1===s)I=-1;else for(;m<r.length;){const w=r[m++];if("number"==typeof w){if(w===s){I=-1;break}if(w>s){I=m-1;break}}}for(;m<r.length;){const w=r[m];if("number"==typeof w)break;if(w===l){if(null===d)return void(null!==f&&(r[m+1]=f));if(d===r[m+1])return void(r[m+2]=f)}m++,null!==d&&m++,null!==f&&m++}-1!==I&&(r.splice(I,0,s),m=I+1),r.splice(m++,0,l),null!==d&&r.splice(m++,0,d),null!==f&&r.splice(m++,0,f)}function ko(r){return-1!==r}function ua(r){return 32767&r}function Bo(r,s){let l=function Sc(r){return r>>16}(r),d=s;for(;l>0;)d=d[15],l--;return d}let tl=!0;function $n(r){const s=tl;return tl=r,s}let tg=0;function da(r,s){const l=M(r,s);if(-1!==l)return l;const d=s[1];d.firstCreatePass&&(r.injectorIndex=s.length,vs(d.data,r),vs(s,null),vs(d.blueprint,null));const f=x(r,s),m=r.injectorIndex;if(ko(f)){const I=ua(f),w=Bo(f,s),P=w[1].data;for(let k=0;k<8;k++)s[m+k]=w[I+k]|P[I+k]}return s[m+8]=f,m}function vs(r,s){r.push(0,0,0,0,0,0,0,0,s)}function M(r,s){return-1===r.injectorIndex||r.parent&&r.parent.injectorIndex===r.injectorIndex||null===s[r.injectorIndex+8]?-1:r.injectorIndex}function x(r,s){if(r.parent&&-1!==r.parent.injectorIndex)return r.parent.injectorIndex;let l=0,d=null,f=s;for(;null!==f;){const m=f[1],I=m.type;if(d=2===I?m.declTNode:1===I?f[6]:null,null===d)return-1;if(l++,f=f[15],-1!==d.injectorIndex)return d.injectorIndex|l<<16}return-1}function y(r,s,l){!function Vo(r,s,l){let d;"string"==typeof l?d=l.charCodeAt(0)||0:l.hasOwnProperty(Zr)&&(d=l[Zr]),null==d&&(d=l[Zr]=tg++);const f=255&d;s.data[r+(f>>5)]|=1<<f}(r,s,l)}function N(r,s,l){if(l&En.Optional)return r;Ne(s,"NodeInjector")}function q(r,s,l,d){if(l&En.Optional&&void 0===d&&(d=null),0==(l&(En.Self|En.Host))){const f=r[9],m=we(void 0);try{return f?f.get(s,d,l&En.Optional):Dt(s,d,l&En.Optional)}finally{we(m)}}return N(d,s,l)}function le(r,s,l,d=En.Default,f){if(null!==r){const m=function Di(r){if("string"==typeof r)return r.charCodeAt(0)||0;const s=r.hasOwnProperty(Zr)?r[Zr]:void 0;return"number"==typeof s?s>=0?255&s:Ze:s}(l);if("function"==typeof m){if(!yc(s,r,d))return d&En.Host?N(f,l,d):q(s,l,d,f);try{const I=m(d);if(null!=I||d&En.Optional)return I;Ne(l)}finally{Mi()}}else if("number"==typeof m){let I=null,w=M(r,s),P=-1,k=d&En.Host?s[16][6]:null;for((-1===w||d&En.SkipSelf)&&(P=-1===w?x(r,s):s[w+8],-1!==P&&Zs(d,!1)?(I=s[1],w=ua(P),s=Bo(P,s)):w=-1);-1!==w;){const j=s[1];if(yi(m,w,j.data)){const re=Wt(w,s,l,I,d,k);if(re!==Ae)return re}P=s[w+8],-1!==P&&Zs(d,s[1].data[w+8]===k)&&yi(m,w,s)?(I=j,w=ua(P),s=Bo(P,s)):w=-1}}}return q(s,l,d,f)}const Ae={};function Ze(){return new qs(Xi(),Pt())}function Wt(r,s,l,d,f,m){const I=s[1],w=I.data[r+8],j=Zn(w,I,l,null==d?Yn(w)&&tl:d!=I&&0!=(3&w.type),f&En.Host&&m===w);return null!==j?gn(s,I,j,w):Ae}function Zn(r,s,l,d,f){const m=r.providerIndexes,I=s.data,w=1048575&m,P=r.directiveStart,j=m>>20,ve=f?w+j:r.directiveEnd;for(let Be=d?w:w+j;Be<ve;Be++){const lt=I[Be];if(Be<P&&l===lt||Be>=P&&lt.type===l)return Be}if(f){const Be=I[P];if(Be&&Mn(Be)&&Be.type===l)return P}return null}function gn(r,s,l,d){let f=r[l];const m=s.data;if(function Xa(r){return r instanceof Jr}(f)){const I=f;I.resolving&&function _e(r,s){const l=s?`. Dependency path: ${s.join(" > ")} > ${r}`:"";throw new Ht(-200,`Circular dependency in DI detected for ${r}${l}`)}(Ct(m[l]));const w=$n(I.canSeeViewProviders);I.resolving=!0;const P=I.injectImpl?we(I.injectImpl):null;yc(r,d,En.Default);try{f=r[l]=I.factory(void 0,m,r,d),s.firstCreatePass&&l>=d.directiveStart&&function yo(r,s,l){const{ngOnChanges:d,ngOnInit:f,ngDoCheck:m}=s.type.prototype;if(d){const I=io(s);(l.preOrderHooks||(l.preOrderHooks=[])).push(r,I),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(r,I)}f&&(l.preOrderHooks||(l.preOrderHooks=[])).push(0-r,f),m&&((l.preOrderHooks||(l.preOrderHooks=[])).push(r,m),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(r,m))}(l,m[l],s)}finally{null!==P&&we(P),$n(w),I.resolving=!1,Mi()}}return f}function yi(r,s,l){return!!(l[s+(r>>5)]&1<<r)}function Zs(r,s){return!(r&En.Self||r&En.Host&&s)}class qs{constructor(s,l){this._tNode=s,this._lView=l}get(s,l,d){return le(this._tNode,this._lView,s,d,l)}}function zl(r){return wt(()=>{const s=r.prototype.constructor,l=s[Ui]||xr(s),d=Object.prototype;let f=Object.getPrototypeOf(r.prototype).constructor;for(;f&&f!==d;){const m=f[Ui]||xr(f);if(m&&m!==l)return m;f=Object.getPrototypeOf(f)}return m=>new m})}function xr(r){return Ut(r)?()=>{const s=xr(Fe(r));return s&&s()}:sa(r)}function Vr(r){return function O(r,s){if("class"===s)return r.classes;if("style"===s)return r.styles;const l=r.attrs;if(l){const d=l.length;let f=0;for(;f<d;){const m=l[f];if(Fo(m))break;if(0===m)f+=2;else if("number"==typeof m)for(f++;f<d&&"string"==typeof l[f];)f++;else{if(m===s)return l[f+1];f+=2}}}return null}(Xi(),r)}const nl="__parameters__";function Wl(r,s,l){return wt(()=>{const d=function il(r){return function(...l){if(r){const d=r(...l);for(const f in d)this[f]=d[f]}}}(s);function f(...m){if(this instanceof f)return d.apply(this,m),this;const I=new f(...m);return w.annotation=I,w;function w(P,k,j){const re=P.hasOwnProperty(nl)?P[nl]:Object.defineProperty(P,nl,{value:[]})[nl];for(;re.length<=j;)re.push(null);return(re[j]=re[j]||[]).push(I),P}}return l&&(f.prototype=Object.create(l.prototype)),f.prototype.ngMetadataName=r,f.annotationCls=f,f})}class pr{constructor(s,l){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof l?this.__NG_ELEMENT_ID__=l:void 0!==l&&(this.\u0275prov=si({token:this,providedIn:l.providedIn||"root",factory:l.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Uo=new pr("AnalyzeForEntryComponents");function Ho(r,s){void 0===s&&(s=r);for(let l=0;l<r.length;l++){let d=r[l];Array.isArray(d)?(s===r&&(s=r.slice(0,l)),Ho(d,s)):s!==r&&s.push(d)}return s}function on(r,s){r.forEach(l=>Array.isArray(l)?on(l,s):s(l))}function pv(r,s,l){s>=r.length?r.push(l):r.splice(s,0,l)}function ch(r,s){return s>=r.length-1?r.pop():r.splice(s,1)[0]}function xs(r,s){const l=[];for(let d=0;d<r;d++)l.push(s);return l}function Js(r,s,l){let d=sl(r,s);return d>=0?r[1|d]=l:(d=~d,function lo(r,s,l,d){let f=r.length;if(f==s)r.push(l,d);else if(1===f)r.push(d,r[0]),r[0]=l;else{for(f--,r.push(r[f-1],r[f]);f>s;)r[f]=r[f-2],f--;r[s]=l,r[s+1]=d}}(r,d,s,l)),d}function rl(r,s){const l=sl(r,s);if(l>=0)return r[1|l]}function sl(r,s){return function Ra(r,s,l){let d=0,f=r.length>>l;for(;f!==d;){const m=d+(f-d>>1),I=r[m<<l];if(s===I)return m<<l;I>s?f=m:d=m+1}return~(f<<l)}(r,s,1)}const al={},zu="__NG_DI_FLAG__",Zl="ngTempTokenPath",mv=/\n/gm,ll="__source",Pc=de({provide:String,useValue:de});let Or;function cC(r){const s=Or;return Or=r,s}function gh(r,s=En.Default){if(void 0===Or)throw new Ht(203,"");return null===Or?Dt(r,void 0,s):Or.get(r,s&En.Optional?null:void 0,s)}function Xr(r,s=En.Default){return(function Ee(){return At}()||gh)(Fe(r),s)}const ks=Xr;function Gu(r){const s=[];for(let l=0;l<r.length;l++){const d=Fe(r[l]);if(Array.isArray(d)){if(0===d.length)throw new Ht(900,"");let f,m=En.Default;for(let I=0;I<d.length;I++){const w=d[I],P=Oc(w);"number"==typeof P?-1===P?f=w.token:m|=P:f=w}s.push(Xr(f,m))}else s.push(Xr(d))}return s}function hr(r,s){return r[zu]=s,r.prototype[zu]=s,r}function Oc(r){return r[zu]}const ql=hr(Wl("Inject",r=>({token:r})),-1),Wu=hr(Wl("Optional"),8),ju=hr(Wl("SkipSelf"),4);let Ch,Ah;function Rc(r){var s;return(null===(s=function lg(){if(void 0===Ch&&(Ch=null,Sn.trustedTypes))try{Ch=Sn.trustedTypes.createPolicy("angular",{createHTML:r=>r,createScript:r=>r,createScriptURL:r=>r})}catch(r){}return Ch}())||void 0===s?void 0:s.createHTML(r))||r}function fC(r){var s;return(null===(s=function cg(){if(void 0===Ah&&(Ah=null,Sn.trustedTypes))try{Ah=Sn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:r=>r,createScript:r=>r,createScriptURL:r=>r})}catch(r){}return Ah}())||void 0===s?void 0:s.createHTML(r))||r}class Kl{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Sv extends Kl{getTypeName(){return"HTML"}}class Tv extends Kl{getTypeName(){return"Style"}}class Ev extends Kl{getTypeName(){return"Script"}}class Dv extends Kl{getTypeName(){return"URL"}}class Pv extends Kl{getTypeName(){return"ResourceURL"}}function Na(r){return r instanceof Kl?r.changingThisBreaksApplicationSecurity:r}function Nc(r,s){const l=mC(r);if(null!=l&&l!==s){if("ResourceURL"===l&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${l} (see https://g.co/ng/security#xss)`)}return l===s}function mC(r){return r instanceof Kl&&r.getTypeName()||null}function Ov(r){return new Sv(r)}function Lv(r){return new Tv(r)}function Rv(r){return new Ev(r)}function Nv(r){return new Dv(r)}function Fv(r){return new Pv(r)}class kv{constructor(s){this.inertDocumentHelper=s}getInertBodyElement(s){s="<body><remove></remove>"+s;try{const l=(new window.DOMParser).parseFromString(Rc(s),"text/html").body;return null===l?this.inertDocumentHelper.getInertBodyElement(s):(l.removeChild(l.firstChild),l)}catch(l){return null}}}class Bv{constructor(s){if(this.defaultDoc=s,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const l=this.inertDocument.createElement("html");this.inertDocument.appendChild(l);const d=this.inertDocument.createElement("body");l.appendChild(d)}}getInertBodyElement(s){const l=this.inertDocument.createElement("template");if("content"in l)return l.innerHTML=Rc(s),l;const d=this.inertDocument.createElement("body");return d.innerHTML=Rc(s),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(d),d}stripCustomNsAttrs(s){const l=s.attributes;for(let f=l.length-1;0<f;f--){const I=l.item(f).name;("xmlns:ns1"===I||0===I.indexOf("ns1:"))&&s.removeAttribute(I)}let d=s.firstChild;for(;d;)d.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(d),d=d.nextSibling}}const Uv=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Hv=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Zu(r){return(r=String(r)).match(Uv)||r.match(Hv)?r:"unsafe:"+r}function ga(r){const s={};for(const l of r.split(","))s[l]=!0;return s}function qu(...r){const s={};for(const l of r)for(const d in l)l.hasOwnProperty(d)&&(s[d]=!0);return s}const IC=ga("area,br,col,hr,img,wbr"),_C=ga("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),vC=ga("rp,rt"),ug=qu(IC,qu(_C,ga("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),qu(vC,ga("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),qu(vC,_C)),dg=ga("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),hg=ga("srcset"),yC=qu(dg,hg,ga("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ga("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),zv=ga("script,style,template");class Gv{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(s){let l=s.firstChild,d=!0;for(;l;)if(l.nodeType===Node.ELEMENT_NODE?d=this.startElement(l):l.nodeType===Node.TEXT_NODE?this.chars(l.nodeValue):this.sanitizedSomething=!0,d&&l.firstChild)l=l.firstChild;else for(;l;){l.nodeType===Node.ELEMENT_NODE&&this.endElement(l);let f=this.checkClobberedElement(l,l.nextSibling);if(f){l=f;break}l=this.checkClobberedElement(l,l.parentNode)}return this.buf.join("")}startElement(s){const l=s.nodeName.toLowerCase();if(!ug.hasOwnProperty(l))return this.sanitizedSomething=!0,!zv.hasOwnProperty(l);this.buf.push("<"),this.buf.push(l);const d=s.attributes;for(let f=0;f<d.length;f++){const m=d.item(f),I=m.name,w=I.toLowerCase();if(!yC.hasOwnProperty(w)){this.sanitizedSomething=!0;continue}let P=m.value;dg[w]&&(P=Zu(P)),hg[w]&&(r=P,P=(r=String(r)).split(",").map(s=>Zu(s.trim())).join(", ")),this.buf.push(" ",I,'="',xC(P),'"')}var r;return this.buf.push(">"),!0}endElement(s){const l=s.nodeName.toLowerCase();ug.hasOwnProperty(l)&&!IC.hasOwnProperty(l)&&(this.buf.push("</"),this.buf.push(l),this.buf.push(">"))}chars(s){this.buf.push(xC(s))}checkClobberedElement(s,l){if(l&&(s.compareDocumentPosition(l)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${s.outerHTML}`);return l}}const Wv=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,jv=/([^\#-~ |!])/g;function xC(r){return r.replace(/&/g,"&amp;").replace(Wv,function(s){return"&#"+(1024*(s.charCodeAt(0)-55296)+(s.charCodeAt(1)-56320)+65536)+";"}).replace(jv,function(s){return"&#"+s.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Ih;function bC(r,s){let l=null;try{Ih=Ih||function CC(r){const s=new Bv(r);return function Vv(){try{return!!(new window.DOMParser).parseFromString(Rc(""),"text/html")}catch(r){return!1}}()?new kv(s):s}(r);let d=s?String(s):"";l=Ih.getInertBodyElement(d);let f=5,m=d;do{if(0===f)throw new Error("Failed to sanitize html because the input is unstable");f--,d=m,m=l.innerHTML,l=Ih.getInertBodyElement(d)}while(d!==m);return Rc((new Gv).sanitizeChildren(fg(l)||l))}finally{if(l){const d=fg(l)||l;for(;d.firstChild;)d.removeChild(d.firstChild)}}}function fg(r){return"content"in r&&function $v(r){return r.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===r.nodeName}(r)?r.content:null}var wr=(()=>((wr=wr||{})[wr.NONE=0]="NONE",wr[wr.HTML=1]="HTML",wr[wr.STYLE=2]="STYLE",wr[wr.SCRIPT=3]="SCRIPT",wr[wr.URL=4]="URL",wr[wr.RESOURCE_URL=5]="RESOURCE_URL",wr))();function wC(r){const s=Yu();return s?fC(s.sanitize(wr.HTML,r)||""):Nc(r,"HTML")?fC(Na(r)):bC(R(),he(r))}function gg(r){const s=Yu();return s?s.sanitize(wr.URL,r)||"":Nc(r,"URL")?Na(r):Zu(he(r))}function Yu(){const r=Pt();return r&&r[12]}const TC="__ngContext__";function bs(r,s){r[TC]=s}function mg(r){const s=function Ku(r){return r[TC]||null}(r);return s?Array.isArray(s)?s:s.lView:null}function Ag(r){return r.ngOriginalError}function ly(r,...s){r.error(...s)}class _h{constructor(){this._console=console}handleError(s){const l=this._findOriginalError(s),d=function ay(r){return r&&r.ngErrorLogger||ly}(s);d(this._console,"ERROR",s),l&&d(this._console,"ORIGINAL ERROR",l)}_findOriginalError(s){let l=s&&Ag(s);for(;l&&Ag(l);)l=Ag(l);return l||null}}const xw=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Sn))();function fy(r){return r.ownerDocument.defaultView}function Fa(r){return r instanceof Function?r():r}var ka=(()=>((ka=ka||{})[ka.Important=1]="Important",ka[ka.DashCase=2]="DashCase",ka))();function LC(r,s){return undefined(r,s)}function vh(r){const s=r[3];return ht(s)?s[3]:s}function RC(r){return Ay(r[13])}function NC(r){return Ay(r[4])}function Ay(r){for(;null!==r&&!ht(r);)r=r[4];return r}function Qu(r,s,l,d,f){if(null!=d){let m,I=!1;ht(d)?m=d:Xe(d)&&(I=!0,d=d[0]);const w=Yt(d);0===r&&null!==l?null==f?Xl(s,l,w):co(s,l,w,f||null,!0):1===r&&null!==l?co(s,l,w,f||null,!0):2===r?function zC(r,s,l){const d=bh(r,s);d&&function BC(r,s,l,d){pe(r)?r.removeChild(s,l,d):s.removeChild(l)}(r,d,s,l)}(s,w,I):3===r&&s.destroyNode(w),null!=m&&function wy(r,s,l,d,f){const m=l[7];m!==Yt(l)&&Qu(s,r,d,m,f);for(let w=10;w<l.length;w++){const P=l[w];ed(P[1],P,r,s,d,m)}}(s,r,m,l,f)}}function nn(r,s,l){if(pe(r))return r.createElement(s,l);{const d=null!==l?function ti(r){const s=r.toLowerCase();return"svg"===s?"http://www.w3.org/2000/svg":"math"===s?"http://www.w3.org/1998/MathML/":null}(l):null;return null===d?r.createElement(s):r.createElementNS(d,s)}}function kC(r,s){const l=r[9],d=l.indexOf(s),f=s[3];1024&s[2]&&(s[2]&=-1025,_o(f,-1)),l.splice(d,1)}function dl(r,s){if(r.length<=10)return;const l=10+s,d=r[l];if(d){const f=d[17];null!==f&&f!==r&&kC(f,d),s>0&&(r[l-1][4]=d[4]);const m=ch(r,10+s);!function pa(r,s){ed(r,s,s[11],2,null,null),s[0]=null,s[6]=null}(d[1],d);const I=m[19];null!==I&&I.detachView(m[1]),d[3]=null,d[4]=null,d[2]&=-129}return d}function Jl(r,s){if(!(256&s[2])){const l=s[11];pe(l)&&l.destroyNode&&ed(r,s,l,3,null,null),function yy(r){let s=r[13];if(!s)return yh(r[1],r);for(;s;){let l=null;if(Xe(s))l=s[13];else{const d=s[10];d&&(l=d)}if(!l){for(;s&&!s[4]&&s!==r;)Xe(s)&&yh(s[1],s),s=s[3];null===s&&(s=r),Xe(s)&&yh(s[1],s),l=s&&s[4]}s=l}}(s)}}function yh(r,s){if(!(256&s[2])){s[2]&=-129,s[2]|=256,function Ig(r,s){let l;if(null!=r&&null!=(l=r.destroyHooks))for(let d=0;d<l.length;d+=2){const f=s[l[d]];if(!(f instanceof Jr)){const m=l[d+1];if(Array.isArray(m))for(let I=0;I<m.length;I+=2){const w=f[m[I]],P=m[I+1];try{P.call(w)}finally{}}else try{m.call(f)}finally{}}}}(r,s),function Ql(r,s){const l=r.cleanup,d=s[7];let f=-1;if(null!==l)for(let m=0;m<l.length-1;m+=2)if("string"==typeof l[m]){const I=l[m+1],w="function"==typeof I?I(s):Yt(s[I]),P=d[f=l[m+2]],k=l[m+3];"boolean"==typeof k?w.removeEventListener(l[m],P,k):k>=0?d[f=k]():d[f=-k].unsubscribe(),m+=2}else{const I=d[f=l[m+1]];l[m].call(I)}if(null!==d){for(let m=f+1;m<d.length;m++)d[m]();s[7]=null}}(r,s),1===s[1].type&&pe(s[11])&&s[11].destroy();const l=s[17];if(null!==l&&ht(s[3])){l!==s[3]&&kC(l,s);const d=s[19];null!==d&&d.detachView(r)}}}function _g(r,s,l){return function xh(r,s,l){let d=s;for(;null!==d&&40&d.type;)d=(s=d).parent;if(null===d)return l[0];if(2&d.flags){const f=r.data[d.directiveStart].encapsulation;if(f===Rn.None||f===Rn.Emulated)return null}return kn(d,l)}(r,s.parent,l)}function co(r,s,l,d,f){pe(r)?r.insertBefore(s,l,d,f):s.insertBefore(l,d,f)}function Xl(r,s,l){pe(r)?r.appendChild(s,l):s.appendChild(l)}function vg(r,s,l,d,f){null!==d?co(r,s,l,d,f):Xl(r,s,l)}function bh(r,s){return pe(r)?r.parentNode(s):s.parentNode}function Xu(r,s,l){return yg(r,s,l)}let yg=function UC(r,s,l){return 40&r.type?kn(r,l):null};function Sh(r,s,l,d){const f=_g(r,d,s),m=s[11],w=Xu(d.parent||s[6],d,s);if(null!=f)if(Array.isArray(l))for(let P=0;P<l.length;P++)vg(m,f,l[P],w,!1);else vg(m,f,l,w,!1)}function Th(r,s){if(null!==s){const l=s.type;if(3&l)return kn(s,r);if(4&l)return xg(-1,r[s.index]);if(8&l){const d=s.child;if(null!==d)return Th(r,d);{const f=r[s.index];return ht(f)?xg(-1,f):Yt(f)}}if(32&l)return LC(s,r)()||Yt(r[s.index]);{const d=HC(r,s);return null!==d?Array.isArray(d)?d[0]:Th(vh(r[16]),d):Th(r,s.next)}}return null}function HC(r,s){return null!==s?r[16][6].projection[s.projection]:null}function xg(r,s){const l=10+r+1;if(l<s.length){const d=s[l],f=d[1].firstChild;if(null!==f)return Th(d,f)}return s[7]}function bg(r,s,l,d,f,m,I){for(;null!=l;){const w=d[l.index],P=l.type;if(I&&0===s&&(w&&bs(Yt(w),d),l.flags|=4),64!=(64&l.flags))if(8&P)bg(r,s,l.child,d,f,m,!1),Qu(s,r,f,w,m);else if(32&P){const k=LC(l,d);let j;for(;j=k();)Qu(s,r,f,j,m);Qu(s,r,f,w,m)}else 16&P?GC(r,s,d,l,f,m):Qu(s,r,f,w,m);l=I?l.projectionNext:l.next}}function ed(r,s,l,d,f,m){bg(l,d,r.firstChild,s,f,m,!1)}function GC(r,s,l,d,f,m){const I=l[16],P=I[6].projection[d.projection];if(Array.isArray(P))for(let k=0;k<P.length;k++)Qu(s,r,f,P[k],m);else bg(r,s,P,I[3],f,m,!0)}function Mg(r,s,l){pe(r)?r.setAttribute(s,"style",l):s.style.cssText=l}function Eh(r,s,l){pe(r)?""===l?r.removeAttribute(s,"class"):r.setAttribute(s,"class",l):s.className=l}function Sg(r,s,l){let d=r.length;for(;;){const f=r.indexOf(s,l);if(-1===f)return f;if(0===f||r.charCodeAt(f-1)<=32){const m=s.length;if(f+m===d||r.charCodeAt(f+m)<=32)return f}l=f+1}}const Tg="ng-template";function jC(r,s,l){let d=0;for(;d<r.length;){let f=r[d++];if(l&&"class"===f){if(f=r[d],-1!==Sg(f.toLowerCase(),s,0))return!0}else if(1===f){for(;d<r.length&&"string"==typeof(f=r[d++]);)if(f.toLowerCase()===s)return!0;return!1}}return!1}function Eg(r){return 4===r.type&&r.value!==Tg}function $C(r,s,l){return s===(4!==r.type||l?r.value:Tg)}function Fc(r,s,l){let d=4;const f=r.attrs||[],m=function Ty(r){for(let s=0;s<r.length;s++)if(Fo(r[s]))return s;return r.length}(f);let I=!1;for(let w=0;w<s.length;w++){const P=s[w];if("number"!=typeof P){if(!I)if(4&d){if(d=2|1&d,""!==P&&!$C(r,P,l)||""===P&&1===s.length){if(ar(d))return!1;I=!0}}else{const k=8&d?P:s[++w];if(8&d&&null!==r.attrs){if(!jC(r.attrs,k,l)){if(ar(d))return!1;I=!0}continue}const re=Vs(8&d?"class":P,f,Eg(r),l);if(-1===re){if(ar(d))return!1;I=!0;continue}if(""!==k){let ve;ve=re>m?"":f[re+1].toLowerCase();const Be=8&d?ve:null;if(Be&&-1!==Sg(Be,k,0)||2&d&&k!==ve){if(ar(d))return!1;I=!0}}}}else{if(!I&&!ar(d)&&!ar(P))return!1;if(I&&ar(P))continue;I=!1,d=P|1&d}}return ar(d)||I}function ar(r){return 0==(1&r)}function Vs(r,s,l,d){if(null===s)return-1;let f=0;if(d||!l){let m=!1;for(;f<s.length;){const I=s[f];if(I===r)return f;if(3===I||6===I)m=!0;else{if(1===I||2===I){let w=s[++f];for(;"string"==typeof w;)w=s[++f];continue}if(4===I)break;if(0===I){f+=4;continue}}f+=m?1:2}return-1}return function Ey(r,s){let l=r.indexOf(4);if(l>-1)for(l++;l<r.length;){const d=r[l];if("number"==typeof d)return-1;if(d===s)return l;l++}return-1}(s,r)}function td(r,s,l=!1){for(let d=0;d<s.length;d++)if(Fc(r,s[d],l))return!0;return!1}function Dy(r,s){e:for(let l=0;l<s.length;l++){const d=s[l];if(r.length===d.length){for(let f=0;f<r.length;f++)if(r[f]!==d[f])continue e;return!0}}return!1}function ZC(r,s){return r?":not("+s.trim()+")":s}function Py(r){let s=r[0],l=1,d=2,f="",m=!1;for(;l<r.length;){let I=r[l];if("string"==typeof I)if(2&d){const w=r[++l];f+="["+I+(w.length>0?'="'+w+'"':"")+"]"}else 8&d?f+="."+I:4&d&&(f+=" "+I);else""!==f&&!ar(I)&&(s+=ZC(m,f),f=""),d=I,m=m||!ar(d);l++}return""!==f&&(s+=ZC(m,f)),s}const Jn={};function qC(r){YC(ai(),Pt(),Yr()+r,Bl())}function YC(r,s,l,d){if(!d)if(3==(3&s[2])){const m=r.preOrderCheckHooks;null!==m&&Qa(s,m,l)}else{const m=r.preOrderHooks;null!==m&&dr(s,m,0,l)}Oa(l)}function Dh(r,s){return r<<17|s<<2}function zo(r){return r>>17&32767}function Dg(r){return 2|r}function Ba(r){return(131068&r)>>2}function Pg(r,s){return-131069&r|s<<2}function Og(r){return 1|r}function Hg(r,s){const l=r.contentQueries;if(null!==l)for(let d=0;d<l.length;d+=2){const f=l[d],m=l[d+1];if(-1!==m){const I=r.data[m];$t(f),I.contentQueries(2,s[m],m)}}}function Bc(r,s,l,d,f,m,I,w,P,k){const j=s.blueprint.slice();return j[0]=f,j[2]=140|d,Ka(j),j[3]=j[15]=r,j[8]=l,j[10]=I||r&&r[10],j[11]=w||r&&r[11],j[12]=P||r&&r[12]||null,j[9]=k||r&&r[9]||null,j[6]=m,j[16]=2==s.type?r[16]:j,j}function Vc(r,s,l,d,f){let m=r.data[s];if(null===m)m=function zg(r,s,l,d,f){const m=Fl(),I=ku(),P=r.data[s]=function Yy(r,s,l,d,f,m){return{type:l,index:d,insertBeforeIndex:null,injectorIndex:s?s.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:f,attrs:m,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,I?m:m&&m.parent,l,s,d,f);return null===r.firstChild&&(r.firstChild=P),null!==m&&(I?null==m.child&&null!==P.parent&&(m.child=P):null===m.next&&(m.next=P)),P}(r,s,l,d,f),function so(){return Gn.lFrame.inI18n}()&&(m.flags|=64);else if(64&m.type){m.type=l,m.value=d,m.attrs=f;const I=function kl(){const r=Gn.lFrame,s=r.currentTNode;return r.isParent?s:s.parent}();m.injectorIndex=null===I?-1:I.injectorIndex}return As(m,!0),m}function Uc(r,s,l,d){if(0===l)return-1;const f=s.length;for(let m=0;m<l;m++)s.push(d),r.blueprint.push(d),r.data.push(null);return f}function nd(r,s,l){Lo(s);try{const d=r.viewQuery;null!==d&&Yc(1,d,l);const f=r.template;null!==f&&aA(r,s,f,1,l),r.firstCreatePass&&(r.firstCreatePass=!1),r.staticContentQueries&&Hg(r,s),r.staticViewQueries&&Yc(2,r.viewQuery,l);const m=r.components;null!==m&&function oA(r,s){for(let l=0;l<s.length;l++)$c(r,s[l])}(s,m)}catch(d){throw r.firstCreatePass&&(r.incompleteFirstPass=!0,r.firstCreatePass=!1),d}finally{s[2]&=-5,Is()}}function Hc(r,s,l,d){const f=s[2];if(256==(256&f))return;Lo(s);const m=Bl();try{Ka(s),function aa(r){return Gn.lFrame.bindingIndex=r}(r.bindingStartIndex),null!==l&&aA(r,s,l,2,d);const I=3==(3&f);if(!m)if(I){const k=r.preOrderCheckHooks;null!==k&&Qa(s,k,null)}else{const k=r.preOrderHooks;null!==k&&dr(s,k,0,null),la(s,0)}if(function rd(r){for(let s=RC(r);null!==s;s=NC(s)){if(!s[2])continue;const l=s[9];for(let d=0;d<l.length;d++){const f=l[d],m=f[3];0==(1024&f[2])&&_o(m,1),f[2]|=1024}}}(s),function Wc(r){for(let s=RC(r);null!==s;s=NC(s))for(let l=10;l<s.length;l++){const d=s[l],f=d[1];Oi(d)&&Hc(f,d,f.template,d[8])}}(s),null!==r.contentQueries&&Hg(r,s),!m)if(I){const k=r.contentCheckHooks;null!==k&&Qa(s,k)}else{const k=r.contentHooks;null!==k&&dr(s,k,1),la(s,1)}!function $y(r,s){const l=r.hostBindingOpCodes;if(null!==l)try{for(let d=0;d<l.length;d++){const f=l[d];if(f<0)Oa(~f);else{const m=f,I=l[++d],w=l[++d];br(I,m),w(2,s[m])}}}finally{Oa(-1)}}(r,s);const w=r.components;null!==w&&function Zy(r,s){for(let l=0;l<s.length;l++)jc(r,s[l])}(s,w);const P=r.viewQuery;if(null!==P&&Yc(2,P,d),!m)if(I){const k=r.viewCheckHooks;null!==k&&Qa(s,k)}else{const k=r.viewHooks;null!==k&&dr(s,k,2),la(s,2)}!0===r.firstUpdatePass&&(r.firstUpdatePass=!1),m||(s[2]&=-73),1024&s[2]&&(s[2]&=-1025,_o(s[3],-1))}finally{Is()}}function qy(r,s,l,d){const f=s[10],m=!Bl(),I=qi(s);try{m&&!I&&f.begin&&f.begin(),I&&nd(r,s,d),Hc(r,s,l,d)}finally{m&&!I&&f.end&&f.end()}}function aA(r,s,l,d,f){const m=Yr(),I=2&d;try{Oa(-1),I&&s.length>20&&YC(r,s,20,Bl()),l(d,f)}finally{Oa(m)}}function lA(r,s,l){if(sn(s)){const f=s.directiveEnd;for(let m=s.directiveStart;m<f;m++){const I=r.data[m];I.contentQueries&&I.contentQueries(1,l[m],m)}}}function Gg(r,s,l){!Fu()||(function Qy(r,s,l,d){const f=l.directiveStart,m=l.directiveEnd;r.firstCreatePass||da(l,s),bs(d,s);const I=l.initialInputs;for(let w=f;w<m;w++){const P=r.data[w],k=Mn(P);k&&qg(s,l,P);const j=gn(s,r,w,l);bs(j,s),null!==I&&Yg(0,w-f,j,P,0,I),k&&(Qi(l.index,s)[8]=j)}}(r,s,l,kn(l,s)),128==(128&l.flags)&&function Zg(r,s,l){const d=l.directiveStart,f=l.directiveEnd,I=l.index,w=function oo(){return Gn.lFrame.currentDirectiveIndex}();try{Oa(I);for(let P=d;P<f;P++){const k=r.data[P],j=s[P];Da(P),(null!==k.hostBindings||0!==k.hostVars||null!==k.hostAttrs)&&IA(k,j)}}finally{Oa(-1),Da(w)}}(r,s,l))}function Wg(r,s,l=kn){const d=s.localNames;if(null!==d){let f=s.index+1;for(let m=0;m<d.length;m+=2){const I=d[m+1],w=-1===I?l(s,r):r[I];r[f++]=w}}}function cA(r){const s=r.tView;return null===s||s.incompleteFirstPass?r.tView=Nh(1,null,r.template,r.decls,r.vars,r.directiveDefs,r.pipeDefs,r.viewQuery,r.schemas,r.consts):s}function Nh(r,s,l,d,f,m,I,w,P,k){const j=20+d,re=j+f,ve=function uA(r,s){const l=[];for(let d=0;d<s;d++)l.push(d<r?null:Jn);return l}(j,re),Be="function"==typeof k?k():k;return ve[1]={type:r,blueprint:ve,template:l,queries:null,viewQuery:w,declTNode:s,data:ve.slice().fill(null,j),bindingStartIndex:j,expandoStartIndex:re,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof m?m():m,pipeRegistry:"function"==typeof I?I():I,firstChild:null,schemas:P,consts:Be,incompleteFirstPass:!1}}function hA(r,s,l,d){const f=bA(s);null===l?f.push(d):(f.push(l),r.firstCreatePass&&Qg(r).push(d,f.length-1))}function fA(r,s,l){for(let d in r)if(r.hasOwnProperty(d)){const f=r[d];(l=null===l?{}:l).hasOwnProperty(d)?l[d].push(s,f):l[d]=[s,f]}return l}function uo(r,s,l,d,f,m,I,w){const P=kn(s,l);let j,k=s.inputs;!w&&null!=k&&(j=k[d])?(wA(r,l,j,d,f),Yn(s)&&function pA(r,s){const l=Qi(s,r);16&l[2]||(l[2]|=64)}(l,s.index)):3&s.type&&(d=function gA(r){return"class"===r?"className":"for"===r?"htmlFor":"formaction"===r?"formAction":"innerHtml"===r?"innerHTML":"readonly"===r?"readOnly":"tabindex"===r?"tabIndex":r}(d),f=null!=I?I(f,s.value||"",d):f,pe(m)?m.setProperty(P,d,f):ao(d)||(P.setProperty?P.setProperty(d,f):P[d]=f))}function $g(r,s,l,d){let f=!1;if(Fu()){const m=function Xy(r,s,l){const d=r.directiveRegistry;let f=null;if(d)for(let m=0;m<d.length;m++){const I=d[m];td(l,I.selectors,!1)&&(f||(f=[]),y(da(l,s),r,I.type),Mn(I)?(_A(r,l),f.unshift(I)):f.push(I))}return f}(r,s,l),I=null===d?null:{"":-1};if(null!==m){f=!0,id(l,r.data.length,m.length);for(let j=0;j<m.length;j++){const re=m[j];re.providersResolver&&re.providersResolver(re)}let w=!1,P=!1,k=Uc(r,s,m.length,null);for(let j=0;j<m.length;j++){const re=m[j];l.mergedAttrs=el(l.mergedAttrs,re.hostAttrs),vA(r,l,s,k,re),t0(k,re,I),null!==re.contentQueries&&(l.flags|=8),(null!==re.hostBindings||null!==re.hostAttrs||0!==re.hostVars)&&(l.flags|=128);const ve=re.type.prototype;!w&&(ve.ngOnChanges||ve.ngOnInit||ve.ngDoCheck)&&((r.preOrderHooks||(r.preOrderHooks=[])).push(l.index),w=!0),!P&&(ve.ngOnChanges||ve.ngDoCheck)&&((r.preOrderCheckHooks||(r.preOrderCheckHooks=[])).push(l.index),P=!0),k++}!function Ky(r,s){const d=s.directiveEnd,f=r.data,m=s.attrs,I=[];let w=null,P=null;for(let k=s.directiveStart;k<d;k++){const j=f[k],re=j.inputs,ve=null===m||Eg(s)?null:Us(re,m);I.push(ve),w=fA(re,k,w),P=fA(j.outputs,k,P)}null!==w&&(w.hasOwnProperty("class")&&(s.flags|=16),w.hasOwnProperty("style")&&(s.flags|=32)),s.initialInputs=I,s.inputs=w,s.outputs=P}(r,l)}I&&function e0(r,s,l){if(s){const d=r.localNames=[];for(let f=0;f<s.length;f+=2){const m=l[s[f+1]];if(null==m)throw new Ht(-301,!1);d.push(s[f],m)}}}(l,d,I)}return l.mergedAttrs=el(l.mergedAttrs,l.attrs),f}function AA(r,s,l,d,f,m){const I=m.hostBindings;if(I){let w=r.hostBindingOpCodes;null===w&&(w=r.hostBindingOpCodes=[]);const P=~s.index;(function gl(r){let s=r.length;for(;s>0;){const l=r[--s];if("number"==typeof l&&l<0)return l}return 0})(w)!=P&&w.push(P),w.push(d,f,I)}}function IA(r,s){null!==r.hostBindings&&r.hostBindings(1,s)}function _A(r,s){s.flags|=2,(r.components||(r.components=[])).push(s.index)}function t0(r,s,l){if(l){if(s.exportAs)for(let d=0;d<s.exportAs.length;d++)l[s.exportAs[d]]=r;Mn(s)&&(l[""]=r)}}function id(r,s,l){r.flags|=1,r.directiveStart=s,r.directiveEnd=s+l,r.providerIndexes=s}function vA(r,s,l,d,f){r.data[d]=f;const m=f.factory||(f.factory=sa(f.type)),I=new Jr(m,Mn(f),null);r.blueprint[d]=I,l[d]=I,AA(r,s,0,d,Uc(r,l,f.hostVars,Jn),f)}function qg(r,s,l){const d=kn(s,r),f=cA(l),m=r[10],I=od(r,Bc(r,f,null,l.onPush?64:16,d,s,m,m.createRenderer(d,l),null,null));r[s.index]=I}function wo(r,s,l,d,f,m){const I=kn(r,s);!function zc(r,s,l,d,f,m,I){if(null==m)pe(r)?r.removeAttribute(s,f,l):s.removeAttribute(f);else{const w=null==I?he(m):I(m,d||"",f);pe(r)?r.setAttribute(s,f,w,l):l?s.setAttributeNS(l,f,w):s.setAttribute(f,w)}}(s[11],I,m,r.value,l,d,f)}function Yg(r,s,l,d,f,m){const I=m[s];if(null!==I){const w=d.setInput;for(let P=0;P<I.length;){const k=I[P++],j=I[P++],re=I[P++];null!==w?d.setInput(l,re,k,j):l[j]=re}}}function Us(r,s){let l=null,d=0;for(;d<s.length;){const f=s[d];if(0!==f)if(5!==f){if("number"==typeof f)break;r.hasOwnProperty(f)&&(null===l&&(l=[]),l.push(f,r[f],s[d+1])),d+=2}else d+=2;else d+=4}return l}function Kg(r,s,l,d){return new Array(r,!0,!1,s,null,0,d,l,null,null)}function jc(r,s){const l=Qi(s,r);if(Oi(l)){const d=l[1];80&l[2]?Hc(d,l,d.template,l[8]):l[5]>0&&pl(l)}}function pl(r){for(let d=RC(r);null!==d;d=NC(d))for(let f=10;f<d.length;f++){const m=d[f];if(1024&m[2]){const I=m[1];Hc(I,m,I.template,m[8])}else m[5]>0&&pl(m)}const l=r[1].components;if(null!==l)for(let d=0;d<l.length;d++){const f=Qi(l[d],r);Oi(f)&&f[5]>0&&pl(f)}}function $c(r,s){const l=Qi(s,r),d=l[1];(function sd(r,s){for(let l=s.length;l<r.blueprint.length;l++)s.push(r.blueprint[l])})(d,l),nd(d,l,l[8])}function od(r,s){return r[13]?r[14][4]=s:r[13]=s,r[14]=s,s}function Zc(r){for(;r;){r[2]|=64;const s=vh(r);if(Br(r)&&!s)return r;r=s}return null}function Fh(r,s,l){const d=s[10];d.begin&&d.begin();try{Hc(r,s,r.template,l)}catch(f){throw ep(s,f),f}finally{d.end&&d.end()}}function kh(r){!function qc(r){for(let s=0;s<r.components.length;s++){const l=r.components[s],d=mg(l),f=d[1];qy(f,d,f.template,l)}}(r[8])}function Yc(r,s,l){$t(0),s(r,l)}const xA=(()=>Promise.resolve(null))();function bA(r){return r[7]||(r[7]=[])}function Qg(r){return r.cleanup||(r.cleanup=[])}function ep(r,s){const l=r[9],d=l?l.get(_h,null):null;d&&d.handleError(s)}function wA(r,s,l,d,f){for(let m=0;m<l.length;){const I=l[m++],w=l[m++],P=s[I],k=r.data[I];null!==k.setInput?k.setInput(P,f,d,w):P[w]=f}}function ma(r,s,l){const d=bi(s,r);!function Iy(r,s,l){pe(r)?r.setValue(s,l):s.textContent=l}(r[11],d,l)}function ld(r,s,l){let d=l?r.styles:null,f=l?r.classes:null,m=0;if(null!==s)for(let I=0;I<s.length;I++){const w=s[I];"number"==typeof w?m=w:1==m?f=Ye(f,w):2==m&&(d=Ye(d,w+": "+s[++I]+";"))}l?r.styles=d:r.stylesWithoutHost=d,l?r.classes=f:r.classesWithoutHost=f}const np=new pr("INJECTOR",-1);class ud{get(s,l=al){if(l===al){const d=new Error(`NullInjectorError: No provider for ${st(s)}!`);throw d.name="NullInjectorError",d}return l}}const ec=new pr("Set Injector scope."),Kc={},MA={};let Jc;function Qc(){return void 0===Jc&&(Jc=new ud),Jc}function SA(r,s=null,l=null,d){const f=Hs(r,s,l,d);return f._resolveInjectorDefTypes(),f}function Hs(r,s=null,l=null,d){return new TA(r,l,s||Qc(),d)}class TA{constructor(s,l,d,f=null){this.parent=d,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const m=[];l&&on(l,w=>this.processProvider(w,s,l)),on([s],w=>this.processInjectorType(w,[],m)),this.records.set(np,Mo(void 0,this));const I=this.records.get(ec);this.scope=null!=I?I.value:null,this.source=f||("object"==typeof s?null:st(s))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(s=>s.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(s,l=al,d=En.Default){this.assertNotDestroyed();const f=cC(this),m=we(void 0);try{if(!(d&En.SkipSelf)){let w=this.records.get(s);if(void 0===w){const P=function Uh(r){return"function"==typeof r||"object"==typeof r&&r instanceof pr}(s)&&Si(s);w=P&&this.injectableDefInScope(P)?Mo(Bh(s),Kc):null,this.records.set(s,w)}if(null!=w)return this.hydrate(s,w)}return(d&En.Self?Qc():this.parent).get(s,l=d&En.Optional&&l===al?null:l)}catch(I){if("NullInjectorError"===I.name){if((I[Zl]=I[Zl]||[]).unshift(st(s)),f)throw I;return function Lc(r,s,l,d){const f=r[Zl];throw s[ll]&&f.unshift(s[ll]),r.message=function Cv(r,s,l,d=null){r=r&&"\n"===r.charAt(0)&&"\u0275"==r.charAt(1)?r.substr(2):r;let f=st(s);if(Array.isArray(s))f=s.map(st).join(" -> ");else if("object"==typeof s){let m=[];for(let I in s)if(s.hasOwnProperty(I)){let w=s[I];m.push(I+":"+("string"==typeof w?JSON.stringify(w):st(w)))}f=`{${m.join(", ")}}`}return`${l}${d?"("+d+")":""}[${f}]: ${r.replace(mv,"\n  ")}`}("\n"+r.message,f,l,d),r.ngTokenPath=f,r[Zl]=null,r}(I,s,"R3InjectorError",this.source)}throw I}finally{we(m),cC(f)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(s=>this.get(s))}toString(){const s=[];return this.records.forEach((d,f)=>s.push(st(f))),`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ht(205,!1)}processInjectorType(s,l,d){if(!(s=Fe(s)))return!1;let f=$r(s);const m=null==f&&s.ngModule||void 0,I=void 0===m?s:m,w=-1!==d.indexOf(I);if(void 0!==m&&(f=$r(m)),null==f)return!1;if(null!=f.imports&&!w){let j;d.push(I);try{on(f.imports,re=>{this.processInjectorType(re,l,d)&&(void 0===j&&(j=[]),j.push(re))})}finally{}if(void 0!==j)for(let re=0;re<j.length;re++){const{ngModule:ve,providers:Be}=j[re];on(Be,lt=>this.processProvider(lt,ve,Be||Qn))}}this.injectorDefTypes.add(I);const P=sa(I)||(()=>new I);this.records.set(I,Mo(P,Kc));const k=f.providers;if(null!=k&&!w){const j=s;on(k,re=>this.processProvider(re,j,k))}return void 0!==m&&void 0!==s.providers}processProvider(s,l,d){let f=tc(s=Fe(s))?s:Fe(s&&s.provide);const m=function ip(r,s,l){return rp(r)?Mo(void 0,r.useValue):Mo(dd(r),Kc)}(s);if(tc(s)||!0!==s.multi)this.records.get(f);else{let I=this.records.get(f);I||(I=Mo(void 0,Kc,!0),I.factory=()=>Gu(I.multi),this.records.set(f,I)),f=s,I.multi.push(s)}this.records.set(f,m)}hydrate(s,l){return l.value===Kc&&(l.value=MA,l.value=l.factory()),"object"==typeof l.value&&l.value&&function op(r){return null!==r&&"object"==typeof r&&"function"==typeof r.ngOnDestroy}(l.value)&&this.onDestroy.add(l.value),l.value}injectableDefInScope(s){if(!s.providedIn)return!1;const l=Fe(s.providedIn);return"string"==typeof l?"any"===l||l===this.scope:this.injectorDefTypes.has(l)}}function Bh(r){const s=Si(r),l=null!==s?s.factory:sa(r);if(null!==l)return l;if(r instanceof pr)throw new Ht(204,!1);if(r instanceof Function)return function EA(r){const s=r.length;if(s>0)throw xs(s,"?"),new Ht(204,!1);const l=function Cr(r){const s=r&&(r[ns]||r[cs]);if(s){const l=function eo(r){if(r.hasOwnProperty("name"))return r.name;const s=(""+r).match(/^function\s*([^\s(]+)/);return null===s?"":s[1]}(r);return console.warn(`DEPRECATED: DI is instantiating a token "${l}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${l}" class.`),s}return null}(r);return null!==l?()=>l.factory(r):()=>new r}(r);throw new Ht(204,!1)}function dd(r,s,l){let d;if(tc(r)){const f=Fe(r);return sa(f)||Bh(f)}if(rp(r))d=()=>Fe(r.useValue);else if(function Vh(r){return!(!r||!r.useFactory)}(r))d=()=>r.useFactory(...Gu(r.deps||[]));else if(function DA(r){return!(!r||!r.useExisting)}(r))d=()=>Xr(Fe(r.useExisting));else{const f=Fe(r&&(r.useClass||r.provide));if(!function PA(r){return!!r.deps}(r))return sa(f)||Bh(f);d=()=>new f(...Gu(r.deps))}return d}function Mo(r,s,l=!1){return{factory:r,value:s,multi:l?[]:void 0}}function rp(r){return null!==r&&"object"==typeof r&&Pc in r}function tc(r){return"function"==typeof r}let Qs=(()=>{class r{static create(l,d){var f;if(Array.isArray(l))return SA({name:""},d,l,"");{const m=null!==(f=l.name)&&void 0!==f?f:"";return SA({name:m},l.parent,l.providers,m)}}}return r.THROW_IF_NOT_FOUND=al,r.NULL=new ud,r.\u0275prov=si({token:r,providedIn:"any",factory:()=>Xr(np)}),r.__NG_ELEMENT_ID__=-1,r})();function gp(r,s){xo(mg(r)[1],Xi())}function Wh(r){let s=function pp(r){return Object.getPrototypeOf(r.prototype).constructor}(r.type),l=!0;const d=[r];for(;s;){let f;if(Mn(r))f=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new Ht(903,"");f=s.\u0275dir}if(f){if(l){d.push(f);const I=r;I.inputs=hd(r.inputs),I.declaredInputs=hd(r.declaredInputs),I.outputs=hd(r.outputs);const w=f.hostBindings;w&&fd(r,w);const P=f.viewQuery,k=f.contentQueries;if(P&&u0(r,P),k&&jh(r,k),Se(r.inputs,f.inputs),Se(r.declaredInputs,f.declaredInputs),Se(r.outputs,f.outputs),Mn(f)&&f.data.animation){const j=r.data;j.animation=(j.animation||[]).concat(f.data.animation)}}const m=f.features;if(m)for(let I=0;I<m.length;I++){const w=m[I];w&&w.ngInherit&&w(r),w===Wh&&(l=!1)}}s=Object.getPrototypeOf(s)}!function NA(r){let s=0,l=null;for(let d=r.length-1;d>=0;d--){const f=r[d];f.hostVars=s+=f.hostVars,f.hostAttrs=el(f.hostAttrs,l=el(l,f.hostAttrs))}}(d)}function hd(r){return r===Dn?{}:r===Qn?[]:r}function u0(r,s){const l=r.viewQuery;r.viewQuery=l?(d,f)=>{s(d,f),l(d,f)}:s}function jh(r,s){const l=r.contentQueries;r.contentQueries=l?(d,f,m)=>{s(d,f,m),l(d,f,m)}:s}function fd(r,s){const l=r.hostBindings;r.hostBindings=l?(d,f)=>{s(d,f),l(d,f)}:s}let nc=null;function ho(){if(!nc){const r=Sn.Symbol;if(r&&r.iterator)nc=r.iterator;else{const s=Object.getOwnPropertyNames(Map.prototype);for(let l=0;l<s.length;++l){const d=s[l];"entries"!==d&&"size"!==d&&Map.prototype[d]===Map.prototype.entries&&(nc=d)}}}return nc}function ml(r){return!!nu(r)&&(Array.isArray(r)||!(r instanceof Map)&&ho()in r)}function nu(r){return null!==r&&("function"==typeof r||"object"==typeof r)}function Aa(r,s,l){return r[s]=l}function Ia(r,s){return r[s]}function ws(r,s,l){return!Object.is(r[s],l)&&(r[s]=l,!0)}function Cl(r,s,l,d){const f=ws(r,s,l);return ws(r,s+1,d)||f}function Ms(r,s,l,d,f,m){const I=Cl(r,s,l,d);return Cl(r,s+2,f,m)||I}function Cp(r,s,l,d){const f=Pt();return ws(f,vo(),s)&&(ai(),wo(or(),f,r,s,l,d)),Cp}function ru(r,s,l,d){return ws(r,vo(),l)?s+he(l)+d:Jn}function su(r,s,l,d,f,m){const w=Cl(r,function Fs(){return Gn.lFrame.bindingIndex}(),l,f);return ro(2),w?s+he(l)+d+he(f)+m:Jn}function VA(r,s,l,d,f,m,I,w){const P=Pt(),k=ai(),j=r+20,re=k.firstCreatePass?function Jh(r,s,l,d,f,m,I,w,P){const k=s.consts,j=Vc(s,r,4,I||null,Ws(k,w));$g(s,l,j,Ws(k,P)),xo(s,j);const re=j.tViews=Nh(2,j,d,f,m,s.directiveRegistry,s.pipeRegistry,null,s.schemas,k);return null!==s.queries&&(s.queries.template(s,j),re.queries=s.queries.embeddedTView(j)),j}(j,k,P,s,l,d,f,m,I):k.data[j];As(re,!1);const ve=P[11].createComment("");Sh(k,P,ve,re),bs(ve,P),od(P,P[j]=Kg(ve,P,ve,re)),mn(re)&&Gg(k,P,re),null!=I&&Wg(P,re,w)}function UA(r){return Pi(function Ns(){return Gn.lFrame.contextLView}(),20+r)}function rf(r,s=En.Default){const l=Pt();return null===l?Xr(r,s):le(Xi(),l,Fe(r),s)}function hu(){throw new Error("invalid")}function Mp(r,s,l){const d=Pt();return ws(d,vo(),s)&&uo(ai(),or(),d,r,s,d[11],l,!1),Mp}function sf(r,s,l,d,f){const I=f?"class":"style";wA(r,l,s.inputs[I],I,d)}function fo(r,s,l,d){const f=Pt(),m=ai(),I=20+r,w=f[11],P=f[I]=nn(w,s,function La(){return Gn.lFrame.currentNamespace}()),k=m.firstCreatePass?function _0(r,s,l,d,f,m,I){const w=s.consts,k=Vc(s,r,2,f,Ws(w,m));return $g(s,l,k,Ws(w,I)),null!==k.attrs&&ld(k,k.attrs,!1),null!==k.mergedAttrs&&ld(k,k.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,k),k}(I,m,f,0,s,l,d):m.data[I];As(k,!0);const j=k.mergedAttrs;null!==j&&$s(w,P,j);const re=k.classes;null!==re&&Eh(w,P,re);const ve=k.styles;return null!==ve&&Mg(w,P,ve),64!=(64&k.flags)&&Sh(m,f,P,k),0===function Qf(){return Gn.lFrame.elementDepthCount}()&&bs(P,f),function Nu(){Gn.lFrame.elementDepthCount++}(),mn(k)&&(Gg(m,f,k),lA(m,k,f)),null!==d&&Wg(f,k),fo}function Ha(){let r=Xi();ku()?Bu():(r=r.parent,As(r,!1));const s=r;!function Xf(){Gn.lFrame.elementDepthCount--}();const l=ai();return l.firstCreatePass&&(xo(l,r),sn(r)&&l.queries.elementEnd(r)),null!=s.classesWithoutHost&&function Mc(r){return 0!=(16&r.flags)}(s)&&sf(l,s,Pt(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function sh(r){return 0!=(32&r.flags)}(s)&&sf(l,s,Pt(),s.stylesWithoutHost,!1),Ha}function of(r,s,l,d){return fo(r,s,l,d),Ha(),of}function va(r,s,l){const d=Pt(),f=ai(),m=r+20,I=f.firstCreatePass?function v0(r,s,l,d,f){const m=s.consts,I=Ws(m,d),w=Vc(s,r,8,"ng-container",I);return null!==I&&ld(w,I,!0),$g(s,l,w,Ws(m,f)),null!==s.queries&&s.queries.elementStart(s,w),w}(m,f,d,s,l):f.data[m];As(I,!0);const w=d[m]=d[11].createComment("");return Sh(f,d,w,I),bs(w,d),mn(I)&&(Gg(f,d,I),lA(f,I,d)),null!=l&&Wg(d,I),va}function za(){let r=Xi();const s=ai();return ku()?Bu():(r=r.parent,As(r,!1)),s.firstCreatePass&&(xo(s,r),sn(r)&&s.queries.elementEnd(r)),za}function oc(r,s,l){return va(r,s,l),za(),oc}function fu(){return Pt()}function Sp(r){return!!r&&"function"==typeof r.then}function qA(r){return!!r&&"function"==typeof r.subscribe}const ac=qA;function lf(r,s,l,d){const f=Pt(),m=ai(),I=Xi();return function ya(r,s,l,d,f,m,I,w){const P=mn(d),j=r.firstCreatePass&&Qg(r),re=s[8],ve=bA(s);let Be=!0;if(3&d.type||w){const Qt=kn(d,s),Cn=w?w(Qt):Qt,bt=ve.length,On=w?mi=>w(Yt(mi[d.index])):d.index;if(pe(l)){let mi=null;if(!w&&P&&(mi=function vd(r,s,l,d){const f=r.cleanup;if(null!=f)for(let m=0;m<f.length-1;m+=2){const I=f[m];if(I===l&&f[m+1]===d){const w=s[7],P=f[m+2];return w.length>P?w[P]:null}"string"==typeof I&&(m+=2)}return null}(r,s,f,d.index)),null!==mi)(mi.__ngLastListenerFn__||mi).__ngNextListenerFn__=m,mi.__ngLastListenerFn__=m,Be=!1;else{m=To(d,s,re,m,!1);const Fi=l.listen(Cn,f,m);ve.push(m,Fi),j&&j.push(f,On,bt,bt+1)}}else m=To(d,s,re,m,!0),Cn.addEventListener(f,m,I),ve.push(m),j&&j.push(f,On,bt,I)}else m=To(d,s,re,m,!1);const lt=d.outputs;let Gt;if(Be&&null!==lt&&(Gt=lt[f])){const Qt=Gt.length;if(Qt)for(let Cn=0;Cn<Qt;Cn+=2){const po=s[Gt[Cn]][Gt[Cn+1]].subscribe(m),fc=ve.length;ve.push(m,po),j&&j.push(f,d.index,fc,-(fc+1))}}}(m,f,f[11],I,r,s,!!l,d),lf}function KA(r,s,l,d){try{return!1!==l(d)}catch(f){return ep(r,f),!1}}function To(r,s,l,d,f){return function m(I){if(I===Function)return d;const w=2&r.flags?Qi(r.index,s):s;0==(32&s[2])&&Zc(w);let P=KA(s,0,d,I),k=m.__ngNextListenerFn__;for(;k;)P=KA(s,0,k,I)&&P,k=k.__ngNextListenerFn__;return f&&!1===P&&(I.preventDefault(),I.returnValue=!1),P}}function y0(r=1){return function Vl(r){return(Gn.lFrame.contextLView=function sC(r,s){for(;r>0;)s=s[15],r--;return s}(r,Gn.lFrame.contextLView))[8]}(r)}function Yw(r,s){let l=null;const d=function Sy(r){const s=r.attrs;if(null!=s){const l=s.indexOf(5);if(0==(1&l))return s[l+1]}return null}(r);for(let f=0;f<s.length;f++){const m=s[f];if("*"!==m){if(null===d?td(r,m,!0):Dy(d,m))return f}else l=f}return l}function yd(r){const s=Pt()[16][6];if(!s.projection){const d=s.projection=xs(r?r.length:1,null),f=d.slice();let m=s.child;for(;null!==m;){const I=r?Yw(m,r):0;null!==I&&(f[I]?f[I].projectionNext=m:d[I]=m,f[I]=m),m=m.next}}}function x0(r,s=0,l){const d=Pt(),f=ai(),m=Vc(f,20+r,16,null,l||null);null===m.projection&&(m.projection=s),Bu(),64!=(64&m.flags)&&function wg(r,s,l){GC(s[11],0,s,l,_g(r,l,s),Xu(l.parent||s[6],l,s))}(f,d,m)}function JA(r,s,l){return lc(r,"",s,"",l),JA}function lc(r,s,l,d,f){const m=Pt(),I=ru(m,s,l,d);return I!==Jn&&uo(ai(),or(),m,r,I,m[11],f,!1),lc}function eI(r,s,l,d,f){const m=r[l+1],I=null===s;let w=d?zo(m):Ba(m),P=!1;for(;0!==w&&(!1===P||I);){const j=r[w+1];go(r[w],s)&&(P=!0,r[w+1]=d?Og(j):Dg(j)),w=d?zo(j):Ba(j)}P&&(r[l+1]=d?Dg(m):Og(m))}function go(r,s){return null===r||null==s||(Array.isArray(r)?r[1]:r)===s||!(!Array.isArray(r)||"string"!=typeof s)&&sl(r,s)>=0}const zr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function gu(r){return r.substring(zr.key,zr.keyEnd)}function tI(r,s){const l=zr.textEnd;return l===s?-1:(s=zr.keyEnd=function S0(r,s,l){for(;s<l&&r.charCodeAt(s)>32;)s++;return s}(r,zr.key=s,l),pu(r,s,l))}function pu(r,s,l){for(;s<l&&r.charCodeAt(s)<=32;)s++;return s}function mu(r,s,l){return Eo(r,s,l,!1),mu}function hf(r,s){return Eo(r,s,null,!0),hf}function T0(r){!function as(r,s,l,d){const f=ai(),m=ro(2);f.firstUpdatePass&&Rp(f,null,m,d);const I=Pt();if(l!==Jn&&ws(I,m,l)){const w=f.data[Yr()];if(lI(w,d)&&!E0(f,m)){let P=d?w.classesWithoutHost:w.stylesWithoutHost;null!==P&&(l=Ye(P,l||"")),sf(f,w,I,l,d)}else!function oI(r,s,l,d,f,m,I,w){f===Jn&&(f=Qn);let P=0,k=0,j=0<f.length?f[0]:null,re=0<m.length?m[0]:null;for(;null!==j||null!==re;){const ve=P<f.length?f[P+1]:void 0,Be=k<m.length?m[k+1]:void 0;let Gt,lt=null;j===re?(P+=2,k+=2,ve!==Be&&(lt=re,Gt=Be)):null===re||null!==j&&j<re?(P+=2,lt=j):(k+=2,lt=re,Gt=Be),null!==lt&&aI(r,s,l,d,lt,Gt,I,w),j=P<f.length?f[P]:null,re=k<m.length?m[k]:null}}(f,w,I,I[11],I[m+1],I[m+1]=function Xw(r,s,l){if(null==l||""===l)return Qn;const d=[],f=Na(l);if(Array.isArray(f))for(let m=0;m<f.length;m++)r(d,f[m],!0);else if("object"==typeof f)for(const m in f)f.hasOwnProperty(m)&&r(d,m,f[m]);else"string"==typeof f&&s(d,f);return d}(r,s,l),d,m)}}(Js,jo,r,!0)}function jo(r,s){for(let l=function w0(r){return function xa(r){zr.key=0,zr.keyEnd=0,zr.value=0,zr.valueEnd=0,zr.textEnd=r.length}(r),tI(r,pu(r,0,zr.textEnd))}(s);l>=0;l=tI(s,l))Js(r,gu(s),!0)}function Eo(r,s,l,d){const f=Pt(),m=ai(),I=ro(2);m.firstUpdatePass&&Rp(m,r,I,d),s!==Jn&&ws(f,I,s)&&aI(m,m.data[Yr()],f,f[11],r,f[I+1]=function eM(r,s){return null==r||("string"==typeof s?r+=s:"object"==typeof r&&(r=st(Na(r)))),r}(s,l),d,I)}function E0(r,s){return s>=r.expandoStartIndex}function Rp(r,s,l,d){const f=r.data;if(null===f[l+1]){const m=f[Yr()],I=E0(r,l);lI(m,d)&&null===s&&!I&&(s=!1),s=function rI(r,s,l,d){const f=function vc(r){const s=Gn.lFrame.currentDirectiveIndex;return-1===s?null:r[s]}(r);let m=d?s.residualClasses:s.residualStyles;if(null===f)0===(d?s.classBindings:s.styleBindings)&&(l=ff(l=Wa(null,r,s,l,d),s.attrs,d),m=null);else{const I=s.directiveStylingLast;if(-1===I||r[I]!==f)if(l=Wa(f,r,s,l,d),null===m){let P=function cc(r,s,l){const d=l?s.classBindings:s.styleBindings;if(0!==Ba(d))return r[zo(d)]}(r,s,d);void 0!==P&&Array.isArray(P)&&(P=Wa(null,r,s,P[1],d),P=ff(P,s.attrs,d),function sI(r,s,l,d){r[zo(l?s.classBindings:s.styleBindings)]=d}(r,s,d,P))}else m=function D0(r,s,l){let d;const f=s.directiveEnd;for(let m=1+s.directiveStylingLast;m<f;m++)d=ff(d,r[m].hostAttrs,l);return ff(d,s.attrs,l)}(r,s,d)}return void 0!==m&&(d?s.residualClasses=m:s.residualStyles=m),l}(f,m,s,d),function bd(r,s,l,d,f,m){let I=m?s.classBindings:s.styleBindings,w=zo(I),P=Ba(I);r[d]=l;let j,k=!1;if(Array.isArray(l)){const re=l;j=re[1],(null===j||sl(re,j)>0)&&(k=!0)}else j=l;if(f)if(0!==P){const ve=zo(r[w+1]);r[d+1]=Dh(ve,w),0!==ve&&(r[ve+1]=Pg(r[ve+1],d)),r[w+1]=function Ry(r,s){return 131071&r|s<<17}(r[w+1],d)}else r[d+1]=Dh(w,0),0!==w&&(r[w+1]=Pg(r[w+1],d)),w=d;else r[d+1]=Dh(P,0),0===w?w=d:r[P+1]=Pg(r[P+1],d),P=d;k&&(r[d+1]=Dg(r[d+1])),eI(r,j,d,!0),eI(r,j,d,!1),function Op(r,s,l,d,f){const m=f?r.residualClasses:r.residualStyles;null!=m&&"string"==typeof s&&sl(m,s)>=0&&(l[d+1]=Og(l[d+1]))}(s,j,r,d,m),I=Dh(w,P),m?s.classBindings=I:s.styleBindings=I}(f,m,s,l,I,d)}}function Wa(r,s,l,d,f){let m=null;const I=l.directiveEnd;let w=l.directiveStylingLast;for(-1===w?w=l.directiveStart:w++;w<I&&(m=s[w],d=ff(d,m.hostAttrs,f),m!==r);)w++;return null!==r&&(l.directiveStylingLast=w),d}function ff(r,s,l){const d=l?1:2;let f=-1;if(null!==s)for(let m=0;m<s.length;m++){const I=s[m];"number"==typeof I?f=I:f===d&&(Array.isArray(r)||(r=void 0===r?[]:["",r]),Js(r,I,!!l||s[++m]))}return void 0===r?null:r}function aI(r,s,l,d,f,m,I,w){if(!(3&s.type))return;const P=r.data,k=P[w+1];Np(function QC(r){return 1==(1&r)}(k)?vl(P,s,l,f,Ba(k),I):void 0)||(Np(m)||function JC(r){return 2==(2&r)}(k)&&(m=vl(P,null,l,f,w,I)),function WC(r,s,l,d,f){const m=pe(r);if(s)f?m?r.addClass(l,d):l.classList.add(d):m?r.removeClass(l,d):l.classList.remove(d);else{let I=-1===d.indexOf("-")?void 0:ka.DashCase;if(null==f)m?r.removeStyle(l,d,I):l.style.removeProperty(d);else{const w="string"==typeof f&&f.endsWith("!important");w&&(f=f.slice(0,-10),I|=ka.Important),m?r.setStyle(l,d,f,I):l.style.setProperty(d,f,w?"important":"")}}}(d,I,bi(Yr(),l),f,m))}function vl(r,s,l,d,f,m){const I=null===s;let w;for(;f>0;){const P=r[f],k=Array.isArray(P),j=k?P[1]:P,re=null===j;let ve=l[f+1];ve===Jn&&(ve=re?Qn:void 0);let Be=re?rl(ve,d):j===d?ve:void 0;if(k&&!Np(Be)&&(Be=rl(P,d)),Np(Be)&&(w=Be,I))return w;const lt=r[f+1];f=I?zo(lt):Ba(lt)}if(null!==s){let P=m?s.residualClasses:s.residualStyles;null!=P&&(w=rl(P,d))}return w}function Np(r){return void 0!==r}function lI(r,s){return 0!=(r.flags&(s?16:32))}function gf(r,s=""){const l=Pt(),d=ai(),f=r+20,m=d.firstCreatePass?Vc(d,f,1,s,null):d.data[f],I=l[f]=function FC(r,s){return pe(r)?r.createText(s):r.createTextNode(s)}(l[11],s);Sh(d,l,I,m),As(m,!1)}function Fp(r){return Cu("",r,""),Fp}function Cu(r,s,l){const d=Pt(),f=ru(d,r,s,l);return f!==Jn&&ma(d,Yr(),f),Cu}function kp(r,s,l,d,f){const m=Pt(),I=su(m,r,s,l,d,f);return I!==Jn&&ma(m,Yr(),I),kp}const yl=void 0;var uM=["en",[["a","p"],["AM","PM"],yl],[["AM","PM"],yl,yl],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],yl,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],yl,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",yl,"{1} 'at' {0}",yl],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function vI(r){const l=Math.floor(Math.abs(r)),d=r.toString().replace(/^[^.]*\.?/,"").length;return 1===l&&0===d?1:5}];let Sd={};function mf(r){const s=function V0(r){return r.toLowerCase().replace(/_/g,"-")}(r);let l=B0(s);if(l)return l;const d=s.split("-")[0];if(l=B0(d),l)return l;if("en"===d)return uM;throw new Error(`Missing locale data for the locale "${r}".`)}function zp(r){return mf(r)[an.PluralCase]}function B0(r){return r in Sd||(Sd[r]=Sn.ng&&Sn.ng.common&&Sn.ng.common.locales&&Sn.ng.common.locales[r]),Sd[r]}var an=(()=>((an=an||{})[an.LocaleId=0]="LocaleId",an[an.DayPeriodsFormat=1]="DayPeriodsFormat",an[an.DayPeriodsStandalone=2]="DayPeriodsStandalone",an[an.DaysFormat=3]="DaysFormat",an[an.DaysStandalone=4]="DaysStandalone",an[an.MonthsFormat=5]="MonthsFormat",an[an.MonthsStandalone=6]="MonthsStandalone",an[an.Eras=7]="Eras",an[an.FirstDayOfWeek=8]="FirstDayOfWeek",an[an.WeekendRange=9]="WeekendRange",an[an.DateFormat=10]="DateFormat",an[an.TimeFormat=11]="TimeFormat",an[an.DateTimeFormat=12]="DateTimeFormat",an[an.NumberSymbols=13]="NumberSymbols",an[an.NumberFormats=14]="NumberFormats",an[an.CurrencyCode=15]="CurrencyCode",an[an.CurrencySymbol=16]="CurrencySymbol",an[an.CurrencyName=17]="CurrencyName",an[an.Currencies=18]="Currencies",an[an.Directionality=19]="Directionality",an[an.PluralCase=20]="PluralCase",an[an.ExtraData=21]="ExtraData",an))();const Wp="en-US";let U0=Wp;function _f(r,s,l,d,f){if(r=Fe(r),Array.isArray(r))for(let m=0;m<r.length;m++)_f(r[m],s,l,d,f);else{const m=ai(),I=Pt();let w=tc(r)?r:Fe(r.provide),P=dd(r);const k=Xi(),j=1048575&k.providerIndexes,re=k.directiveStart,ve=k.providerIndexes>>20;if(tc(r)||!r.multi){const Be=new Jr(P,f,rf),lt=vf(w,s,f?j:j+ve,re);-1===lt?(y(da(k,I),m,w),tm(m,r,s.length),s.push(w),k.directiveStart++,k.directiveEnd++,f&&(k.providerIndexes+=1048576),l.push(Be),I.push(Be)):(l[lt]=Be,I[lt]=Be)}else{const Be=vf(w,s,j+ve,re),lt=vf(w,s,j,j+ve),Gt=Be>=0&&l[Be],Qt=lt>=0&&l[lt];if(f&&!Qt||!f&&!Gt){y(da(k,I),m,w);const Cn=function WI(r,s,l,d,f){const m=new Jr(r,l,rf);return m.multi=[],m.index=s,m.componentProviders=0,nm(m,f,d&&!l),m}(f?hx:dx,l.length,f,d,P);!f&&Qt&&(l[lt].providerFactory=Cn),tm(m,r,s.length,0),s.push(w),k.directiveStart++,k.directiveEnd++,f&&(k.providerIndexes+=1048576),l.push(Cn),I.push(Cn)}else tm(m,r,Be>-1?Be:lt,nm(l[f?lt:Be],P,!f&&d));!f&&d&&Qt&&l[lt].componentProviders++}}}function tm(r,s,l,d){const f=tc(s),m=function sp(r){return!!r.useClass}(s);if(f||m){const P=(m?Fe(s.useClass):s).prototype.ngOnDestroy;if(P){const k=r.destroyHooks||(r.destroyHooks=[]);if(!f&&s.multi){const j=k.indexOf(l);-1===j?k.push(l,[d,P]):k[j+1].push(d,P)}else k.push(l,P)}}}function nm(r,s,l){return l&&r.componentProviders++,r.multi.push(s)-1}function vf(r,s,l,d){for(let f=l;f<d;f++)if(s[f]===r)return f;return-1}function dx(r,s,l,d){return im(this.multi,[])}function hx(r,s,l,d){const f=this.multi;let m;if(this.providerFactory){const I=this.providerFactory.componentProviders,w=gn(l,l[1],this.providerFactory.index,d);m=w.slice(0,I),im(f,m);for(let P=I;P<w.length;P++)m.push(w[P])}else m=[],im(f,m);return m}function im(r,s){for(let l=0;l<r.length;l++)s.push((0,r[l])());return s}function Xs(r,s=[]){return l=>{l.providersResolver=(d,f)=>function ux(r,s,l){const d=ai();if(d.firstCreatePass){const f=Mn(r);_f(l,d.data,d.blueprint,f,!0),_f(s,d.data,d.blueprint,f,!1)}}(d,f?f(r):r,s)}}class dc{}class fx{resolveComponentFactory(s){throw function Rd(r){const s=Error(`No component factory found for ${st(r)}. Did you add it to @NgModule.entryComponents?`);return s.ngComponent=r,s}(s)}}let yf=(()=>{class r{}return r.NULL=new fx,r})();function gx(){return hc(Xi(),Pt())}function hc(r,s){return new Nd(kn(r,s))}let Nd=(()=>{class r{constructor(l){this.nativeElement=l}}return r.__NG_ELEMENT_ID__=gx,r})();function $I(r){return r instanceof Nd?r.nativeElement:r}class ZI{}let px=(()=>{class r{}return r.__NG_ELEMENT_ID__=()=>function Cx(){const r=Pt(),l=Qi(Xi().index,r);return function mx(r){return r[11]}(Xe(l)?l:r)}(),r})(),Ax=(()=>{class r{}return r.\u0275prov=si({token:r,providedIn:"root",factory:()=>null}),r})();class qI{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const Ix=new qI("13.2.7"),rm={};function xf(r,s,l,d,f=!1){for(;null!==l;){const m=s[l.index];if(null!==m&&d.push(Yt(m)),ht(m))for(let w=10;w<m.length;w++){const P=m[w],k=P[1].firstChild;null!==k&&xf(P[1],P,k,d)}const I=l.type;if(8&I)xf(r,s,l.child,d);else if(32&I){const w=LC(l,s);let P;for(;P=w();)d.push(P)}else if(16&I){const w=HC(s,l);if(Array.isArray(w))d.push(...w);else{const P=vh(s[16]);xf(P[1],P,w,d,!0)}}l=f?l.projectionNext:l.next}return d}class Fd{constructor(s,l){this._lView=s,this._cdRefInjectingView=l,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const s=this._lView,l=s[1];return xf(l,s,l.firstChild,[])}get context(){return this._lView[8]}set context(s){this._lView[8]=s}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[3];if(ht(s)){const l=s[8],d=l?l.indexOf(this):-1;d>-1&&(dl(s,d),ch(l,d))}this._attachedToViewContainer=!1}Jl(this._lView[1],this._lView)}onDestroy(s){hA(this._lView[1],this._lView,null,s)}markForCheck(){Zc(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Fh(this._lView[1],this._lView,this.context)}checkNoChanges(){!function yA(r,s,l){_c(!0);try{Fh(r,s,l)}finally{_c(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Ht(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function vy(r,s){ed(r,s,s[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(s){if(this._attachedToViewContainer)throw new Ht(902,"");this._appRef=s}}class _x extends Fd{constructor(s){super(s),this._view=s}detectChanges(){kh(this._view)}checkNoChanges(){!function n0(r){_c(!0);try{kh(r)}finally{_c(!1)}}(this._view)}get context(){return null}}class YI extends yf{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const l=Xn(s);return new sm(l,this.ngModule)}}function KI(r){const s=[];for(let l in r)r.hasOwnProperty(l)&&s.push({propName:r[l],templateName:l});return s}class sm extends dc{constructor(s,l){super(),this.componentDef=s,this.ngModule=l,this.componentType=s.type,this.selector=function Oy(r){return r.map(Py).join(",")}(s.selectors),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!l}get inputs(){return KI(this.componentDef.inputs)}get outputs(){return KI(this.componentDef.outputs)}create(s,l,d,f){const m=(f=f||this.ngModule)?function yx(r,s){return{get:(l,d,f)=>{const m=r.get(l,rm,f);return m!==rm||d===rm?m:s.get(l,d,f)}}}(s,f.injector):s,I=m.get(ZI,ot),w=m.get(Ax,null),P=I.createRenderer(null,this.componentDef),k=this.componentDef.selectors[0][0]||"div",j=d?function dA(r,s,l){if(pe(r))return r.selectRootElement(s,l===Rn.ShadowDom);let d="string"==typeof s?r.querySelector(s):s;return d.textContent="",d}(P,d,this.componentDef.encapsulation):nn(I.createRenderer(null,this.componentDef),k,function vx(r){const s=r.toLowerCase();return"svg"===s?"svg":"math"===s?"math":null}(k)),re=this.componentDef.onPush?576:528,ve=function RA(r,s){return{components:[],scheduler:r||xw,clean:xA,playerHandler:s||null,flags:0}}(),Be=Nh(0,null,null,1,0,null,null,null,null,null),lt=Bc(null,Be,ve,re,null,null,I,P,w,m);let Gt,Qt;Lo(lt);try{const Cn=function eu(r,s,l,d,f,m){const I=l[1];l[20]=r;const P=Vc(I,20,2,"#host",null),k=P.mergedAttrs=s.hostAttrs;null!==k&&(ld(P,k,!0),null!==r&&($s(f,r,k),null!==P.classes&&Eh(f,r,P.classes),null!==P.styles&&Mg(f,r,P.styles)));const j=d.createRenderer(r,s),re=Bc(l,cA(s),null,s.onPush?64:16,l[20],P,d,j,m||null,null);return I.firstCreatePass&&(y(da(P,l),I,s.type),_A(I,P),id(P,l.length,1)),od(l,re),l[20]=re}(j,this.componentDef,lt,I,P);if(j)if(d)$s(P,j,["ng-version",Ix.full]);else{const{attrs:bt,classes:On}=function Ly(r){const s=[],l=[];let d=1,f=2;for(;d<r.length;){let m=r[d];if("string"==typeof m)2===f?""!==m&&s.push(m,r[++d]):8===f&&l.push(m);else{if(!ar(f))break;f=m}d++}return{attrs:s,classes:l}}(this.componentDef.selectors[0]);bt&&$s(P,j,bt),On&&On.length>0&&Eh(P,j,On.join(" "))}if(Qt=wi(Be,20),void 0!==l){const bt=Qt.projection=[];for(let On=0;On<this.ngContentSelectors.length;On++){const mi=l[On];bt.push(null!=mi?Array.from(mi):null)}}Gt=function fp(r,s,l,d,f){const m=l[1],I=function Jy(r,s,l){const d=Xi();r.firstCreatePass&&(l.providersResolver&&l.providersResolver(l),vA(r,d,s,Uc(r,s,1,null),l));const f=gn(s,r,d.directiveStart,d);bs(f,s);const m=kn(d,s);return m&&bs(m,s),f}(m,l,s);if(d.components.push(I),r[8]=I,f&&f.forEach(P=>P(I,s)),s.contentQueries){const P=Xi();s.contentQueries(1,I,P.directiveStart)}const w=Xi();return!m.firstCreatePass||null===s.hostBindings&&null===s.hostAttrs||(Oa(w.index),AA(l[1],w,0,w.directiveStart,w.directiveEnd,s),IA(s,I)),I}(Cn,this.componentDef,lt,ve,[gp]),nd(Be,lt,null)}finally{Is()}return new bx(this.componentType,Gt,hc(Qt,lt),lt,Qt)}}class bx extends class Zo{}{constructor(s,l,d,f,m){super(),this.location=d,this._rootLView=f,this._tNode=m,this.instance=l,this.hostView=this.changeDetectorRef=new _x(f),this.componentType=s}get injector(){return new qs(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}class yu{}class JI{}const xu=new Map;class Tx extends yu{constructor(s,l){super(),this._parent=l,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new YI(this);const d=Ir(s);this._bootstrapComponents=Fa(d.bootstrap),this._r3Injector=Hs(s,l,[{provide:yu,useValue:this},{provide:yf,useValue:this.componentFactoryResolver}],st(s)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(s)}get(s,l=Qs.THROW_IF_NOT_FOUND,d=En.Default){return s===Qs||s===yu||s===np?this:this._r3Injector.get(s,l,d)}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(l=>l()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class bf extends JI{constructor(s){super(),this.moduleType=s,null!==Ir(s)&&function Mx(r){const s=new Set;!function l(d){const f=Ir(d,!0),m=f.id;null!==m&&(function om(r,s,l){if(s&&s!==l)throw new Error(`Duplicate module registered for ${r} - ${st(s)} vs ${st(s.name)}`)}(m,xu.get(m),d),xu.set(m,d));const I=Fa(f.imports);for(const w of I)s.has(w)||(s.add(w),l(w))}(r)}(s)}create(s){return new Tx(this.moduleType,s)}}function Bd(r,s,l){const d=yr()+r,f=Pt();return f[d]===Jn?Aa(f,d,l?s.call(l):s()):Ia(f,d)}function Ex(r,s,l,d){return lm(Pt(),yr(),r,s,l,d)}function Dx(r,s,l,d,f){return function wf(r,s,l,d,f,m,I){const w=s+l;return Cl(r,w,f,m)?Aa(r,w+2,I?d.call(I,f,m):d(f,m)):$a(r,w+2)}(Pt(),yr(),r,s,l,d,f)}function am(r,s,l,d,f,m){return function zs(r,s,l,d,f,m,I,w){const P=s+l;return function Wo(r,s,l,d,f){const m=Cl(r,s,l,d);return ws(r,s+2,f)||m}(r,P,f,m,I)?Aa(r,P+3,w?d.call(w,f,m,I):d(f,m,I)):$a(r,P+3)}(Pt(),yr(),r,s,l,d,f,m)}function Px(r,s,l,d,f,m,I){return function e_(r,s,l,d,f,m,I,w,P){const k=s+l;return Ms(r,k,f,m,I,w)?Aa(r,k+4,P?d.call(P,f,m,I,w):d(f,m,I,w)):$a(r,k+4)}(Pt(),yr(),r,s,l,d,f,m,I)}function Ox(r,s,l,d,f,m,I,w){const P=yr()+r,k=Pt(),j=Ms(k,P,l,d,f,m);return ws(k,P+4,I)||j?Aa(k,P+5,w?s.call(w,l,d,f,m,I):s(l,d,f,m,I)):Ia(k,P+5)}function $a(r,s){const l=r[s];return l===Jn?void 0:l}function lm(r,s,l,d,f,m){const I=s+l;return ws(r,I,f)?Aa(r,I+1,m?d.call(m,f):d(f)):$a(r,I+1)}function n_(r,s){const l=ai();let d;const f=r+20;l.firstCreatePass?(d=function i_(r,s){if(s)for(let l=s.length-1;l>=0;l--){const d=s[l];if(r===d.name)return d}}(s,l.pipeRegistry),l.data[f]=d,d.onDestroy&&(l.destroyHooks||(l.destroyHooks=[])).push(f,d.onDestroy)):d=l.data[f];const m=d.factory||(d.factory=sa(d.type)),I=we(rf);try{const w=$n(!1),P=m();return $n(w),function md(r,s,l,d){l>=r.data.length&&(r.data[l]=null,r.blueprint[l]=null),s[l]=d}(l,Pt(),f,P),P}finally{we(I)}}function Ml(r,s,l){const d=r+20,f=Pt(),m=Pi(f,d);return function Vd(r,s){return r[1].data[s].pure}(f,d)?lm(f,yr(),s,m.transform,l,m):m.transform(l)}function Ud(r){return s=>{setTimeout(r,void 0,s)}}const ls=class Nx extends ee.x{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,l,d){var f,m,I;let w=s,P=l||(()=>null),k=d;if(s&&"object"==typeof s){const re=s;w=null===(f=re.next)||void 0===f?void 0:f.bind(re),P=null===(m=re.error)||void 0===m?void 0:m.bind(re),k=null===(I=re.complete)||void 0===I?void 0:I.bind(re)}this.__isAsync&&(P=Ud(P),w&&(w=Ud(w)),k&&(k=Ud(k)));const j=super.subscribe({next:w,error:P,complete:k});return s instanceof xe.w0&&s.add(j),j}};function s_(){return this._results[ho()]()}class es{constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const l=ho(),d=es.prototype;d[l]||(d[l]=s_)}get changes(){return this._changes||(this._changes=new ls)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,l){return this._results.reduce(s,l)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,l){const d=this;d.dirty=!1;const f=Ho(s);(this._changesDetected=!function lC(r,s,l){if(r.length!==s.length)return!1;for(let d=0;d<r.length;d++){let f=r[d],m=s[d];if(l&&(f=l(f),m=l(m)),m!==f)return!1}return!0}(d._results,f,l))&&(d._results=f,d.length=f.length,d.last=f[this.length-1],d.first=f[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let Po=(()=>{class r{}return r.__NG_ELEMENT_ID__=o_,r})();const Fx=Po,EM=class extends Fx{constructor(s,l,d){super(),this._declarationLView=s,this._declarationTContainer=l,this.elementRef=d}createEmbeddedView(s){const l=this._declarationTContainer.tViews,d=Bc(this._declarationLView,l,s,16,null,l.declTNode,null,null,null,null);d[17]=this._declarationLView[this._declarationTContainer.index];const m=this._declarationLView[19];return null!==m&&(d[19]=m.createEmbeddedView(l)),nd(l,d,s),new Fd(d)}};function o_(){return Hd(Xi(),Pt())}function Hd(r,s){return 4&r.type?new EM(s,r,hc(r,s)):null}let zd=(()=>{class r{}return r.__NG_ELEMENT_ID__=a_,r})();function a_(){return Gd(Xi(),Pt())}const l_=zd,cm=class extends l_{constructor(s,l,d){super(),this._lContainer=s,this._hostTNode=l,this._hostLView=d}get element(){return hc(this._hostTNode,this._hostLView)}get injector(){return new qs(this._hostTNode,this._hostLView)}get parentInjector(){const s=x(this._hostTNode,this._hostLView);if(ko(s)){const l=Bo(s,this._hostLView),d=ua(s);return new qs(l[1].data[d+8],l)}return new qs(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const l=um(this._lContainer);return null!==l&&l[s]||null}get length(){return this._lContainer.length-10}createEmbeddedView(s,l,d){const f=s.createEmbeddedView(l||{});return this.insert(f,d),f}createComponent(s,l,d,f,m){const I=s&&!function Tc(r){return"function"==typeof r}(s);let w;if(I)w=l;else{const re=l||{};w=re.index,d=re.injector,f=re.projectableNodes,m=re.ngModuleRef}const P=I?s:new sm(Xn(s)),k=d||this.parentInjector;if(!m&&null==P.ngModule){const ve=(I?k:this.parentInjector).get(yu,null);ve&&(m=ve)}const j=P.create(k,f,void 0,m);return this.insert(j.hostView,w),j}insert(s,l){const d=s._lView,f=d[1];if(function Cs(r){return ht(r[3])}(d)){const j=this.indexOf(s);if(-1!==j)this.detach(j);else{const re=d[3],ve=new cm(re,re[6],re[3]);ve.detach(ve.indexOf(s))}}const m=this._adjustIndex(l),I=this._lContainer;!function xy(r,s,l,d){const f=10+d,m=l.length;d>0&&(l[f-1][4]=s),d<m-10?(s[4]=l[f],pv(l,10+d,s)):(l.push(s),s[4]=null),s[3]=l;const I=s[17];null!==I&&l!==I&&function by(r,s){const l=r[9];s[16]!==s[3][3][16]&&(r[2]=!0),null===l?r[9]=[s]:l.push(s)}(I,s);const w=s[19];null!==w&&w.insertView(r),s[2]|=128}(f,d,I,m);const w=xg(m,I),P=d[11],k=bh(P,I[7]);return null!==k&&function _y(r,s,l,d,f,m){d[0]=f,d[6]=s,ed(r,d,l,1,f,m)}(f,I[6],P,d,k,w),s.attachToViewContainerRef(),pv(Mf(I),m,s),s}move(s,l){return this.insert(s,l)}indexOf(s){const l=um(this._lContainer);return null!==l?l.indexOf(s):-1}remove(s){const l=this._adjustIndex(s,-1),d=dl(this._lContainer,l);d&&(ch(Mf(this._lContainer),l),Jl(d[1],d))}detach(s){const l=this._adjustIndex(s,-1),d=dl(this._lContainer,l);return d&&null!=ch(Mf(this._lContainer),l)?new Fd(d):null}_adjustIndex(s,l=0){return null==s?this.length+l:s}};function um(r){return r[8]}function Mf(r){return r[8]||(r[8]=[])}function Gd(r,s){let l;const d=s[r.index];if(ht(d))l=d;else{let f;if(8&r.type)f=Yt(d);else{const m=s[11];f=m.createComment("");const I=kn(r,s);co(m,bh(m,I),f,function VC(r,s){return pe(r)?r.nextSibling(s):s.nextSibling}(m,I),!1)}s[r.index]=l=Kg(d,s,f,r),od(s,l)}return new cm(l,r,s)}class Sf{constructor(s){this.queryList=s,this.matches=null}clone(){return new Sf(this.queryList)}setDirty(){this.queryList.setDirty()}}class dm{constructor(s=[]){this.queries=s}createEmbeddedView(s){const l=s.queries;if(null!==l){const d=null!==s.contentQueries?s.contentQueries[0]:l.length,f=[];for(let m=0;m<d;m++){const I=l.getByIndex(m);f.push(this.queries[I.indexInDeclarationView].clone())}return new dm(f)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let l=0;l<this.queries.length;l++)null!==Bx(s,l).matches&&this.queries[l].setDirty()}}class hm{constructor(s,l,d=null){this.predicate=s,this.flags=l,this.read=d}}class Tf{constructor(s=[]){this.queries=s}elementStart(s,l){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(s,l)}elementEnd(s){for(let l=0;l<this.queries.length;l++)this.queries[l].elementEnd(s)}embeddedTView(s){let l=null;for(let d=0;d<this.length;d++){const f=null!==l?l.length:0,m=this.getByIndex(d).embeddedTView(s,f);m&&(m.indexInDeclarationView=d,null!==l?l.push(m):l=[m])}return null!==l?new Tf(l):null}template(s,l){for(let d=0;d<this.queries.length;d++)this.queries[d].template(s,l)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class Wd{constructor(s,l=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=l}elementStart(s,l){this.isApplyingToNode(l)&&this.matchTNode(s,l)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,l){this.elementStart(s,l)}embeddedTView(s,l){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,l),new Wd(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const l=this._declarationNodeIndex;let d=s.parent;for(;null!==d&&8&d.type&&d.index!==l;)d=d.parent;return l===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(s,l){const d=this.metadata.predicate;if(Array.isArray(d))for(let f=0;f<d.length;f++){const m=d[f];this.matchTNodeWithReadOption(s,l,d_(l,m)),this.matchTNodeWithReadOption(s,l,Zn(l,s,m,!1,!1))}else d===Po?4&l.type&&this.matchTNodeWithReadOption(s,l,-1):this.matchTNodeWithReadOption(s,l,Zn(l,s,d,!1,!1))}matchTNodeWithReadOption(s,l,d){if(null!==d){const f=this.metadata.read;if(null!==f)if(f===Nd||f===zd||f===Po&&4&l.type)this.addMatch(l.index,-2);else{const m=Zn(l,s,f,!1,!1);null!==m&&this.addMatch(l.index,m)}else this.addMatch(l.index,d)}}addMatch(s,l){null===this.matches?this.matches=[s,l]:this.matches.push(s,l)}}function d_(r,s){const l=r.localNames;if(null!==l)for(let d=0;d<l.length;d+=2)if(l[d]===s)return l[d+1];return null}function h_(r,s,l,d){return-1===l?function fm(r,s){return 11&r.type?hc(r,s):4&r.type?Hd(r,s):null}(s,r):-2===l?function f_(r,s,l){return l===Nd?hc(s,r):l===Po?Hd(s,r):l===zd?Gd(s,r):void 0}(r,s,d):gn(r,r[1],l,s)}function gm(r,s,l,d){const f=s[19].queries[d];if(null===f.matches){const m=r.data,I=l.matches,w=[];for(let P=0;P<I.length;P+=2){const k=I[P];w.push(k<0?null:h_(s,m[k],I[P+1],l.metadata.read))}f.matches=w}return f.matches}function jd(r,s,l,d){const f=r.queries.getByIndex(l),m=f.matches;if(null!==m){const I=gm(r,s,f,l);for(let w=0;w<m.length;w+=2){const P=m[w];if(P>0)d.push(I[w/2]);else{const k=m[w+1],j=s[-P];for(let re=10;re<j.length;re++){const ve=j[re];ve[17]===ve[3]&&jd(ve[1],ve,k,d)}if(null!==j[9]){const re=j[9];for(let ve=0;ve<re.length;ve++){const Be=re[ve];jd(Be[1],Be,k,d)}}}}}return d}function $d(r){const s=Pt(),l=ai(),d=Ja();$t(d+1);const f=Bx(l,d);if(r.dirty&&qi(s)===(2==(2&f.metadata.flags))){if(null===f.matches)r.reset([]);else{const m=f.crossesNgTemplate?jd(l,s,d,[]):gm(l,s,f,d);r.reset(m,$I),r.notifyOnChanges()}return!0}return!1}function pm(r,s,l){const d=ai();d.firstCreatePass&&(Am(d,new hm(r,s,l),-1),2==(2&s)&&(d.staticViewQueries=!0)),Ss(d,Pt(),s)}function mm(r,s,l,d){const f=ai();if(f.firstCreatePass){const m=Xi();Am(f,new hm(s,l,d),m.index),function DM(r,s){const l=r.contentQueries||(r.contentQueries=[]);s!==(l.length?l[l.length-1]:-1)&&l.push(r.queries.length-1,s)}(f,r),2==(2&l)&&(f.staticContentQueries=!0)}Ss(f,Pt(),l)}function Cm(){return function Sl(r,s){return r[19].queries[s].queryList}(Pt(),Ja())}function Ss(r,s,l){const d=new es(4==(4&l));hA(r,s,d,d.destroy),null===s[19]&&(s[19]=new dm),s[19].queries.push(new Sf(d))}function Am(r,s,l){null===r.queries&&(r.queries=new Tf),r.queries.track(new Wd(s,l))}function Bx(r,s){return r.queries.getByIndex(s)}function Im(r,s){return Hd(r,s)}function Yd(...r){}const Pm=new pr("Application Initializer");let Kd=(()=>{class r{constructor(l){this.appInits=l,this.resolve=Yd,this.reject=Yd,this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,f)=>{this.resolve=d,this.reject=f})}runInitializers(){if(this.initialized)return;const l=[],d=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let f=0;f<this.appInits.length;f++){const m=this.appInits[f]();if(Sp(m))l.push(m);else if(ac(m)){const I=new Promise((w,P)=>{m.subscribe({complete:w,error:P})});l.push(I)}}Promise.all(l).then(()=>{d()}).catch(f=>{this.reject(f)}),0===l.length&&d(),this.initialized=!0}}return r.\u0275fac=function(l){return new(l||r)(Xr(Pm,8))},r.\u0275prov=si({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();const Om=new pr("AppId",{providedIn:"root",factory:function Vf(){return`${Lm()}${Lm()}${Lm()}`}});function Lm(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Su=new pr("Platform Initializer"),Uf=new pr("Platform ID"),Rm=new pr("appBootstrapListener");let Qx=(()=>{class r{log(l){console.log(l)}warn(l){console.warn(l)}}return r.\u0275fac=function(l){return new(l||r)},r.\u0275prov=si({token:r,factory:r.\u0275fac}),r})();const x_=new pr("LocaleId",{providedIn:"root",factory:()=>ks(x_,En.Optional|En.SkipSelf)||function kM(){return"undefined"!=typeof $localize&&$localize.locale||Wp}()}),Xx=new pr("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class Nm{constructor(s,l){this.ngModuleFactory=s,this.componentFactories=l}}let nb=(()=>{class r{compileModuleSync(l){return new bf(l)}compileModuleAsync(l){return Promise.resolve(this.compileModuleSync(l))}compileModuleAndAllComponentsSync(l){const d=this.compileModuleSync(l),m=Fa(Ir(l).declarations).reduce((I,w)=>{const P=Xn(w);return P&&I.push(new sm(P)),I},[]);return new Nm(d,m)}compileModuleAndAllComponentsAsync(l){return Promise.resolve(this.compileModuleAndAllComponentsSync(l))}clearCache(){}clearCacheFor(l){}getModuleId(l){}}return r.\u0275fac=function(l){return new(l||r)},r.\u0275prov=si({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();const sb=(()=>Promise.resolve(0))();function b_(r){"undefined"==typeof Zone?sb.then(()=>{r&&r.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",r)}class qo{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:l=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ls(!1),this.onMicrotaskEmpty=new ls(!1),this.onStable=new ls(!1),this.onError=new ls(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const f=this;f._nesting=0,f._outer=f._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!d&&l,f.shouldCoalesceRunChangeDetection=d,f.lastRequestAnimationFrameId=-1,f.nativeRequestAnimationFrame=function w_(){let r=Sn.requestAnimationFrame,s=Sn.cancelAnimationFrame;if("undefined"!=typeof Zone&&r&&s){const l=r[Zone.__symbol__("OriginalDelegate")];l&&(r=l);const d=s[Zone.__symbol__("OriginalDelegate")];d&&(s=d)}return{nativeRequestAnimationFrame:r,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function T_(r){const s=()=>{!function S_(r){r.isCheckStableRunning||-1!==r.lastRequestAnimationFrameId||(r.lastRequestAnimationFrameId=r.nativeRequestAnimationFrame.call(Sn,()=>{r.fakeTopEventTask||(r.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{r.lastRequestAnimationFrameId=-1,km(r),r.isCheckStableRunning=!0,Fm(r),r.isCheckStableRunning=!1},void 0,()=>{},()=>{})),r.fakeTopEventTask.invoke()}),km(r))}(r)};r._inner=r._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(l,d,f,m,I,w)=>{try{return Bm(r),l.invokeTask(f,m,I,w)}finally{(r.shouldCoalesceEventChangeDetection&&"eventTask"===m.type||r.shouldCoalesceRunChangeDetection)&&s(),E_(r)}},onInvoke:(l,d,f,m,I,w,P)=>{try{return Bm(r),l.invoke(f,m,I,w,P)}finally{r.shouldCoalesceRunChangeDetection&&s(),E_(r)}},onHasTask:(l,d,f,m)=>{l.hasTask(f,m),d===f&&("microTask"==m.change?(r._hasPendingMicrotasks=m.microTask,km(r),Fm(r)):"macroTask"==m.change&&(r.hasPendingMacrotasks=m.macroTask))},onHandleError:(l,d,f,m)=>(l.handleError(f,m),r.runOutsideAngular(()=>r.onError.emit(m)),!1)})}(f)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!qo.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(qo.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(s,l,d){return this._inner.run(s,l,d)}runTask(s,l,d,f){const m=this._inner,I=m.scheduleEventTask("NgZoneEvent: "+f,s,M_,Yd,Yd);try{return m.runTask(I,l,d)}finally{m.cancelTask(I)}}runGuarded(s,l,d){return this._inner.runGuarded(s,l,d)}runOutsideAngular(s){return this._outer.run(s)}}const M_={};function Fm(r){if(0==r._nesting&&!r.hasPendingMicrotasks&&!r.isStable)try{r._nesting++,r.onMicrotaskEmpty.emit(null)}finally{if(r._nesting--,!r.hasPendingMicrotasks)try{r.runOutsideAngular(()=>r.onStable.emit(null))}finally{r.isStable=!0}}}function km(r){r.hasPendingMicrotasks=!!(r._hasPendingMicrotasks||(r.shouldCoalesceEventChangeDetection||r.shouldCoalesceRunChangeDetection)&&-1!==r.lastRequestAnimationFrameId)}function Bm(r){r._nesting++,r.isStable&&(r.isStable=!1,r.onUnstable.emit(null))}function E_(r){r._nesting--,Fm(r)}class Vm{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ls,this.onMicrotaskEmpty=new ls,this.onStable=new ls,this.onError=new ls}run(s,l,d){return s.apply(l,d)}runGuarded(s,l,d){return s.apply(l,d)}runOutsideAngular(s){return s()}runTask(s,l,d,f){return s.apply(l,d)}}let D_=(()=>{class r{constructor(l){this._ngZone=l,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),l.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{qo.assertNotInAngularZone(),b_(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())b_(()=>{for(;0!==this._callbacks.length;){let l=this._callbacks.pop();clearTimeout(l.timeoutId),l.doneCb(this._didWork)}this._didWork=!1});else{let l=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(l)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(l=>({source:l.source,creationLocation:l.creationLocation,data:l.data})):[]}addCallback(l,d,f){let m=-1;d&&d>0&&(m=setTimeout(()=>{this._callbacks=this._callbacks.filter(I=>I.timeoutId!==m),l(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:l,timeoutId:m,updateCb:f})}whenStable(l,d,f){if(f&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(l,d,f),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(l,d,f){return[]}}return r.\u0275fac=function(l){return new(l||r)(Xr(qo))},r.\u0275prov=si({token:r,factory:r.\u0275fac}),r})(),Hf=(()=>{class r{constructor(){this._applications=new Map,zf.addToWindow(this)}registerApplication(l,d){this._applications.set(l,d)}unregisterApplication(l){this._applications.delete(l)}unregisterAllApplications(){this._applications.clear()}getTestability(l){return this._applications.get(l)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(l,d=!0){return zf.findTestabilityInTree(this,l,d)}}return r.\u0275fac=function(l){return new(l||r)},r.\u0275prov=si({token:r,factory:r.\u0275fac}),r})();class ob{addToWindow(s){}findTestabilityInTree(s,l,d){return null}}function Um(r){zf=r}let Yo,zf=new ob;const L_=new pr("AllowMultipleToken");class Hm{constructor(s,l){this.name=s,this.token=l}}function R_(r,s,l=[]){const d=`Platform: ${s}`,f=new pr(d);return(m=[])=>{let I=lb();if(!I||I.injector.get(L_,!1))if(r)r(l.concat(m).concat({provide:f,useValue:!0}));else{const w=l.concat(m).concat({provide:f,useValue:!0},{provide:ec,useValue:"platform"});!function ab(r){if(Yo&&!Yo.destroyed&&!Yo.injector.get(L_,!1))throw new Ht(400,"");Yo=r.get(Gf);const s=r.get(Su,null);s&&s.forEach(l=>l())}(Qs.create({providers:w,name:d}))}return function N_(r){const s=lb();if(!s)throw new Ht(401,"");return s}()}}function lb(){return Yo&&!Yo.destroyed?Yo:null}let Gf=(()=>{class r{constructor(l){this._injector=l,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(l,d){const w=function cb(r,s){let l;return l="noop"===r?new Vm:("zone.js"===r?void 0:r)||new qo({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==s?void 0:s.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==s?void 0:s.ngZoneRunCoalescing)}),l}(d?d.ngZone:void 0,{ngZoneEventCoalescing:d&&d.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:d&&d.ngZoneRunCoalescing||!1}),P=[{provide:qo,useValue:w}];return w.run(()=>{const k=Qs.create({providers:P,parent:this.injector,name:l.moduleType.name}),j=l.create(k),re=j.injector.get(_h,null);if(!re)throw new Ht(402,"");return w.runOutsideAngular(()=>{const ve=w.onError.subscribe({next:Be=>{re.handleError(Be)}});j.onDestroy(()=>{Za(this._modules,j),ve.unsubscribe()})}),function F_(r,s,l){try{const d=l();return Sp(d)?d.catch(f=>{throw s.runOutsideAngular(()=>r.handleError(f)),f}):d}catch(d){throw s.runOutsideAngular(()=>r.handleError(d)),d}}(re,w,()=>{const ve=j.injector.get(Kd);return ve.runInitializers(),ve.donePromise.then(()=>(function hM(r){ri(r,"Expected localeId to be defined"),"string"==typeof r&&(U0=r.toLowerCase().replace(/_/g,"-"))}(j.injector.get(x_,Wp)||Wp),this._moduleDoBootstrap(j),j))})})}bootstrapModule(l,d=[]){const f=k_({},d);return function P_(r,s,l){const d=new bf(l);return Promise.resolve(d)}(0,0,l).then(m=>this.bootstrapModuleFactory(m,f))}_moduleDoBootstrap(l){const d=l.injector.get(Wf);if(l._bootstrapComponents.length>0)l._bootstrapComponents.forEach(f=>d.bootstrap(f));else{if(!l.instance.ngDoBootstrap)throw new Ht(403,"");l.instance.ngDoBootstrap(d)}this._modules.push(l)}onDestroy(l){this._destroyListeners.push(l)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ht(404,"");this._modules.slice().forEach(l=>l.destroy()),this._destroyListeners.forEach(l=>l()),this._destroyed=!0}get destroyed(){return this._destroyed}}return r.\u0275fac=function(l){return new(l||r)(Xr(Qs))},r.\u0275prov=si({token:r,factory:r.\u0275fac}),r})();function k_(r,s){return Array.isArray(s)?s.reduce(k_,r):Object.assign(Object.assign({},r),s)}let Wf=(()=>{class r{constructor(l,d,f,m,I){this._zone=l,this._injector=d,this._exceptionHandler=f,this._componentFactoryResolver=m,this._initStatus=I,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const w=new me.y(k=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{k.next(this._stable),k.complete()})}),P=new me.y(k=>{let j;this._zone.runOutsideAngular(()=>{j=this._zone.onStable.subscribe(()=>{qo.assertNotInAngularZone(),b_(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,k.next(!0))})})});const re=this._zone.onUnstable.subscribe(()=>{qo.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{k.next(!1)}))});return()=>{j.unsubscribe(),re.unsubscribe()}});this.isStable=function ae(...r){const s=(0,$e.yG)(r),l=(0,$e._6)(r,1/0),d=r;return d.length?1===d.length?(0,X.Xf)(d[0]):(0,D.J)(l)((0,J.D)(d,s)):c.E}(w,P.pipe((0,oe.B)()))}bootstrap(l,d){if(!this._initStatus.done)throw new Ht(405,"");let f;f=l instanceof dc?l:this._componentFactoryResolver.resolveComponentFactory(l),this.componentTypes.push(f.componentType);const m=function O_(r){return r.isBoundToModule}(f)?void 0:this._injector.get(yu),w=f.create(Qs.NULL,[],d||f.selector,m),P=w.location.nativeElement,k=w.injector.get(D_,null),j=k&&w.injector.get(Hf);return k&&j&&j.registerApplication(P,k),w.onDestroy(()=>{this.detachView(w.hostView),Za(this.components,w),j&&j.unregisterApplication(P)}),this._loadComponent(w),w}tick(){if(this._runningTick)throw new Ht(101,"");try{this._runningTick=!0;for(let l of this._views)l.detectChanges()}catch(l){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(l))}finally{this._runningTick=!1}}attachView(l){const d=l;this._views.push(d),d.attachToAppRef(this)}detachView(l){const d=l;Za(this._views,d),d.detachFromAppRef()}_loadComponent(l){this.attachView(l.hostView),this.tick(),this.components.push(l),this._injector.get(Rm,[]).concat(this._bootstrapListeners).forEach(f=>f(l))}ngOnDestroy(){this._views.slice().forEach(l=>l.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return r.\u0275fac=function(l){return new(l||r)(Xr(qo),Xr(Qs),Xr(_h),Xr(yf),Xr(Kd))},r.\u0275prov=si({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function Za(r,s){const l=r.indexOf(s);l>-1&&r.splice(l,1)}let U_=!0;function ub(){U_=!1}let G_=(()=>{class r{}return r.__NG_ELEMENT_ID__=hb,r})();function hb(r){return function W_(r,s,l){if(Yn(r)&&!l){const d=Qi(r.index,s);return new Fd(d,d)}return 47&r.type?new Fd(s[16],s):null}(Xi(),Pt(),16==(16&r))}class $_{constructor(){}supports(s){return ml(s)}create(s){return new vb(s)}}const _b=(r,s)=>s;class vb{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||_b}forEachItem(s){let l;for(l=this._itHead;null!==l;l=l._next)s(l)}forEachOperation(s){let l=this._itHead,d=this._removalsHead,f=0,m=null;for(;l||d;){const I=!d||l&&l.currentIndex<q_(d,f,m)?l:d,w=q_(I,f,m),P=I.currentIndex;if(I===d)f--,d=d._nextRemoved;else if(l=l._next,null==I.previousIndex)f++;else{m||(m=[]);const k=w-f,j=P-f;if(k!=j){for(let ve=0;ve<k;ve++){const Be=ve<m.length?m[ve]:m[ve]=0,lt=Be+ve;j<=lt&&lt<k&&(m[ve]=Be+1)}m[I.previousIndex]=j-k}}w!==P&&s(I,w,P)}}forEachPreviousItem(s){let l;for(l=this._previousItHead;null!==l;l=l._nextPrevious)s(l)}forEachAddedItem(s){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)s(l)}forEachMovedItem(s){let l;for(l=this._movesHead;null!==l;l=l._nextMoved)s(l)}forEachRemovedItem(s){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)s(l)}forEachIdentityChange(s){let l;for(l=this._identityChangesHead;null!==l;l=l._nextIdentityChange)s(l)}diff(s){if(null==s&&(s=[]),!ml(s))throw new Ht(900,"");return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let f,m,I,l=this._itHead,d=!1;if(Array.isArray(s)){this.length=s.length;for(let w=0;w<this.length;w++)m=s[w],I=this._trackByFn(w,m),null!==l&&Object.is(l.trackById,I)?(d&&(l=this._verifyReinsertion(l,m,I,w)),Object.is(l.item,m)||this._addIdentityChange(l,m)):(l=this._mismatch(l,m,I,w),d=!0),l=l._next}else f=0,function mp(r,s){if(Array.isArray(r))for(let l=0;l<r.length;l++)s(r[l]);else{const l=r[ho()]();let d;for(;!(d=l.next()).done;)s(d.value)}}(s,w=>{I=this._trackByFn(f,w),null!==l&&Object.is(l.trackById,I)?(d&&(l=this._verifyReinsertion(l,w,I,f)),Object.is(l.item,w)||this._addIdentityChange(l,w)):(l=this._mismatch(l,w,I,f),d=!0),l=l._next,f++}),this.length=f;return this._truncate(l),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,l,d,f){let m;return null===s?m=this._itTail:(m=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(s.item,l)||this._addIdentityChange(s,l),this._reinsertAfter(s,m,f)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(d,f))?(Object.is(s.item,l)||this._addIdentityChange(s,l),this._moveAfter(s,m,f)):s=this._addAfter(new yb(l,d),m,f),s}_verifyReinsertion(s,l,d,f){let m=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==m?s=this._reinsertAfter(m,s._prev,f):s.currentIndex!=f&&(s.currentIndex=f,this._addToMoves(s,f)),s}_truncate(s){for(;null!==s;){const l=s._next;this._addToRemovals(this._unlink(s)),s=l}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,l,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const f=s._prevRemoved,m=s._nextRemoved;return null===f?this._removalsHead=m:f._nextRemoved=m,null===m?this._removalsTail=f:m._prevRemoved=f,this._insertAfter(s,l,d),this._addToMoves(s,d),s}_moveAfter(s,l,d){return this._unlink(s),this._insertAfter(s,l,d),this._addToMoves(s,d),s}_addAfter(s,l,d){return this._insertAfter(s,l,d),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,l,d){const f=null===l?this._itHead:l._next;return s._next=f,s._prev=l,null===f?this._itTail=s:f._prev=s,null===l?this._itHead=s:l._next=s,null===this._linkedRecords&&(this._linkedRecords=new Z_),this._linkedRecords.put(s),s.currentIndex=d,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const l=s._prev,d=s._next;return null===l?this._itHead=d:l._next=d,null===d?this._itTail=l:d._prev=l,s}_addToMoves(s,l){return s.previousIndex===l||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Z_),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,l){return s.item=l,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class yb{constructor(s,l){this.item=s,this.trackById=l,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class xb{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,l){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===l||l<=d.currentIndex)&&Object.is(d.trackById,s))return d;return null}remove(s){const l=s._prevDup,d=s._nextDup;return null===l?this._head=d:l._nextDup=d,null===d?this._tail=l:d._prevDup=l,null===this._head}}class Z_{constructor(){this.map=new Map}put(s){const l=s.trackById;let d=this.map.get(l);d||(d=new xb,this.map.set(l,d)),d.add(s)}get(s,l){const f=this.map.get(s);return f?f.get(s,l):null}remove(s){const l=s.trackById;return this.map.get(l).remove(s)&&this.map.delete(l),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function q_(r,s,l){const d=r.previousIndex;if(null===d)return d;let f=0;return l&&d<l.length&&(f=l[d]),d+s+f}class Y_{constructor(){}supports(s){return s instanceof Map||nu(s)}create(){return new bb}}class bb{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let l;for(l=this._mapHead;null!==l;l=l._next)s(l)}forEachPreviousItem(s){let l;for(l=this._previousMapHead;null!==l;l=l._nextPrevious)s(l)}forEachChangedItem(s){let l;for(l=this._changesHead;null!==l;l=l._nextChanged)s(l)}forEachAddedItem(s){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)s(l)}forEachRemovedItem(s){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)s(l)}diff(s){if(s){if(!(s instanceof Map||nu(s)))throw new Ht(900,"")}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let l=this._mapHead;if(this._appendAfter=null,this._forEach(s,(d,f)=>{if(l&&l.key===f)this._maybeAddToChanges(l,d),this._appendAfter=l,l=l._next;else{const m=this._getOrCreateRecordForKey(f,d);l=this._insertBeforeOrAppend(l,m)}}),l){l._prev&&(l._prev._next=null),this._removalsHead=l;for(let d=l;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,l){if(s){const d=s._prev;return l._next=s,l._prev=d,s._prev=l,d&&(d._next=l),s===this._mapHead&&(this._mapHead=l),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=l,l._prev=this._appendAfter):this._mapHead=l,this._appendAfter=l,null}_getOrCreateRecordForKey(s,l){if(this._records.has(s)){const f=this._records.get(s);this._maybeAddToChanges(f,l);const m=f._prev,I=f._next;return m&&(m._next=I),I&&(I._prev=m),f._next=null,f._prev=null,f}const d=new wb(s);return this._records.set(s,d),d.currentValue=l,this._addToAdditions(d),d}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,l){Object.is(l,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=l,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,l){s instanceof Map?s.forEach(l):Object.keys(s).forEach(d=>l(s[d],d))}}class wb{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function K_(){return new $m([new $_])}let $m=(()=>{class r{constructor(l){this.factories=l}static create(l,d){if(null!=d){const f=d.factories.slice();l=l.concat(f)}return new r(l)}static extend(l){return{provide:r,useFactory:d=>r.create(l,d||K_()),deps:[[r,new ju,new Wu]]}}find(l){const d=this.factories.find(f=>f.supports(l));if(null!=d)return d;throw new Ht(901,"")}}return r.\u0275prov=si({token:r,providedIn:"root",factory:K_}),r})();function Zm(){return new qm([new Y_])}let qm=(()=>{class r{constructor(l){this.factories=l}static create(l,d){if(d){const f=d.factories.slice();l=l.concat(f)}return new r(l)}static extend(l){return{provide:r,useFactory:d=>r.create(l,d||Zm()),deps:[[r,new ju,new Wu]]}}find(l){const d=this.factories.find(m=>m.supports(l));if(d)return d;throw new Ht(901,"")}}return r.\u0275prov=si({token:r,providedIn:"root",factory:Zm}),r})();const Tb=R_(null,"core",[{provide:Uf,useValue:"unknown"},{provide:Gf,deps:[Qs]},{provide:Hf,deps:[]},{provide:Qx,deps:[]}]);let Eb=(()=>{class r{constructor(l){}}return r.\u0275fac=function(l){return new(l||r)(Xr(Wf))},r.\u0275mod=ke({type:r}),r.\u0275inj=nr({}),r})()},2313:(dn,tt,z)=>{z.d(tt,{H7:()=>Zr,b2:()=>Cr,q6:()=>Si,se:()=>_t});var D=z(9808),X=z(7587);class c extends D.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class $e extends c{static makeCurrent(){(0,D.HT)(new $e)}onAndCancel(Te,fe,ke){return Te.addEventListener(fe,ke,!1),()=>{Te.removeEventListener(fe,ke,!1)}}dispatchEvent(Te,fe){Te.dispatchEvent(fe)}remove(Te){Te.parentNode&&Te.parentNode.removeChild(Te)}createElement(Te,fe){return(fe=fe||this.getDefaultDocument()).createElement(Te)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(Te){return Te.nodeType===Node.ELEMENT_NODE}isShadowRoot(Te){return Te instanceof DocumentFragment}getGlobalEventTarget(Te,fe){return"window"===fe?window:"document"===fe?Te:"body"===fe?Te.body:null}getBaseHref(Te){const fe=function ae(){return J=J||document.querySelector("base"),J?J.getAttribute("href"):null}();return null==fe?null:function xe(We){ee=ee||document.createElement("a"),ee.setAttribute("href",We);const Te=ee.pathname;return"/"===Te.charAt(0)?Te:`/${Te}`}(fe)}resetBaseElement(){J=null}getUserAgent(){return window.navigator.userAgent}getCookie(Te){return(0,D.Mx)(document.cookie,Te)}}let ee,J=null;const me=new X.OlP("TRANSITION_ID"),de=[{provide:X.ip1,useFactory:function oe(We,Te,fe){return()=>{fe.get(X.CZH).donePromise.then(()=>{const ke=(0,D.q)(),mt=Te.querySelectorAll(`style[ng-transition="${We}"]`);for(let kt=0;kt<mt.length;kt++)ke.remove(mt[kt])})}},deps:[me,D.K0,X.zs3],multi:!0}];class Se{static init(){(0,X.VLi)(new Se)}addToWindow(Te){X.dqk.getAngularTestability=(ke,mt=!0)=>{const kt=Te.findTestabilityInTree(ke,mt);if(null==kt)throw new Error("Could not find testability for element.");return kt},X.dqk.getAllAngularTestabilities=()=>Te.getAllTestabilities(),X.dqk.getAllAngularRootElements=()=>Te.getAllRootElements(),X.dqk.frameworkStabilizers||(X.dqk.frameworkStabilizers=[]),X.dqk.frameworkStabilizers.push(ke=>{const mt=X.dqk.getAllAngularTestabilities();let kt=mt.length,Fn=!1;const Gi=function(Xn){Fn=Fn||Xn,kt--,0==kt&&ke(Fn)};mt.forEach(function(Xn){Xn.whenStable(Gi)})})}findTestabilityInTree(Te,fe,ke){if(null==fe)return null;const mt=Te.getTestability(fe);return null!=mt?mt:ke?(0,D.q)().isShadowRoot(fe)?this.findTestabilityInTree(Te,fe.host,!0):this.findTestabilityInTree(Te,fe.parentElement,!0):null}}let st=(()=>{class We{build(){return new XMLHttpRequest}}return We.\u0275fac=function(fe){return new(fe||We)},We.\u0275prov=X.Yz7({token:We,factory:We.\u0275fac}),We})();const Ye=new X.OlP("EventManagerPlugins");let Tt=(()=>{class We{constructor(fe,ke){this._zone=ke,this._eventNameToPlugin=new Map,fe.forEach(mt=>mt.manager=this),this._plugins=fe.slice().reverse()}addEventListener(fe,ke,mt){return this._findPluginFor(ke).addEventListener(fe,ke,mt)}addGlobalEventListener(fe,ke,mt){return this._findPluginFor(ke).addGlobalEventListener(fe,ke,mt)}getZone(){return this._zone}_findPluginFor(fe){const ke=this._eventNameToPlugin.get(fe);if(ke)return ke;const mt=this._plugins;for(let kt=0;kt<mt.length;kt++){const Fn=mt[kt];if(Fn.supports(fe))return this._eventNameToPlugin.set(fe,Fn),Fn}throw new Error(`No event manager plugin found for event ${fe}`)}}return We.\u0275fac=function(fe){return new(fe||We)(X.LFG(Ye),X.LFG(X.R0b))},We.\u0275prov=X.Yz7({token:We,factory:We.\u0275fac}),We})();class xt{constructor(Te){this._doc=Te}addGlobalEventListener(Te,fe,ke){const mt=(0,D.q)().getGlobalEventTarget(this._doc,Te);if(!mt)throw new Error(`Unsupported event target ${mt} for event ${fe}`);return this.addEventListener(mt,fe,ke)}}let Fe=(()=>{class We{constructor(){this._stylesSet=new Set}addStyles(fe){const ke=new Set;fe.forEach(mt=>{this._stylesSet.has(mt)||(this._stylesSet.add(mt),ke.add(mt))}),this.onStylesAdded(ke)}onStylesAdded(fe){}getAllStyles(){return Array.from(this._stylesSet)}}return We.\u0275fac=function(fe){return new(fe||We)},We.\u0275prov=X.Yz7({token:We,factory:We.\u0275fac}),We})(),Ut=(()=>{class We extends Fe{constructor(fe){super(),this._doc=fe,this._hostNodes=new Map,this._hostNodes.set(fe.head,[])}_addStylesToHost(fe,ke,mt){fe.forEach(kt=>{const Fn=this._doc.createElement("style");Fn.textContent=kt,mt.push(ke.appendChild(Fn))})}addHost(fe){const ke=[];this._addStylesToHost(this._stylesSet,fe,ke),this._hostNodes.set(fe,ke)}removeHost(fe){const ke=this._hostNodes.get(fe);ke&&ke.forEach(_n),this._hostNodes.delete(fe)}onStylesAdded(fe){this._hostNodes.forEach((ke,mt)=>{this._addStylesToHost(fe,mt,ke)})}ngOnDestroy(){this._hostNodes.forEach(fe=>fe.forEach(_n))}}return We.\u0275fac=function(fe){return new(fe||We)(X.LFG(D.K0))},We.\u0275prov=X.Yz7({token:We,factory:We.\u0275fac}),We})();function _n(We){(0,D.q)().remove(We)}const Ht={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Ft=/%COMP%/g;function Re(We,Te,fe){for(let ke=0;ke<Te.length;ke++){let mt=Te[ke];Array.isArray(mt)?Re(We,mt,fe):(mt=mt.replace(Ft,We),fe.push(mt))}return fe}function Je(We){return Te=>{if("__ngUnwrap__"===Te)return We;!1===We(Te)&&(Te.preventDefault(),Te.returnValue=!1)}}let _t=(()=>{class We{constructor(fe,ke,mt){this.eventManager=fe,this.sharedStylesHost=ke,this.appId=mt,this.rendererByCompId=new Map,this.defaultRenderer=new Ge(fe)}createRenderer(fe,ke){if(!fe||!ke)return this.defaultRenderer;switch(ke.encapsulation){case X.ifc.Emulated:{let mt=this.rendererByCompId.get(ke.id);return mt||(mt=new be(this.eventManager,this.sharedStylesHost,ke,this.appId),this.rendererByCompId.set(ke.id,mt)),mt.applyToHost(fe),mt}case 1:case X.ifc.ShadowDom:return new qe(this.eventManager,this.sharedStylesHost,fe,ke);default:if(!this.rendererByCompId.has(ke.id)){const mt=Re(ke.id,ke.styles,[]);this.sharedStylesHost.addStyles(mt),this.rendererByCompId.set(ke.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return We.\u0275fac=function(fe){return new(fe||We)(X.LFG(Tt),X.LFG(Ut),X.LFG(X.AFp))},We.\u0275prov=X.Yz7({token:We,factory:We.\u0275fac}),We})();class Ge{constructor(Te){this.eventManager=Te,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(Te,fe){return fe?document.createElementNS(Ht[fe]||fe,Te):document.createElement(Te)}createComment(Te){return document.createComment(Te)}createText(Te){return document.createTextNode(Te)}appendChild(Te,fe){Te.appendChild(fe)}insertBefore(Te,fe,ke){Te&&Te.insertBefore(fe,ke)}removeChild(Te,fe){Te&&Te.removeChild(fe)}selectRootElement(Te,fe){let ke="string"==typeof Te?document.querySelector(Te):Te;if(!ke)throw new Error(`The selector "${Te}" did not match any elements`);return fe||(ke.textContent=""),ke}parentNode(Te){return Te.parentNode}nextSibling(Te){return Te.nextSibling}setAttribute(Te,fe,ke,mt){if(mt){fe=mt+":"+fe;const kt=Ht[mt];kt?Te.setAttributeNS(kt,fe,ke):Te.setAttribute(fe,ke)}else Te.setAttribute(fe,ke)}removeAttribute(Te,fe,ke){if(ke){const mt=Ht[ke];mt?Te.removeAttributeNS(mt,fe):Te.removeAttribute(`${ke}:${fe}`)}else Te.removeAttribute(fe)}addClass(Te,fe){Te.classList.add(fe)}removeClass(Te,fe){Te.classList.remove(fe)}setStyle(Te,fe,ke,mt){mt&(X.JOm.DashCase|X.JOm.Important)?Te.style.setProperty(fe,ke,mt&X.JOm.Important?"important":""):Te.style[fe]=ke}removeStyle(Te,fe,ke){ke&X.JOm.DashCase?Te.style.removeProperty(fe):Te.style[fe]=""}setProperty(Te,fe,ke){Te[fe]=ke}setValue(Te,fe){Te.nodeValue=fe}listen(Te,fe,ke){return"string"==typeof Te?this.eventManager.addGlobalEventListener(Te,fe,Je(ke)):this.eventManager.addEventListener(Te,fe,Je(ke))}}class be extends Ge{constructor(Te,fe,ke,mt){super(Te),this.component=ke;const kt=Re(mt+"-"+ke.id,ke.styles,[]);fe.addStyles(kt),this.contentAttr=function at(We){return"_ngcontent-%COMP%".replace(Ft,We)}(mt+"-"+ke.id),this.hostAttr=function Ne(We){return"_nghost-%COMP%".replace(Ft,We)}(mt+"-"+ke.id)}applyToHost(Te){super.setAttribute(Te,this.hostAttr,"")}createElement(Te,fe){const ke=super.createElement(Te,fe);return super.setAttribute(ke,this.contentAttr,""),ke}}class qe extends Ge{constructor(Te,fe,ke,mt){super(Te),this.sharedStylesHost=fe,this.hostEl=ke,this.shadowRoot=ke.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const kt=Re(mt.id,mt.styles,[]);for(let Fn=0;Fn<kt.length;Fn++){const Gi=document.createElement("style");Gi.textContent=kt[Fn],this.shadowRoot.appendChild(Gi)}}nodeOrShadowRoot(Te){return Te===this.hostEl?this.shadowRoot:Te}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(Te,fe){return super.appendChild(this.nodeOrShadowRoot(Te),fe)}insertBefore(Te,fe,ke){return super.insertBefore(this.nodeOrShadowRoot(Te),fe,ke)}removeChild(Te,fe){return super.removeChild(this.nodeOrShadowRoot(Te),fe)}parentNode(Te){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(Te)))}}let Bt=(()=>{class We extends xt{constructor(fe){super(fe)}supports(fe){return!0}addEventListener(fe,ke,mt){return fe.addEventListener(ke,mt,!1),()=>this.removeEventListener(fe,ke,mt)}removeEventListener(fe,ke,mt){return fe.removeEventListener(ke,mt)}}return We.\u0275fac=function(fe){return new(fe||We)(X.LFG(D.K0))},We.\u0275prov=X.Yz7({token:We,factory:We.\u0275fac}),We})();const tn=["alt","control","meta","shift"],ui={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ri={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},ln={alt:We=>We.altKey,control:We=>We.ctrlKey,meta:We=>We.metaKey,shift:We=>We.shiftKey};let Zi=(()=>{class We extends xt{constructor(fe){super(fe)}supports(fe){return null!=We.parseEventName(fe)}addEventListener(fe,ke,mt){const kt=We.parseEventName(ke),Fn=We.eventCallback(kt.fullKey,mt,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,D.q)().onAndCancel(fe,kt.domEventName,Fn))}static parseEventName(fe){const ke=fe.toLowerCase().split("."),mt=ke.shift();if(0===ke.length||"keydown"!==mt&&"keyup"!==mt)return null;const kt=We._normalizeKey(ke.pop());let Fn="";if(tn.forEach(Xn=>{const gr=ke.indexOf(Xn);gr>-1&&(ke.splice(gr,1),Fn+=Xn+".")}),Fn+=kt,0!=ke.length||0===kt.length)return null;const Gi={};return Gi.domEventName=mt,Gi.fullKey=Fn,Gi}static getEventFullKey(fe){let ke="",mt=function Vi(We){let Te=We.key;if(null==Te){if(Te=We.keyIdentifier,null==Te)return"Unidentified";Te.startsWith("U+")&&(Te=String.fromCharCode(parseInt(Te.substring(2),16)),3===We.location&&ri.hasOwnProperty(Te)&&(Te=ri[Te]))}return ui[Te]||Te}(fe);return mt=mt.toLowerCase()," "===mt?mt="space":"."===mt&&(mt="dot"),tn.forEach(kt=>{kt!=mt&&ln[kt](fe)&&(ke+=kt+".")}),ke+=mt,ke}static eventCallback(fe,ke,mt){return kt=>{We.getEventFullKey(kt)===fe&&mt.runGuarded(()=>ke(kt))}}static _normalizeKey(fe){return"esc"===fe?"escape":fe}}return We.\u0275fac=function(fe){return new(fe||We)(X.LFG(D.K0))},We.\u0275prov=X.Yz7({token:We,factory:We.\u0275fac}),We})();const Si=(0,X.eFA)(X._c5,"browser",[{provide:X.Lbi,useValue:D.bD},{provide:X.g9A,useValue:function Sr(){$e.makeCurrent(),Se.init()},multi:!0},{provide:D.K0,useFactory:function Es(){return(0,X.RDi)(document),document},deps:[]}]),jr=[{provide:X.zSh,useValue:"root"},{provide:X.qLn,useFactory:function si(){return new X.qLn},deps:[]},{provide:Ye,useClass:Bt,multi:!0,deps:[D.K0,X.R0b,X.Lbi]},{provide:Ye,useClass:Zi,multi:!0,deps:[D.K0]},{provide:_t,useClass:_t,deps:[Tt,Ut,X.AFp]},{provide:X.FYo,useExisting:_t},{provide:Fe,useExisting:Ut},{provide:Ut,useClass:Ut,deps:[D.K0]},{provide:X.dDg,useClass:X.dDg,deps:[X.R0b]},{provide:Tt,useClass:Tt,deps:[Ye,X.R0b]},{provide:D.JF,useClass:st,deps:[]}];let Cr=(()=>{class We{constructor(fe){if(fe)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(fe){return{ngModule:We,providers:[{provide:X.AFp,useValue:fe.appId},{provide:me,useExisting:X.AFp},de]}}}return We.\u0275fac=function(fe){return new(fe||We)(X.LFG(We,12))},We.\u0275mod=X.oAB({type:We}),We.\u0275inj=X.cJS({providers:jr,imports:[D.ez,X.hGG]}),We})();"undefined"!=typeof window&&window;let Zr=(()=>{class We{}return We.\u0275fac=function(fe){return new(fe||We)},We.\u0275prov=X.Yz7({token:We,factory:function(fe){let ke=null;return ke=fe?new(fe||We):X.LFG(us),ke},providedIn:"root"}),We})(),us=(()=>{class We extends Zr{constructor(fe){super(),this._doc=fe}sanitize(fe,ke){if(null==ke)return null;switch(fe){case X.q3G.NONE:return ke;case X.q3G.HTML:return(0,X.qzn)(ke,"HTML")?(0,X.z3N)(ke):(0,X.EiD)(this._doc,String(ke)).toString();case X.q3G.STYLE:return(0,X.qzn)(ke,"Style")?(0,X.z3N)(ke):ke;case X.q3G.SCRIPT:if((0,X.qzn)(ke,"Script"))return(0,X.z3N)(ke);throw new Error("unsafe value used in a script context");case X.q3G.URL:return(0,X.yhl)(ke),(0,X.qzn)(ke,"URL")?(0,X.z3N)(ke):(0,X.mCW)(String(ke));case X.q3G.RESOURCE_URL:if((0,X.qzn)(ke,"ResourceURL"))return(0,X.z3N)(ke);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${fe} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(fe){return(0,X.JVY)(fe)}bypassSecurityTrustStyle(fe){return(0,X.L6k)(fe)}bypassSecurityTrustScript(fe){return(0,X.eBb)(fe)}bypassSecurityTrustUrl(fe){return(0,X.LAX)(fe)}bypassSecurityTrustResourceUrl(fe){return(0,X.pB0)(fe)}}return We.\u0275fac=function(fe){return new(fe||We)(X.LFG(D.K0))},We.\u0275prov=X.Yz7({token:We,factory:function(fe){let ke=null;return ke=fe?new fe:function Ji(We){return new us(We.get(D.K0))}(X.LFG(X.zs3)),ke},providedIn:"root"}),We})()},5797:(dn,tt,z)=>{z.d(tt,{m2:()=>Cr,F0:()=>dr,Od:()=>Xa,yS:()=>Dr,Bz:()=>Ul,lC:()=>un});var D=z(7587),X=z(7579);class c extends X.x{constructor(x){super(),this._value=x}get value(){return this.getValue()}_subscribe(x){const y=super._subscribe(x);return!y.closed&&x.next(this._value),y}getValue(){const{hasError:x,thrownError:y,_value:O}=this;if(x)throw y;return this._throwIfClosed(),O}next(x){super.next(this._value=x)}}var $e=z(8306),J=z(4742),ae=z(2076),ee=z(4671),xe=z(3268),me=z(3269),oe=z(1810),de=z(5403),Se=z(9672);function Tt(M,x,y){M?(0,Se.f)(y,M,x):x()}var xt=z(576);function Fe(M,x){const y=(0,xt.m)(M)?M:()=>M,O=N=>N.error(y());return new $e.y(x?N=>x.schedule(O,0,N):O)}const _n=(0,z(3888).d)(M=>function(){M(this),this.name="EmptyError",this.message="no elements in sequence"});var Ht=z(727),Ft=z(4482);function he(){return(0,Ft.e)((M,x)=>{let y=null;M._refCount++;const O=(0,de.x)(x,void 0,void 0,void 0,()=>{if(!M||M._refCount<=0||0<--M._refCount)return void(y=null);const N=M._connection,q=y;y=null,N&&(!q||N===q)&&N.unsubscribe(),x.unsubscribe()});M.subscribe(O),O.closed||(y=M.connect())})}class Ct extends $e.y{constructor(x,y){super(),this.source=x,this.subjectFactory=y,this._subject=null,this._refCount=0,this._connection=null,(0,Ft.A)(x)&&(this.lift=x.lift)}_subscribe(x){return this.getSubject().subscribe(x)}getSubject(){const x=this._subject;return(!x||x.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:x}=this;this._subject=this._connection=null,null==x||x.unsubscribe()}connect(){let x=this._connection;if(!x){x=this._connection=new Ht.w0;const y=this.getSubject();x.add(this.source.subscribe((0,de.x)(y,void 0,()=>{this._teardown(),y.complete()},O=>{this._teardown(),y.error(O)},()=>this._teardown()))),x.closed&&(this._connection=null,x=Ht.w0.EMPTY)}return x}refCount(){return he()(this)}}var _e=z(9646),Oe=z(7272),at=z(9770),Ne=z(515);function Re(M,x,y,O,N){return(q,le)=>{let Ae=y,Ze=x,Wt=0;q.subscribe((0,de.x)(le,Zn=>{const gn=Wt++;Ze=Ae?M(Ze,Zn,gn):(Ae=!0,Zn),O&&le.next(Ze)},N&&(()=>{Ae&&le.next(Ze),le.complete()})))}}function Je(M,x){return(0,Ft.e)(Re(M,x,arguments.length>=2,!0))}var et=z(8421);function _t(M){return(0,Ft.e)((x,y)=>{let q,O=null,N=!1;O=x.subscribe((0,de.x)(y,void 0,void 0,le=>{q=(0,et.Xf)(M(le,_t(M)(x))),O?(O.unsubscribe(),O=null,q.subscribe(y)):N=!0})),N&&(O.unsubscribe(),O=null,q.subscribe(y))})}var Ge=z(9300);function rt(M){return M<=0?()=>Ne.E:(0,Ft.e)((x,y)=>{let O=[];x.subscribe((0,de.x)(y,N=>{O.push(N),M<O.length&&O.shift()},()=>{for(const N of O)y.next(N);y.complete()},void 0,()=>{O=null}))})}function Zt(M=be){return(0,Ft.e)((x,y)=>{let O=!1;x.subscribe((0,de.x)(y,N=>{O=!0,y.next(N)},()=>O?y.complete():y.error(M())))})}function be(){return new _n}function qe(M){return(0,Ft.e)((x,y)=>{let O=!1;x.subscribe((0,de.x)(y,N=>{O=!0,y.next(N)},()=>{O||y.next(M),y.complete()}))})}var tn=z(5698);function An(M,x){const y=arguments.length>=2;return O=>O.pipe(M?(0,Ge.h)((N,q)=>M(N,q,O)):ee.y,(0,tn.q)(1),y?qe(x):Zt(()=>new _n))}function ui(M,x,y){const O=(0,xt.m)(M)||x||y?{next:M,error:x,complete:y}:M;return O?(0,Ft.e)((N,q)=>{var le;null===(le=O.subscribe)||void 0===le||le.call(O);let Ae=!0;N.subscribe((0,de.x)(q,Ze=>{var Wt;null===(Wt=O.next)||void 0===Wt||Wt.call(O,Ze),q.next(Ze)},()=>{var Ze;Ae=!1,null===(Ze=O.complete)||void 0===Ze||Ze.call(O),q.complete()},Ze=>{var Wt;Ae=!1,null===(Wt=O.error)||void 0===Wt||Wt.call(O,Ze),q.error(Ze)},()=>{var Ze,Wt;Ae&&(null===(Ze=O.unsubscribe)||void 0===Ze||Ze.call(O)),null===(Wt=O.finalize)||void 0===Wt||Wt.call(O)}))}):ee.y}var ln=z(4004),Zi=z(3900),Vi=z(8675),Sr=z(4351),si=z(5577),Es=z(8189),nr=z(9808);class Si{constructor(x,y){this.id=x,this.url=y}}class jr extends Si{constructor(x,y,O="imperative",N=null){super(x,y),this.navigationTrigger=O,this.restoredState=N}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Cr extends Si{constructor(x,y,O){super(x,y),this.urlAfterRedirects=O}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class eo extends Si{constructor(x,y,O){super(x,y),this.reason=O}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class $r extends Si{constructor(x,y,O){super(x,y),this.error=O}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class ns extends Si{constructor(x,y,O,N){super(x,y),this.urlAfterRedirects=O,this.state=N}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ir extends Si{constructor(x,y,O,N){super(x,y),this.urlAfterRedirects=O,this.state=N}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class cs extends Si{constructor(x,y,O,N,q){super(x,y),this.urlAfterRedirects=O,this.state=N,this.shouldActivate=q}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class to extends Si{constructor(x,y,O,N){super(x,y),this.urlAfterRedirects=O,this.state=N}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class En extends Si{constructor(x,y,O,N){super(x,y),this.urlAfterRedirects=O,this.state=N}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class At{constructor(x){this.route=x}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Ee{constructor(x){this.route=x}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class we{constructor(x){this.snapshot=x}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Dt{constructor(x){this.snapshot=x}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ft{constructor(x){this.snapshot=x}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class wt{constructor(x){this.snapshot=x}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class zt{constructor(x,y,O){this.routerEvent=x,this.position=y,this.anchor=O}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const fn="primary";class jn{constructor(x){this.params=x||{}}has(x){return Object.prototype.hasOwnProperty.call(this.params,x)}get(x){if(this.has(x)){const y=this.params[x];return Array.isArray(y)?y[0]:y}return null}getAll(x){if(this.has(x)){const y=this.params[x];return Array.isArray(y)?y:[y]}return[]}get keys(){return Object.keys(this.params)}}function Rn(M){return new jn(M)}const zi="ngNavigationCancelingError";function Ti(M){const x=Error("NavigationCancelingError: "+M);return x[zi]=!0,x}function vn(M,x,y){const O=y.path.split("/");if(O.length>M.length||"full"===y.pathMatch&&(x.hasChildren()||O.length<M.length))return null;const N={};for(let q=0;q<O.length;q++){const le=O[q],Ae=M[q];if(le.startsWith(":"))N[le.substring(1)]=Ae;else if(le!==Ae.path)return null}return{consumed:M.slice(0,O.length),posParams:N}}function yn(M,x){const y=M?Object.keys(M):void 0,O=x?Object.keys(x):void 0;if(!y||!O||y.length!=O.length)return!1;let N;for(let q=0;q<y.length;q++)if(N=y[q],!Ar(M[N],x[N]))return!1;return!0}function Ar(M,x){if(Array.isArray(M)&&Array.isArray(x)){if(M.length!==x.length)return!1;const y=[...M].sort(),O=[...x].sort();return y.every((N,q)=>O[q]===N)}return M===x}function Dn(M){return Array.prototype.concat.apply([],M)}function Qn(M){return M.length>0?M[M.length-1]:null}function xi(M,x){for(const y in M)M.hasOwnProperty(y)&&x(M[y],y)}function Er(M){return(0,D.CqO)(M)?M:(0,D.QGY)(M)?(0,ae.D)(Promise.resolve(M)):(0,_e.of)(M)}const Ui={exact:function is(M,x,y){if(!Xn(M.segments,x.segments)||!ke(M.segments,x.segments,y)||M.numberOfChildren!==x.numberOfChildren)return!1;for(const O in x.children)if(!M.children[O]||!is(M.children[O],x.children[O],y))return!1;return!0},subset:Te},Zr={exact:function us(M,x){return yn(M,x)},subset:function We(M,x){return Object.keys(x).length<=Object.keys(M).length&&Object.keys(x).every(y=>Ar(M[y],x[y]))},ignored:()=>!0};function Ji(M,x,y){return Ui[y.paths](M.root,x.root,y.matrixParams)&&Zr[y.queryParams](M.queryParams,x.queryParams)&&!("exact"===y.fragment&&M.fragment!==x.fragment)}function Te(M,x,y){return fe(M,x,x.segments,y)}function fe(M,x,y,O){if(M.segments.length>y.length){const N=M.segments.slice(0,y.length);return!(!Xn(N,y)||x.hasChildren()||!ke(N,y,O))}if(M.segments.length===y.length){if(!Xn(M.segments,y)||!ke(M.segments,y,O))return!1;for(const N in x.children)if(!M.children[N]||!Te(M.children[N],x.children[N],O))return!1;return!0}{const N=y.slice(0,M.segments.length),q=y.slice(M.segments.length);return!!(Xn(M.segments,N)&&ke(M.segments,N,O)&&M.children[fn])&&fe(M.children[fn],x,q,O)}}function ke(M,x,y){return x.every((O,N)=>Zr[y](M[N].parameters,O.parameters))}class mt{constructor(x,y,O){this.root=x,this.queryParams=y,this.fragment=O}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Rn(this.queryParams)),this._queryParamMap}toString(){return _r.serialize(this)}}class kt{constructor(x,y){this.segments=x,this.children=y,this.parent=null,xi(y,(O,N)=>O.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ds(this)}}class Fn{constructor(x,y){this.path=x,this.parameters=y}get parameterMap(){return this._parameterMap||(this._parameterMap=Rn(this.parameters)),this._parameterMap}toString(){return zn(this)}}function Xn(M,x){return M.length===x.length&&M.every((y,O)=>y.path===x[O].path)}class Nr{}class Ir{parse(x){const y=new Hn(x);return new mt(y.parseRootSegment(),y.parseQueryParams(),y.parseFragment())}serialize(x){const y=`/${hs(x.root,!0)}`,O=function cr(M){const x=Object.keys(M).map(y=>{const O=M[y];return Array.isArray(O)?O.map(N=>`${vr(y)}=${vr(N)}`).join("&"):`${vr(y)}=${vr(O)}`}).filter(y=>!!y);return x.length?`?${x.join("&")}`:""}(x.queryParams);return`${y}${O}${"string"==typeof x.fragment?`#${function rr(M){return encodeURI(M)}(x.fragment)}`:""}`}}const _r=new Ir;function ds(M){return M.segments.map(x=>zn(x)).join("/")}function hs(M,x){if(!M.hasChildren())return ds(M);if(x){const y=M.children[fn]?hs(M.children[fn],!1):"",O=[];return xi(M.children,(N,q)=>{q!==fn&&O.push(`${q}:${hs(N,!1)}`)}),O.length>0?`${y}(${O.join("//")})`:y}{const y=function gr(M,x){let y=[];return xi(M.children,(O,N)=>{N===fn&&(y=y.concat(x(O,N)))}),xi(M.children,(O,N)=>{N!==fn&&(y=y.concat(x(O,N)))}),y}(M,(O,N)=>N===fn?[hs(M.children[fn],!1)]:[`${N}:${hs(O,!1)}`]);return 1===Object.keys(M.children).length&&null!=M.children[fn]?`${ds(M)}/${y[0]}`:`${ds(M)}/(${y.join("//")})`}}function Fr(M){return encodeURIComponent(M).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function vr(M){return Fr(M).replace(/%3B/gi,";")}function Xo(M){return Fr(M).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function sr(M){return decodeURIComponent(M)}function Kt(M){return sr(M.replace(/\+/g,"%20"))}function zn(M){return`${Xo(M.path)}${function oi(M){return Object.keys(M).map(x=>`;${Xo(x)}=${Xo(M[x])}`).join("")}(M.parameters)}`}const rs=/^[^\/()?;=#]+/;function Ri(M){const x=M.match(rs);return x?x[0]:""}const fs=/^[^=?&#]+/,Ds=/^[^&#]+/;class Hn{constructor(x){this.url=x,this.remaining=x}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new kt([],{}):new kt([],this.parseChildren())}parseQueryParams(){const x={};if(this.consumeOptional("?"))do{this.parseQueryParam(x)}while(this.consumeOptional("&"));return x}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const x=[];for(this.peekStartsWith("(")||x.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),x.push(this.parseSegment());let y={};this.peekStartsWith("/(")&&(this.capture("/"),y=this.parseParens(!0));let O={};return this.peekStartsWith("(")&&(O=this.parseParens(!1)),(x.length>0||Object.keys(y).length>0)&&(O[fn]=new kt(x,y)),O}parseSegment(){const x=Ri(this.remaining);if(""===x&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(x),new Fn(sr(x),this.parseMatrixParams())}parseMatrixParams(){const x={};for(;this.consumeOptional(";");)this.parseParam(x);return x}parseParam(x){const y=Ri(this.remaining);if(!y)return;this.capture(y);let O="";if(this.consumeOptional("=")){const N=Ri(this.remaining);N&&(O=N,this.capture(O))}x[sr(y)]=sr(O)}parseQueryParam(x){const y=function Ei(M){const x=M.match(fs);return x?x[0]:""}(this.remaining);if(!y)return;this.capture(y);let O="";if(this.consumeOptional("=")){const le=function Ps(M){const x=M.match(Ds);return x?x[0]:""}(this.remaining);le&&(O=le,this.capture(O))}const N=Kt(y),q=Kt(O);if(x.hasOwnProperty(N)){let le=x[N];Array.isArray(le)||(le=[le],x[N]=le),le.push(q)}else x[N]=q}parseParens(x){const y={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const O=Ri(this.remaining),N=this.remaining[O.length];if("/"!==N&&")"!==N&&";"!==N)throw new Error(`Cannot parse url '${this.url}'`);let q;O.indexOf(":")>-1?(q=O.substr(0,O.indexOf(":")),this.capture(q),this.capture(":")):x&&(q=fn);const le=this.parseChildren();y[q]=1===Object.keys(le).length?le[fn]:new kt([],le),this.consumeOptional("//")}return y}peekStartsWith(x){return this.remaining.startsWith(x)}consumeOptional(x){return!!this.peekStartsWith(x)&&(this.remaining=this.remaining.substring(x.length),!0)}capture(x){if(!this.consumeOptional(x))throw new Error(`Expected "${x}".`)}}class Os{constructor(x){this._root=x}get root(){return this._root.value}parent(x){const y=this.pathFromRoot(x);return y.length>1?y[y.length-2]:null}children(x){const y=Ls(x,this._root);return y?y.children.map(O=>O.value):[]}firstChild(x){const y=Ls(x,this._root);return y&&y.children.length>0?y.children[0].value:null}siblings(x){const y=gs(x,this._root);return y.length<2?[]:y[y.length-2].children.map(N=>N.value).filter(N=>N!==x)}pathFromRoot(x){return gs(x,this._root).map(y=>y.value)}}function Ls(M,x){if(M===x.value)return x;for(const y of x.children){const O=Ls(M,y);if(O)return O}return null}function gs(M,x){if(M===x.value)return[x];for(const y of x.children){const O=gs(M,y);if(O.length)return O.unshift(x),O}return[]}class ur{constructor(x,y){this.value=x,this.children=y}toString(){return`TreeNode(${this.value})`}}function Hi(M){const x={};return M&&M.children.forEach(y=>x[y.value.outlet]=y),x}class kr extends Os{constructor(x,y){super(x),this.snapshot=y,sn(this,x)}toString(){return this.snapshot.toString()}}function qr(M,x){const y=function ge(M,x){const le=new Xe([],{},{},"",{},fn,x,null,M.root,-1,{});return new ht("",new ur(le,[]))}(M,x),O=new c([new Fn("",{})]),N=new c({}),q=new c({}),le=new c({}),Ae=new c(""),Ze=new te(O,N,le,Ae,q,fn,x,y.root);return Ze.snapshot=y.root,new kr(new ur(Ze,[]),y)}class te{constructor(x,y,O,N,q,le,Ae,Ze){this.url=x,this.params=y,this.queryParams=O,this.fragment=N,this.data=q,this.outlet=le,this.component=Ae,this._futureSnapshot=Ze}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,ln.U)(x=>Rn(x)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,ln.U)(x=>Rn(x)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function W(M,x="emptyOnly"){const y=M.pathFromRoot;let O=0;if("always"!==x)for(O=y.length-1;O>=1;){const N=y[O],q=y[O-1];if(N.routeConfig&&""===N.routeConfig.path)O--;else{if(q.component)break;O--}}return function ye(M){return M.reduce((x,y)=>({params:Object.assign(Object.assign({},x.params),y.params),data:Object.assign(Object.assign({},x.data),y.data),resolve:Object.assign(Object.assign({},x.resolve),y._resolvedData)}),{params:{},data:{},resolve:{}})}(y.slice(O))}class Xe{constructor(x,y,O,N,q,le,Ae,Ze,Wt,Zn,gn){this.url=x,this.params=y,this.queryParams=O,this.fragment=N,this.data=q,this.outlet=le,this.component=Ae,this.routeConfig=Ze,this._urlSegment=Wt,this._lastPathIndex=Zn,this._resolve=gn}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Rn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Rn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(O=>O.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class ht extends Os{constructor(x,y){super(y),this.url=x,sn(this,y)}toString(){return Yn(this._root)}}function sn(M,x){x.value._routerState=M,x.children.forEach(y=>sn(M,y))}function Yn(M){const x=M.children.length>0?` { ${M.children.map(Yn).join(", ")} } `:"";return`${M.value}${x}`}function mn(M){if(M.snapshot){const x=M.snapshot,y=M._futureSnapshot;M.snapshot=y,yn(x.queryParams,y.queryParams)||M.queryParams.next(y.queryParams),x.fragment!==y.fragment&&M.fragment.next(y.fragment),yn(x.params,y.params)||M.params.next(y.params),function Sn(M,x){if(M.length!==x.length)return!1;for(let y=0;y<M.length;++y)if(!yn(M[y],x[y]))return!1;return!0}(x.url,y.url)||M.url.next(y.url),yn(x.data,y.data)||M.data.next(y.data)}else M.snapshot=M._futureSnapshot,M.data.next(M._futureSnapshot.data)}function Mn(M,x){const y=yn(M.params,x.params)&&function Gi(M,x){return Xn(M,x)&&M.every((y,O)=>yn(y.parameters,x[O].parameters))}(M.url,x.url);return y&&!(!M.parent!=!x.parent)&&(!M.parent||Mn(M.parent,x.parent))}function ps(M,x,y){if(y&&M.shouldReuseRoute(x.value,y.value.snapshot)){const O=y.value;O._futureSnapshot=x.value;const N=function Pl(M,x,y){return x.children.map(O=>{for(const N of y.children)if(M.shouldReuseRoute(O.value,N.value.snapshot))return ps(M,O,N);return ps(M,O)})}(M,x,y);return new ur(O,N)}{if(M.shouldAttach(x.value)){const q=M.retrieve(x.value);if(null!==q){const le=q.route;return le.value._futureSnapshot=x.value,le.children=x.children.map(Ae=>ps(M,Ae)),le}}const O=function ea(M){return new te(new c(M.url),new c(M.params),new c(M.queryParams),new c(M.fragment),new c(M.data),M.outlet,M.component,M)}(x.value),N=x.children.map(q=>ps(M,q));return new ur(O,N)}}function Oo(M){return"object"==typeof M&&null!=M&&!M.outlets&&!M.segmentPath}function Rs(M){return"object"==typeof M&&null!=M&&M.outlets}function no(M,x,y,O,N){let q={};if(O&&xi(O,(Ae,Ze)=>{q[Ze]=Array.isArray(Ae)?Ae.map(Wt=>`${Wt}`):`${Ae}`}),M===x)return new mt(y,q,N);const le=na(M,x,y);return new mt(le,q,N)}function na(M,x,y){const O={};return xi(M.children,(N,q)=>{O[q]=N===x?y:na(N,x,y)}),new kt(M.segments,O)}class ia{constructor(x,y,O){if(this.isAbsolute=x,this.numberOfDoubleDots=y,this.commands=O,x&&O.length>0&&Oo(O[0]))throw new Error("Root segment cannot have matrix parameters");const N=O.find(Rs);if(N&&N!==Qn(O))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Ll{constructor(x,y,O){this.segmentGroup=x,this.processChildren=y,this.index=O}}function Ii(M,x,y){if(M||(M=new kt([],{})),0===M.segments.length&&M.hasChildren())return ra(M,x,y);const O=function mc(M,x,y){let O=0,N=x;const q={match:!1,pathIndex:0,commandIndex:0};for(;N<M.segments.length;){if(O>=y.length)return q;const le=M.segments[N],Ae=y[O];if(Rs(Ae))break;const Ze=`${Ae}`,Wt=O<y.length-1?y[O+1]:null;if(N>0&&void 0===Ze)break;if(Ze&&Wt&&"object"==typeof Wt&&void 0===Wt.outlets){if(!ss(Ze,Wt,le))return q;O+=2}else{if(!ss(Ze,{},le))return q;O++}N++}return{match:!0,pathIndex:N,commandIndex:O}}(M,x,y),N=y.slice(O.commandIndex);if(O.match&&O.pathIndex<M.segments.length){const q=new kt(M.segments.slice(0,O.pathIndex),{});return q.children[fn]=new kt(M.segments.slice(O.pathIndex),M.children),ra(q,0,N)}return O.match&&0===N.length?new kt(M.segments,{}):O.match&&!M.hasChildren()?ms(M,x,y):O.match?ra(M,0,N):ms(M,x,y)}function ra(M,x,y){if(0===y.length)return new kt(M.segments,{});{const O=function Co(M){return Rs(M[0])?M[0].outlets:{[fn]:M}}(y),N={};return xi(O,(q,le)=>{"string"==typeof q&&(q=[q]),null!==q&&(N[le]=Ii(M.children[le],x,q))}),xi(M.children,(q,le)=>{void 0===O[le]&&(N[le]=q)}),new kt(M.segments,N)}}function ms(M,x,y){const O=M.segments.slice(0,x);let N=0;for(;N<y.length;){const q=y[N];if(Rs(q)){const Ze=Ea(q.outlets);return new kt(O,Ze)}if(0===N&&Oo(y[0])){O.push(new Fn(M.segments[x].path,qa(y[0]))),N++;continue}const le=Rs(q)?q.outlets[fn]:`${q}`,Ae=N<y.length-1?y[N+1]:null;le&&Ae&&Oo(Ae)?(O.push(new Fn(le,qa(Ae))),N+=2):(O.push(new Fn(le,{})),N++)}return new kt(O,{})}function Ea(M){const x={};return xi(M,(y,O)=>{"string"==typeof y&&(y=[y]),null!==y&&(x[O]=ms(new kt([],{}),0,y))}),x}function qa(M){const x={};return xi(M,(y,O)=>x[O]=`${y}`),x}function ss(M,x,y){return M==y.path&&yn(x,y.parameters)}class sa{constructor(x,y,O,N){this.routeReuseStrategy=x,this.futureState=y,this.currState=O,this.forwardEvent=N}activate(x){const y=this.futureState._root,O=this.currState?this.currState._root:null;this.deactivateChildRoutes(y,O,x),mn(this.futureState.root),this.activateChildRoutes(y,O,x)}deactivateChildRoutes(x,y,O){const N=Hi(y);x.children.forEach(q=>{const le=q.value.outlet;this.deactivateRoutes(q,N[le],O),delete N[le]}),xi(N,(q,le)=>{this.deactivateRouteAndItsChildren(q,O)})}deactivateRoutes(x,y,O){const N=x.value,q=y?y.value:null;if(N===q)if(N.component){const le=O.getContext(N.outlet);le&&this.deactivateChildRoutes(x,y,le.children)}else this.deactivateChildRoutes(x,y,O);else q&&this.deactivateRouteAndItsChildren(y,O)}deactivateRouteAndItsChildren(x,y){x.value.component&&this.routeReuseStrategy.shouldDetach(x.value.snapshot)?this.detachAndStoreRouteSubtree(x,y):this.deactivateRouteAndOutlet(x,y)}detachAndStoreRouteSubtree(x,y){const O=y.getContext(x.value.outlet),N=O&&x.value.component?O.children:y,q=Hi(x);for(const le of Object.keys(q))this.deactivateRouteAndItsChildren(q[le],N);if(O&&O.outlet){const le=O.outlet.detach(),Ae=O.children.onOutletDeactivated();this.routeReuseStrategy.store(x.value.snapshot,{componentRef:le,route:x,contexts:Ae})}}deactivateRouteAndOutlet(x,y){const O=y.getContext(x.value.outlet),N=O&&x.value.component?O.children:y,q=Hi(x);for(const le of Object.keys(q))this.deactivateRouteAndItsChildren(q[le],N);O&&O.outlet&&(O.outlet.deactivate(),O.children.onOutletDeactivated(),O.attachRef=null,O.resolver=null,O.route=null)}activateChildRoutes(x,y,O){const N=Hi(y);x.children.forEach(q=>{this.activateRoutes(q,N[q.value.outlet],O),this.forwardEvent(new wt(q.value.snapshot))}),x.children.length&&this.forwardEvent(new Dt(x.value.snapshot))}activateRoutes(x,y,O){const N=x.value,q=y?y.value:null;if(mn(N),N===q)if(N.component){const le=O.getOrCreateContext(N.outlet);this.activateChildRoutes(x,y,le.children)}else this.activateChildRoutes(x,y,O);else if(N.component){const le=O.getOrCreateContext(N.outlet);if(this.routeReuseStrategy.shouldAttach(N.snapshot)){const Ae=this.routeReuseStrategy.retrieve(N.snapshot);this.routeReuseStrategy.store(N.snapshot,null),le.children.onOutletReAttached(Ae.contexts),le.attachRef=Ae.componentRef,le.route=Ae.route.value,le.outlet&&le.outlet.attach(Ae.componentRef,Ae.route.value),mn(Ae.route.value),this.activateChildRoutes(x,null,le.children)}else{const Ae=function Ya(M){for(let x=M.parent;x;x=x.parent){const y=x.routeConfig;if(y&&y._loadedConfig)return y._loadedConfig;if(y&&y.component)return null}return null}(N.snapshot),Ze=Ae?Ae.module.componentFactoryResolver:null;le.attachRef=null,le.route=N,le.resolver=Ze,le.outlet&&le.outlet.activateWith(N,Ze),this.activateChildRoutes(x,null,le.children)}}else this.activateChildRoutes(x,null,O)}}class oa{constructor(x,y){this.routes=x,this.module=y}}function io(M){return"function"==typeof M}function Io(M){return M instanceof mt}const F=Symbol("INITIAL_VALUE");function K(){return(0,Zi.w)(M=>function st(...M){const x=(0,me.yG)(M),y=(0,me.jO)(M),{args:O,keys:N}=(0,J.D)(M);if(0===O.length)return(0,ae.D)([],x);const q=new $e.y(function Ye(M,x,y=ee.y){return O=>{Tt(x,()=>{const{length:N}=M,q=new Array(N);let le=N,Ae=N;for(let Ze=0;Ze<N;Ze++)Tt(x,()=>{const Wt=(0,ae.D)(M[Ze],x);let Zn=!1;Wt.subscribe((0,de.x)(O,gn=>{q[Ze]=gn,Zn||(Zn=!0,Ae--),Ae||O.next(y(q.slice()))},()=>{--le||O.complete()}))},O)},O)}}(O,x,N?le=>(0,oe.n)(N,le):ee.y));return y?q.pipe((0,xe.Z)(y)):q}(M.map(x=>x.pipe((0,tn.q)(1),(0,Vi.O)(F)))).pipe(Je((x,y)=>{let O=!1;return y.reduce((N,q,le)=>N!==F?N:(q===F&&(O=!0),O||!1!==q&&le!==y.length-1&&!Io(q)?N:q),x)},F),(0,Ge.h)(x=>x!==F),(0,ln.U)(x=>Io(x)?x:!0===x),(0,tn.q)(1)))}class Me{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new gt,this.attachRef=null}}class gt{constructor(){this.contexts=new Map}onChildOutletCreated(x,y){const O=this.getOrCreateContext(x);O.outlet=y,this.contexts.set(x,O)}onChildOutletDestroyed(x){const y=this.getContext(x);y&&(y.outlet=null,y.attachRef=null)}onOutletDeactivated(){const x=this.contexts;return this.contexts=new Map,x}onOutletReAttached(x){this.contexts=x}getOrCreateContext(x){let y=this.getContext(x);return y||(y=new Me,this.contexts.set(x,y)),y}getContext(x){return this.contexts.get(x)||null}}let un=(()=>{class M{constructor(y,O,N,q,le){this.parentContexts=y,this.location=O,this.resolver=N,this.changeDetector=le,this.activated=null,this._activatedRoute=null,this.activateEvents=new D.vpe,this.deactivateEvents=new D.vpe,this.attachEvents=new D.vpe,this.detachEvents=new D.vpe,this.name=q||fn,y.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const y=this.parentContexts.getContext(this.name);y&&y.route&&(y.attachRef?this.attach(y.attachRef,y.route):this.activateWith(y.route,y.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const y=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(y.instance),y}attach(y,O){this.activated=y,this._activatedRoute=O,this.location.insert(y.hostView),this.attachEvents.emit(y.instance)}deactivate(){if(this.activated){const y=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(y)}}activateWith(y,O){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=y;const le=(O=O||this.resolver).resolveComponentFactory(y._futureSnapshot.routeConfig.component),Ae=this.parentContexts.getOrCreateContext(this.name).children,Ze=new wn(y,Ae,this.location.injector);this.activated=this.location.createComponent(le,this.location.length,Ze),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return M.\u0275fac=function(y){return new(y||M)(D.Y36(gt),D.Y36(D.s_b),D.Y36(D._Vd),D.$8M("name"),D.Y36(D.sBO))},M.\u0275dir=D.lG2({type:M,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),M})();class wn{constructor(x,y,O){this.route=x,this.childContexts=y,this.parent=O}get(x,y){return x===te?this.route:x===gt?this.childContexts:this.parent.get(x,y)}}let ti=(()=>{class M{}return M.\u0275fac=function(y){return new(y||M)},M.\u0275cmp=D.Xpm({type:M,selectors:[["ng-component"]],decls:1,vars:0,template:function(y,O){1&y&&D._UZ(0,"router-outlet")},directives:[un],encapsulation:2}),M})();function L(M,x=""){for(let y=0;y<M.length;y++){const O=M[y];Z(O,R(x,O))}}function Z(M,x){M.children&&L(M.children,x)}function R(M,x){return x?M||x.path?M&&!x.path?`${M}/`:!M&&x.path?x.path:`${M}/${x.path}`:"":M}function Y(M){const x=M.children&&M.children.map(Y),y=x?Object.assign(Object.assign({},M),{children:x}):Object.assign({},M);return!y.component&&(x||y.loadChildren)&&y.outlet&&y.outlet!==fn&&(y.component=ti),y}function pe(M){return M.outlet||fn}function ot(M,x){const y=M.filter(O=>pe(O)===x);return y.push(...M.filter(O=>pe(O)!==x)),y}const Nt={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Yt(M,x,y){var O;if(""===x.path)return"full"===x.pathMatch&&(M.hasChildren()||y.length>0)?Object.assign({},Nt):{matched:!0,consumedSegments:[],remainingSegments:y,parameters:{},positionalParamSegments:{}};const q=(x.matcher||vn)(y,M,x);if(!q)return Object.assign({},Nt);const le={};xi(q.posParams,(Ze,Wt)=>{le[Wt]=Ze.path});const Ae=q.consumed.length>0?Object.assign(Object.assign({},le),q.consumed[q.consumed.length-1].parameters):le;return{matched:!0,consumedSegments:q.consumed,remainingSegments:y.slice(q.consumed.length),parameters:Ae,positionalParamSegments:null!==(O=q.posParams)&&void 0!==O?O:{}}}function Ni(M,x,y,O,N="corrected"){if(y.length>0&&function kn(M,x,y){return y.some(O=>wi(M,x,O)&&pe(O)!==fn)}(M,y,O)){const le=new kt(x,function bi(M,x,y,O){const N={};N[fn]=O,O._sourceSegment=M,O._segmentIndexShift=x.length;for(const q of y)if(""===q.path&&pe(q)!==fn){const le=new kt([],{});le._sourceSegment=M,le._segmentIndexShift=x.length,N[pe(q)]=le}return N}(M,x,O,new kt(y,M.children)));return le._sourceSegment=M,le._segmentIndexShift=x.length,{segmentGroup:le,slicedSegments:[]}}if(0===y.length&&function vi(M,x,y){return y.some(O=>wi(M,x,O))}(M,y,O)){const le=new kt(M.segments,function Wi(M,x,y,O,N,q){const le={};for(const Ae of O)if(wi(M,y,Ae)&&!N[pe(Ae)]){const Ze=new kt([],{});Ze._sourceSegment=M,Ze._segmentIndexShift="legacy"===q?M.segments.length:x.length,le[pe(Ae)]=Ze}return Object.assign(Object.assign({},N),le)}(M,x,y,O,M.children,N));return le._sourceSegment=M,le._segmentIndexShift=x.length,{segmentGroup:le,slicedSegments:y}}const q=new kt(M.segments,M.children);return q._sourceSegment=M,q._segmentIndexShift=x.length,{segmentGroup:q,slicedSegments:y}}function wi(M,x,y){return(!(M.hasChildren()||x.length>0)||"full"!==y.pathMatch)&&""===y.path}function Pi(M,x,y,O){return!!(pe(M)===O||O!==fn&&wi(x,y,M))&&("**"===M.path||Yt(x,M,y).matched)}function Qi(M,x,y){return 0===x.length&&!M.children[y]}class qi{constructor(x){this.segmentGroup=x||null}}class Oi{constructor(x){this.urlTree=x}}function Cs(M){return Fe(new qi(M))}function Ws(M){return Fe(new Oi(M))}class rC{constructor(x,y,O,N,q){this.configLoader=y,this.urlSerializer=O,this.urlTree=N,this.config=q,this.allowRedirects=!0,this.ngModule=x.get(D.h0i)}apply(){const x=Ni(this.urlTree.root,[],[],this.config).segmentGroup,y=new kt(x.segments,x.children);return this.expandSegmentGroup(this.ngModule,this.config,y,fn).pipe((0,ln.U)(q=>this.createUrlTree(Nu(q),this.urlTree.queryParams,this.urlTree.fragment))).pipe(_t(q=>{if(q instanceof Oi)return this.allowRedirects=!1,this.match(q.urlTree);throw q instanceof qi?this.noMatchError(q):q}))}match(x){return this.expandSegmentGroup(this.ngModule,this.config,x.root,fn).pipe((0,ln.U)(N=>this.createUrlTree(Nu(N),x.queryParams,x.fragment))).pipe(_t(N=>{throw N instanceof qi?this.noMatchError(N):N}))}noMatchError(x){return new Error(`Cannot match any routes. URL Segment: '${x.segmentGroup}'`)}createUrlTree(x,y,O){const N=x.segments.length>0?new kt([],{[fn]:x}):x;return new mt(N,y,O)}expandSegmentGroup(x,y,O,N){return 0===O.segments.length&&O.hasChildren()?this.expandChildren(x,y,O).pipe((0,ln.U)(q=>new kt([],q))):this.expandSegment(x,O,y,O.segments,N,!0)}expandChildren(x,y,O){const N=[];for(const q of Object.keys(O.children))"primary"===q?N.unshift(q):N.push(q);return(0,ae.D)(N).pipe((0,Sr.b)(q=>{const le=O.children[q],Ae=ot(y,q);return this.expandSegmentGroup(x,Ae,le,q).pipe((0,ln.U)(Ze=>({segment:Ze,outlet:q})))}),Je((q,le)=>(q[le.outlet]=le.segment,q),{}),function Bt(M,x){const y=arguments.length>=2;return O=>O.pipe(M?(0,Ge.h)((N,q)=>M(N,q,O)):ee.y,rt(1),y?qe(x):Zt(()=>new _n))}())}expandSegment(x,y,O,N,q,le){return(0,ae.D)(O).pipe((0,Sr.b)(Ae=>this.expandSegmentAgainstRoute(x,y,O,Ae,N,q,le).pipe(_t(Wt=>{if(Wt instanceof qi)return(0,_e.of)(null);throw Wt}))),An(Ae=>!!Ae),_t((Ae,Ze)=>{if(Ae instanceof _n||"EmptyError"===Ae.name)return Qi(y,N,q)?(0,_e.of)(new kt([],{})):Cs(y);throw Ae}))}expandSegmentAgainstRoute(x,y,O,N,q,le,Ae){return Pi(N,y,q,le)?void 0===N.redirectTo?this.matchSegmentAgainstRoute(x,y,N,q,le):Ae&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(x,y,O,N,q,le):Cs(y):Cs(y)}expandSegmentAgainstRouteUsingRedirect(x,y,O,N,q,le){return"**"===N.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(x,O,N,le):this.expandRegularSegmentAgainstRouteUsingRedirect(x,y,O,N,q,le)}expandWildCardWithParamsAgainstRouteUsingRedirect(x,y,O,N){const q=this.applyRedirectCommands([],O.redirectTo,{});return O.redirectTo.startsWith("/")?Ws(q):this.lineralizeSegments(O,q).pipe((0,si.z)(le=>{const Ae=new kt(le,{});return this.expandSegment(x,Ae,y,le,N,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(x,y,O,N,q,le){const{matched:Ae,consumedSegments:Ze,remainingSegments:Wt,positionalParamSegments:Zn}=Yt(y,N,q);if(!Ae)return Cs(y);const gn=this.applyRedirectCommands(Ze,N.redirectTo,Zn);return N.redirectTo.startsWith("/")?Ws(gn):this.lineralizeSegments(N,gn).pipe((0,si.z)(Di=>this.expandSegment(x,y,O,Di.concat(Wt),le,!1)))}matchSegmentAgainstRoute(x,y,O,N,q){if("**"===O.path)return O.loadChildren?(O._loadedConfig?(0,_e.of)(O._loadedConfig):this.configLoader.load(x.injector,O)).pipe((0,ln.U)(gn=>(O._loadedConfig=gn,new kt(N,{})))):(0,_e.of)(new kt(N,{}));const{matched:le,consumedSegments:Ae,remainingSegments:Ze}=Yt(y,O,N);return le?this.getChildConfig(x,O,N).pipe((0,si.z)(Zn=>{const gn=Zn.module,Di=Zn.routes,{segmentGroup:yi,slicedSegments:Zs}=Ni(y,Ae,Ze,Di),qs=new kt(yi.segments,yi.children);if(0===Zs.length&&qs.hasChildren())return this.expandChildren(gn,Di,qs).pipe((0,ln.U)(ys=>new kt(Ae,ys)));if(0===Di.length&&0===Zs.length)return(0,_e.of)(new kt(Ae,{}));const zl=pe(O)===q;return this.expandSegment(gn,qs,Di,Zs,zl?fn:q,!0).pipe((0,ln.U)(Vr=>new kt(Ae.concat(Vr.segments),Vr.children)))})):Cs(y)}getChildConfig(x,y,O){return y.children?(0,_e.of)(new oa(y.children,x)):y.loadChildren?void 0!==y._loadedConfig?(0,_e.of)(y._loadedConfig):this.runCanLoadGuards(x.injector,y,O).pipe((0,si.z)(N=>N?this.configLoader.load(x.injector,y).pipe((0,ln.U)(q=>(y._loadedConfig=q,q))):function _o(M){return Fe(Ti(`Cannot load children because the guard of the route "path: '${M.path}'" returned false`))}(y))):(0,_e.of)(new oa([],x))}runCanLoadGuards(x,y,O){const N=y.canLoad;if(!N||0===N.length)return(0,_e.of)(!0);const q=N.map(le=>{const Ae=x.get(le);let Ze;if(function Nl(M){return M&&io(M.canLoad)}(Ae))Ze=Ae.canLoad(y,O);else{if(!io(Ae))throw new Error("Invalid CanLoad guard");Ze=Ae(y,O)}return Er(Ze)});return(0,_e.of)(q).pipe(K(),ui(le=>{if(!Io(le))return;const Ae=Ti(`Redirecting to "${this.urlSerializer.serialize(le)}"`);throw Ae.url=le,Ae}),(0,ln.U)(le=>!0===le))}lineralizeSegments(x,y){let O=[],N=y.root;for(;;){if(O=O.concat(N.segments),0===N.numberOfChildren)return(0,_e.of)(O);if(N.numberOfChildren>1||!N.children[fn])return Fe(new Error(`Only absolute redirects can have named outlets. redirectTo: '${x.redirectTo}'`));N=N.children[fn]}}applyRedirectCommands(x,y,O){return this.applyRedirectCreatreUrlTree(y,this.urlSerializer.parse(y),x,O)}applyRedirectCreatreUrlTree(x,y,O,N){const q=this.createSegmentGroup(x,y.root,O,N);return new mt(q,this.createQueryParams(y.queryParams,this.urlTree.queryParams),y.fragment)}createQueryParams(x,y){const O={};return xi(x,(N,q)=>{if("string"==typeof N&&N.startsWith(":")){const Ae=N.substring(1);O[q]=y[Ae]}else O[q]=N}),O}createSegmentGroup(x,y,O,N){const q=this.createSegments(x,y.segments,O,N);let le={};return xi(y.children,(Ae,Ze)=>{le[Ze]=this.createSegmentGroup(x,Ae,O,N)}),new kt(q,le)}createSegments(x,y,O,N){return y.map(q=>q.path.startsWith(":")?this.findPosParam(x,q,N):this.findOrReturn(q,O))}findPosParam(x,y,O){const N=O[y.path.substring(1)];if(!N)throw new Error(`Cannot redirect to '${x}'. Cannot find '${y.path}'.`);return N}findOrReturn(x,y){let O=0;for(const N of y){if(N.path===x.path)return y.splice(O),N;O++}return x}}function Nu(M){const x={};for(const O of Object.keys(M.children)){const q=Nu(M.children[O]);(q.segments.length>0||q.hasChildren())&&(x[O]=q)}return function Qf(M){if(1===M.numberOfChildren&&M.children[fn]){const x=M.children[fn];return new kt(M.segments.concat(x.segments),x.children)}return M}(new kt(M.segments,x))}class Fu{constructor(x){this.path=x,this.route=this.path[this.path.length-1]}}class Ac{constructor(x,y){this.component=x,this.route=y}}function eg(M,x,y){const O=M._root;return Xi(O,x?x._root:null,y,[O.value])}function ai(M,x,y){const O=function Ic(M){if(!M)return null;for(let x=M.parent;x;x=x.parent){const y=x.routeConfig;if(y&&y._loadedConfig)return y._loadedConfig}return null}(x);return(O?O.module.injector:y).get(M)}function Xi(M,x,y,O,N={canDeactivateChecks:[],canActivateChecks:[]}){const q=Hi(x);return M.children.forEach(le=>{(function Fl(M,x,y,O,N={canDeactivateChecks:[],canActivateChecks:[]}){const q=M.value,le=x?x.value:null,Ae=y?y.getContext(M.value.outlet):null;if(le&&q.routeConfig===le.routeConfig){const Ze=function kl(M,x,y){if("function"==typeof y)return y(M,x);switch(y){case"pathParamsChange":return!Xn(M.url,x.url);case"pathParamsOrQueryParamsChange":return!Xn(M.url,x.url)||!yn(M.queryParams,x.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Mn(M,x)||!yn(M.queryParams,x.queryParams);default:return!Mn(M,x)}}(le,q,q.routeConfig.runGuardsAndResolvers);Ze?N.canActivateChecks.push(new Fu(O)):(q.data=le.data,q._resolvedData=le._resolvedData),Xi(M,x,q.component?Ae?Ae.children:null:y,O,N),Ze&&Ae&&Ae.outlet&&Ae.outlet.isActivated&&N.canDeactivateChecks.push(new Ac(Ae.outlet.component,le))}else le&&As(x,Ae,N),N.canActivateChecks.push(new Fu(O)),Xi(M,null,q.component?Ae?Ae.children:null:y,O,N)})(le,q[le.value.outlet],y,O.concat([le.value]),N),delete q[le.value.outlet]}),xi(q,(le,Ae)=>As(le,y.getContext(Ae),N)),N}function As(M,x,y){const O=Hi(M),N=M.value;xi(O,(q,le)=>{As(q,N.component?x?x.children.getContext(le):null:x,y)}),y.canDeactivateChecks.push(new Ac(N.component&&x&&x.outlet&&x.outlet.isActivated?x.outlet.component:null,N))}class aa{}function vo(M){return new $e.y(x=>x.error(M))}class so{constructor(x,y,O,N,q,le){this.rootComponentType=x,this.config=y,this.urlTree=O,this.url=N,this.paramsInheritanceStrategy=q,this.relativeLinkResolution=le}recognize(){const x=Ni(this.urlTree.root,[],[],this.config.filter(le=>void 0===le.redirectTo),this.relativeLinkResolution).segmentGroup,y=this.processSegmentGroup(this.config,x,fn);if(null===y)return null;const O=new Xe([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},fn,this.rootComponentType,null,this.urlTree.root,-1,{}),N=new ur(O,y),q=new ht(this.url,N);return this.inheritParamsAndData(q._root),q}inheritParamsAndData(x){const y=x.value,O=W(y,this.paramsInheritanceStrategy);y.params=Object.freeze(O.params),y.data=Object.freeze(O.data),x.children.forEach(N=>this.inheritParamsAndData(N))}processSegmentGroup(x,y,O){return 0===y.segments.length&&y.hasChildren()?this.processChildren(x,y):this.processSegment(x,y,y.segments,O)}processChildren(x,y){const O=[];for(const q of Object.keys(y.children)){const le=y.children[q],Ae=ot(x,q),Ze=this.processSegmentGroup(Ae,le,q);if(null===Ze)return null;O.push(...Ze)}const N=Da(O);return function Vu(M){M.sort((x,y)=>x.value.outlet===fn?-1:y.value.outlet===fn?1:x.value.outlet.localeCompare(y.value.outlet))}(N),N}processSegment(x,y,O,N){for(const q of x){const le=this.processSegmentAgainstRoute(q,y,O,N);if(null!==le)return le}return Qi(y,O,N)?[]:null}processSegmentAgainstRoute(x,y,O,N){if(x.redirectTo||!Pi(x,y,O,N))return null;let q,le=[],Ae=[];if("**"===x.path){const yi=O.length>0?Qn(O).parameters:{};q=new Xe(O,yi,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Pa(x),pe(x),x.component,x,Ja(y),$t(y)+O.length,yc(x))}else{const yi=Yt(y,x,O);if(!yi.matched)return null;le=yi.consumedSegments,Ae=yi.remainingSegments,q=new Xe(le,yi.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Pa(x),pe(x),x.component,x,Ja(y),$t(y)+le.length,yc(x))}const Ze=function br(M){return M.children?M.children:M.loadChildren?M._loadedConfig.routes:[]}(x),{segmentGroup:Wt,slicedSegments:Zn}=Ni(y,le,Ae,Ze.filter(yi=>void 0===yi.redirectTo),this.relativeLinkResolution);if(0===Zn.length&&Wt.hasChildren()){const yi=this.processChildren(Ze,Wt);return null===yi?null:[new ur(q,yi)]}if(0===Ze.length&&0===Zn.length)return[new ur(q,[])];const gn=pe(x)===N,Di=this.processSegment(Ze,Wt,Zn,gn?fn:N);return null===Di?null:[new ur(q,Di)]}}function oo(M){const x=M.value.routeConfig;return x&&""===x.path&&void 0===x.redirectTo}function Da(M){const x=[],y=new Set;for(const O of M){if(!oo(O)){x.push(O);continue}const N=x.find(q=>O.value.routeConfig===q.value.routeConfig);void 0!==N?(N.children.push(...O.children),y.add(N)):x.push(O)}for(const O of y){const N=Da(O.children);x.push(new ur(O.value,N))}return x.filter(O=>!y.has(O))}function Ja(M){let x=M;for(;x._sourceSegment;)x=x._sourceSegment;return x}function $t(M){let x=M,y=x._segmentIndexShift?x._segmentIndexShift:0;for(;x._sourceSegment;)x=x._sourceSegment,y+=x._segmentIndexShift?x._segmentIndexShift:0;return y-1}function Pa(M){return M.data||{}}function yc(M){return M.resolve||{}}function Mi(M){return[...Object.keys(M),...Object.getOwnPropertySymbols(M)]}function Vl(M){return(0,Zi.w)(x=>{const y=M(x);return y?(0,ae.D)(y).pipe((0,ln.U)(()=>x)):(0,_e.of)(x)})}class Oa extends class Yr{shouldDetach(x){return!1}store(x,y){}shouldAttach(x){return!1}retrieve(x){return null}shouldReuseRoute(x,y){return x.routeConfig===y.routeConfig}}{}const or=new D.OlP("ROUTES");class Kr{constructor(x,y,O,N){this.injector=x,this.compiler=y,this.onLoadStartListener=O,this.onLoadEndListener=N}load(x,y){if(y._loader$)return y._loader$;this.onLoadStartListener&&this.onLoadStartListener(y);const N=this.loadModuleFactory(y.loadChildren).pipe((0,ln.U)(q=>{this.onLoadEndListener&&this.onLoadEndListener(y);const le=q.create(x);return new oa(Dn(le.injector.get(or,void 0,D.XFs.Self|D.XFs.Optional)).map(Y),le)}),_t(q=>{throw y._loader$=void 0,q}));return y._loader$=new Ct(N,()=>new X.x).pipe(he()),y._loader$}loadModuleFactory(x){return Er(x()).pipe((0,si.z)(y=>y instanceof D.YKP?(0,_e.of)(y):(0,ae.D)(this.compiler.compileModuleAsync(y))))}}class bc{shouldProcessUrl(x){return!0}extract(x){return x}merge(x,y){return x}}function rh(M){throw M}function La(M,x,y){return x.parse("/")}function yo(M,x){return(0,_e.of)(null)}const xo={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Qa={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let dr=(()=>{class M{constructor(y,O,N,q,le,Ae,Ze){this.rootComponentType=y,this.urlSerializer=O,this.rootContexts=N,this.location=q,this.config=Ze,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new X.x,this.errorHandler=rh,this.malformedUriErrorHandler=La,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:yo,afterPreactivation:yo},this.urlHandlingStrategy=new bc,this.routeReuseStrategy=new Oa,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=le.get(D.h0i),this.console=le.get(D.c2e);const gn=le.get(D.R0b);this.isNgZoneEnabled=gn instanceof D.R0b&&D.R0b.isInAngularZone(),this.resetConfig(Ze),this.currentUrlTree=function fi(){return new mt(new kt([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Kr(le,Ae,Di=>this.triggerEvent(new At(Di)),Di=>this.triggerEvent(new Ee(Di))),this.routerState=qr(this.currentUrlTree,this.rootComponentType),this.transitions=new c({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var y;return null===(y=this.location.getState())||void 0===y?void 0:y.\u0275routerPageId}setupNavigations(y){const O=this.events;return y.pipe((0,Ge.h)(N=>0!==N.id),(0,ln.U)(N=>Object.assign(Object.assign({},N),{extractedUrl:this.urlHandlingStrategy.extract(N.rawUrl)})),(0,Zi.w)(N=>{let q=!1,le=!1;return(0,_e.of)(N).pipe(ui(Ae=>{this.currentNavigation={id:Ae.id,initialUrl:Ae.currentRawUrl,extractedUrl:Ae.extractedUrl,trigger:Ae.source,extras:Ae.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),(0,Zi.w)(Ae=>{const Ze=this.browserUrlTree.toString(),Wt=!this.navigated||Ae.extractedUrl.toString()!==Ze||Ze!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||Wt)&&this.urlHandlingStrategy.shouldProcessUrl(Ae.rawUrl))return ca(Ae.source)&&(this.browserUrlTree=Ae.extractedUrl),(0,_e.of)(Ae).pipe((0,Zi.w)(gn=>{const Di=this.transitions.getValue();return O.next(new jr(gn.id,this.serializeUrl(gn.extractedUrl),gn.source,gn.restoredState)),Di!==this.transitions.getValue()?Ne.E:Promise.resolve(gn)}),function Xf(M,x,y,O){return(0,Zi.w)(N=>function Gn(M,x,y,O,N){return new rC(M,x,y,O,N).apply()}(M,x,y,N.extractedUrl,O).pipe((0,ln.U)(q=>Object.assign(Object.assign({},N),{urlAfterRedirects:q}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),ui(gn=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:gn.urlAfterRedirects})}),function Lo(M,x,y,O,N){return(0,si.z)(q=>function ro(M,x,y,O,N="emptyOnly",q="legacy"){try{const le=new so(M,x,y,O,N,q).recognize();return null===le?vo(new aa):(0,_e.of)(le)}catch(le){return vo(le)}}(M,x,q.urlAfterRedirects,y(q.urlAfterRedirects),O,N).pipe((0,ln.U)(le=>Object.assign(Object.assign({},q),{targetSnapshot:le}))))}(this.rootComponentType,this.config,gn=>this.serializeUrl(gn),this.paramsInheritanceStrategy,this.relativeLinkResolution),ui(gn=>{if("eager"===this.urlUpdateStrategy){if(!gn.extras.skipLocationChange){const yi=this.urlHandlingStrategy.merge(gn.urlAfterRedirects,gn.rawUrl);this.setBrowserUrl(yi,gn)}this.browserUrlTree=gn.urlAfterRedirects}const Di=new ns(gn.id,this.serializeUrl(gn.extractedUrl),this.serializeUrl(gn.urlAfterRedirects),gn.targetSnapshot);O.next(Di)}));if(Wt&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:Di,extractedUrl:yi,source:Zs,restoredState:qs,extras:zl}=Ae,xr=new jr(Di,this.serializeUrl(yi),Zs,qs);O.next(xr);const Vr=qr(yi,this.rootComponentType).snapshot;return(0,_e.of)(Object.assign(Object.assign({},Ae),{targetSnapshot:Vr,urlAfterRedirects:yi,extras:Object.assign(Object.assign({},zl),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=Ae.rawUrl,Ae.resolve(null),Ne.E}),Vl(Ae=>{const{targetSnapshot:Ze,id:Wt,extractedUrl:Zn,rawUrl:gn,extras:{skipLocationChange:Di,replaceUrl:yi}}=Ae;return this.hooks.beforePreactivation(Ze,{navigationId:Wt,appliedUrlTree:Zn,rawUrlTree:gn,skipLocationChange:!!Di,replaceUrl:!!yi})}),ui(Ae=>{const Ze=new ir(Ae.id,this.serializeUrl(Ae.extractedUrl),this.serializeUrl(Ae.urlAfterRedirects),Ae.targetSnapshot);this.triggerEvent(Ze)}),(0,ln.U)(Ae=>Object.assign(Object.assign({},Ae),{guards:eg(Ae.targetSnapshot,Ae.currentSnapshot,this.rootContexts)})),function ku(M,x){return(0,si.z)(y=>{const{targetSnapshot:O,currentSnapshot:N,guards:{canActivateChecks:q,canDeactivateChecks:le}}=y;return 0===le.length&&0===q.length?(0,_e.of)(Object.assign(Object.assign({},y),{guardsResult:!0})):function Bu(M,x,y,O){return(0,ae.D)(M).pipe((0,si.z)(N=>function Fs(M,x,y,O,N){const q=x&&x.routeConfig?x.routeConfig.canDeactivate:null;if(!q||0===q.length)return(0,_e.of)(!0);const le=q.map(Ae=>{const Ze=ai(Ae,x,N);let Wt;if(function _(M){return M&&io(M.canDeactivate)}(Ze))Wt=Er(Ze.canDeactivate(M,x,y,O));else{if(!io(Ze))throw new Error("Invalid CanDeactivate guard");Wt=Er(Ze(M,x,y,O))}return Wt.pipe(An())});return(0,_e.of)(le).pipe(K())}(N.component,N.route,y,x,O)),An(N=>!0!==N,!0))}(le,O,N,M).pipe((0,si.z)(Ae=>Ae&&function Cc(M){return"boolean"==typeof M}(Ae)?function vt(M,x,y,O){return(0,ae.D)(x).pipe((0,Sr.b)(N=>(0,Oe.z)(function Bl(M,x){return null!==M&&x&&x(new we(M)),(0,_e.of)(!0)}(N.route.parent,O),function Ns(M,x){return null!==M&&x&&x(new ft(M)),(0,_e.of)(!0)}(N.route,O),function yr(M,x,y){const O=x[x.length-1],q=x.slice(0,x.length-1).reverse().map(le=>function Pt(M){const x=M.routeConfig?M.routeConfig.canActivateChild:null;return x&&0!==x.length?{node:M,guards:x}:null}(le)).filter(le=>null!==le).map(le=>(0,at.P)(()=>{const Ae=le.guards.map(Ze=>{const Wt=ai(Ze,le.node,y);let Zn;if(function Pe(M){return M&&io(M.canActivateChild)}(Wt))Zn=Er(Wt.canActivateChild(O,M));else{if(!io(Wt))throw new Error("Invalid CanActivateChild guard");Zn=Er(Wt(O,M))}return Zn.pipe(An())});return(0,_e.of)(Ae).pipe(K())}));return(0,_e.of)(q).pipe(K())}(M,N.path,y),function _c(M,x,y){const O=x.routeConfig?x.routeConfig.canActivate:null;if(!O||0===O.length)return(0,_e.of)(!0);const N=O.map(q=>(0,at.P)(()=>{const le=ai(q,x,y);let Ae;if(function H(M){return M&&io(M.canActivate)}(le))Ae=Er(le.canActivate(x,M));else{if(!io(le))throw new Error("Invalid CanActivate guard");Ae=Er(le(x,M))}return Ae.pipe(An())}));return(0,_e.of)(N).pipe(K())}(M,N.route,y))),An(N=>!0!==N,!0))}(O,q,M,x):(0,_e.of)(Ae)),(0,ln.U)(Ae=>Object.assign(Object.assign({},y),{guardsResult:Ae})))})}(this.ngModule.injector,Ae=>this.triggerEvent(Ae)),ui(Ae=>{if(Io(Ae.guardsResult)){const Wt=Ti(`Redirecting to "${this.serializeUrl(Ae.guardsResult)}"`);throw Wt.url=Ae.guardsResult,Wt}const Ze=new cs(Ae.id,this.serializeUrl(Ae.extractedUrl),this.serializeUrl(Ae.urlAfterRedirects),Ae.targetSnapshot,!!Ae.guardsResult);this.triggerEvent(Ze)}),(0,Ge.h)(Ae=>!!Ae.guardsResult||(this.restoreHistory(Ae),this.cancelNavigationTransition(Ae,""),!1)),Vl(Ae=>{if(Ae.guards.canActivateChecks.length)return(0,_e.of)(Ae).pipe(ui(Ze=>{const Wt=new to(Ze.id,this.serializeUrl(Ze.extractedUrl),this.serializeUrl(Ze.urlAfterRedirects),Ze.targetSnapshot);this.triggerEvent(Wt)}),(0,Zi.w)(Ze=>{let Wt=!1;return(0,_e.of)(Ze).pipe(function xc(M,x){return(0,si.z)(y=>{const{targetSnapshot:O,guards:{canActivateChecks:N}}=y;if(!N.length)return(0,_e.of)(y);let q=0;return(0,ae.D)(N).pipe((0,Sr.b)(le=>function ih(M,x,y,O){return function js(M,x,y,O){const N=Mi(M);if(0===N.length)return(0,_e.of)({});const q={};return(0,ae.D)(N).pipe((0,si.z)(le=>function Is(M,x,y,O){const N=ai(M,x,O);return Er(N.resolve?N.resolve(x,y):N(x,y))}(M[le],x,y,O).pipe(ui(Ae=>{q[le]=Ae}))),rt(1),(0,si.z)(()=>Mi(q).length===N.length?(0,_e.of)(q):Ne.E))}(M._resolve,M,x,O).pipe((0,ln.U)(q=>(M._resolvedData=q,M.data=Object.assign(Object.assign({},M.data),W(M,y).resolve),null)))}(le.route,O,M,x)),ui(()=>q++),rt(1),(0,si.z)(le=>q===N.length?(0,_e.of)(y):Ne.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),ui({next:()=>Wt=!0,complete:()=>{Wt||(this.restoreHistory(Ze),this.cancelNavigationTransition(Ze,"At least one route resolver didn't emit any value."))}}))}),ui(Ze=>{const Wt=new En(Ze.id,this.serializeUrl(Ze.extractedUrl),this.serializeUrl(Ze.urlAfterRedirects),Ze.targetSnapshot);this.triggerEvent(Wt)}))}),Vl(Ae=>{const{targetSnapshot:Ze,id:Wt,extractedUrl:Zn,rawUrl:gn,extras:{skipLocationChange:Di,replaceUrl:yi}}=Ae;return this.hooks.afterPreactivation(Ze,{navigationId:Wt,appliedUrlTree:Zn,rawUrlTree:gn,skipLocationChange:!!Di,replaceUrl:!!yi})}),(0,ln.U)(Ae=>{const Ze=function Br(M,x,y){const O=ps(M,x._root,y?y._root:void 0);return new kr(O,x)}(this.routeReuseStrategy,Ae.targetSnapshot,Ae.currentRouterState);return Object.assign(Object.assign({},Ae),{targetRouterState:Ze})}),ui(Ae=>{this.currentUrlTree=Ae.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(Ae.urlAfterRedirects,Ae.rawUrl),this.routerState=Ae.targetRouterState,"deferred"===this.urlUpdateStrategy&&(Ae.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,Ae),this.browserUrlTree=Ae.urlAfterRedirects)}),((M,x,y)=>(0,ln.U)(O=>(new sa(x,O.targetRouterState,O.currentRouterState,y).activate(M),O)))(this.rootContexts,this.routeReuseStrategy,Ae=>this.triggerEvent(Ae)),ui({next(){q=!0},complete(){q=!0}}),function ri(M){return(0,Ft.e)((x,y)=>{try{x.subscribe(y)}finally{y.add(M)}})}(()=>{var Ae;q||le||this.cancelNavigationTransition(N,`Navigation ID ${N.id} is not equal to the current navigation id ${this.navigationId}`),(null===(Ae=this.currentNavigation)||void 0===Ae?void 0:Ae.id)===N.id&&(this.currentNavigation=null)}),_t(Ae=>{if(le=!0,function Ki(M){return M&&M[zi]}(Ae)){const Ze=Io(Ae.url);Ze||(this.navigated=!0,this.restoreHistory(N,!0));const Wt=new eo(N.id,this.serializeUrl(N.extractedUrl),Ae.message);O.next(Wt),Ze?setTimeout(()=>{const Zn=this.urlHandlingStrategy.merge(Ae.url,this.rawUrlTree),gn={skipLocationChange:N.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||ca(N.source)};this.scheduleNavigation(Zn,"imperative",null,gn,{resolve:N.resolve,reject:N.reject,promise:N.promise})},0):N.resolve(!1)}else{this.restoreHistory(N,!0);const Ze=new $r(N.id,this.serializeUrl(N.extractedUrl),Ae);O.next(Ze);try{N.resolve(this.errorHandler(Ae))}catch(Wt){N.reject(Wt)}}return Ne.E}))}))}resetRootComponentType(y){this.rootComponentType=y,this.routerState.root.component=this.rootComponentType}setTransition(y){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),y))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(y=>{const O="popstate"===y.type?"popstate":"hashchange";"popstate"===O&&setTimeout(()=>{var N;const q={replaceUrl:!0},le=(null===(N=y.state)||void 0===N?void 0:N.navigationId)?y.state:null;if(le){const Ze=Object.assign({},le);delete Ze.navigationId,delete Ze.\u0275routerPageId,0!==Object.keys(Ze).length&&(q.state=Ze)}const Ae=this.parseUrl(y.url);this.scheduleNavigation(Ae,O,le,q)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(y){this.events.next(y)}resetConfig(y){L(y),this.config=y.map(Y),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(y,O={}){const{relativeTo:N,queryParams:q,fragment:le,queryParamsHandling:Ae,preserveFragment:Ze}=O,Wt=N||this.routerState.root,Zn=Ze?this.currentUrlTree.fragment:le;let gn=null;switch(Ae){case"merge":gn=Object.assign(Object.assign({},this.currentUrlTree.queryParams),q);break;case"preserve":gn=this.currentUrlTree.queryParams;break;default:gn=q||null}return null!==gn&&(gn=this.removeEmptyProps(gn)),function ta(M,x,y,O,N){if(0===y.length)return no(x.root,x.root,x.root,O,N);const q=function Ol(M){if("string"==typeof M[0]&&1===M.length&&"/"===M[0])return new ia(!0,0,M);let x=0,y=!1;const O=M.reduce((N,q,le)=>{if("object"==typeof q&&null!=q){if(q.outlets){const Ae={};return xi(q.outlets,(Ze,Wt)=>{Ae[Wt]="string"==typeof Ze?Ze.split("/"):Ze}),[...N,{outlets:Ae}]}if(q.segmentPath)return[...N,q.segmentPath]}return"string"!=typeof q?[...N,q]:0===le?(q.split("/").forEach((Ae,Ze)=>{0==Ze&&"."===Ae||(0==Ze&&""===Ae?y=!0:".."===Ae?x++:""!=Ae&&N.push(Ae))}),N):[...N,q]},[]);return new ia(y,x,O)}(y);if(q.toRoot())return no(x.root,x.root,new kt([],{}),O,N);const le=function pc(M,x,y){if(M.isAbsolute)return new Ll(x.root,!0,0);if(-1===y.snapshot._lastPathIndex){const q=y.snapshot._urlSegment;return new Ll(q,q===x.root,0)}const O=Oo(M.commands[0])?0:1;return function Rl(M,x,y){let O=M,N=x,q=y;for(;q>N;){if(q-=N,O=O.parent,!O)throw new Error("Invalid number of '../'");N=O.segments.length}return new Ll(O,!1,N-q)}(y.snapshot._urlSegment,y.snapshot._lastPathIndex+O,M.numberOfDoubleDots)}(q,x,M),Ae=le.processChildren?ra(le.segmentGroup,le.index,q.commands):Ii(le.segmentGroup,le.index,q.commands);return no(x.root,le.segmentGroup,Ae,O,N)}(Wt,this.currentUrlTree,y,gn,null!=Zn?Zn:null)}navigateByUrl(y,O={skipLocationChange:!1}){const N=Io(y)?y:this.parseUrl(y),q=this.urlHandlingStrategy.merge(N,this.rawUrlTree);return this.scheduleNavigation(q,"imperative",null,O)}navigate(y,O={skipLocationChange:!1}){return function la(M){for(let x=0;x<M.length;x++){const y=M[x];if(null==y)throw new Error(`The requested path contains ${y} segment at index ${x}`)}}(y),this.navigateByUrl(this.createUrlTree(y,O),O)}serializeUrl(y){return this.urlSerializer.serialize(y)}parseUrl(y){let O;try{O=this.urlSerializer.parse(y)}catch(N){O=this.malformedUriErrorHandler(N,this.urlSerializer,y)}return O}isActive(y,O){let N;if(N=!0===O?Object.assign({},xo):!1===O?Object.assign({},Qa):O,Io(y))return Ji(this.currentUrlTree,y,N);const q=this.parseUrl(y);return Ji(this.currentUrlTree,q,N)}removeEmptyProps(y){return Object.keys(y).reduce((O,N)=>{const q=y[N];return null!=q&&(O[N]=q),O},{})}processNavigations(){this.navigations.subscribe(y=>{this.navigated=!0,this.lastSuccessfulId=y.id,this.currentPageId=y.targetPageId,this.events.next(new Cr(y.id,this.serializeUrl(y.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,y.resolve(!0)},y=>{this.console.warn(`Unhandled Navigation Error: ${y}`)})}scheduleNavigation(y,O,N,q,le){var Ae,Ze;if(this.disposed)return Promise.resolve(!1);let Wt,Zn,gn;le?(Wt=le.resolve,Zn=le.reject,gn=le.promise):gn=new Promise((Zs,qs)=>{Wt=Zs,Zn=qs});const Di=++this.navigationId;let yi;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(N=this.location.getState()),yi=N&&N.\u0275routerPageId?N.\u0275routerPageId:q.replaceUrl||q.skipLocationChange?null!==(Ae=this.browserPageId)&&void 0!==Ae?Ae:0:(null!==(Ze=this.browserPageId)&&void 0!==Ze?Ze:0)+1):yi=0,this.setTransition({id:Di,targetPageId:yi,source:O,restoredState:N,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:y,extras:q,resolve:Wt,reject:Zn,promise:gn,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),gn.catch(Zs=>Promise.reject(Zs))}setBrowserUrl(y,O){const N=this.urlSerializer.serialize(y),q=Object.assign(Object.assign({},O.extras.state),this.generateNgRouterState(O.id,O.targetPageId));this.location.isCurrentPathEqualTo(N)||O.extras.replaceUrl?this.location.replaceState(N,"",q):this.location.go(N,"",q)}restoreHistory(y,O=!1){var N,q;if("computed"===this.canceledNavigationResolution){const le=this.currentPageId-y.targetPageId;"popstate"!==y.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(N=this.currentNavigation)||void 0===N?void 0:N.finalUrl)||0===le?this.currentUrlTree===(null===(q=this.currentNavigation)||void 0===q?void 0:q.finalUrl)&&0===le&&(this.resetState(y),this.browserUrlTree=y.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(le)}else"replace"===this.canceledNavigationResolution&&(O&&this.resetState(y),this.resetUrlToCurrentUrlTree())}resetState(y){this.routerState=y.currentRouterState,this.currentUrlTree=y.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,y.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(y,O){const N=new eo(y.id,this.serializeUrl(y.extractedUrl),O);this.triggerEvent(N),y.resolve(!1)}generateNgRouterState(y,O){return"computed"===this.canceledNavigationResolution?{navigationId:y,\u0275routerPageId:O}:{navigationId:y}}}return M.\u0275fac=function(y){D.$Z()},M.\u0275prov=D.Yz7({token:M,factory:M.\u0275fac}),M})();function ca(M){return"imperative"!==M}let bo=(()=>{class M{constructor(y,O,N,q,le){this.router=y,this.route=O,this.tabIndexAttribute=N,this.renderer=q,this.el=le,this.commands=null,this.onChanges=new X.x,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(y){if(null!=this.tabIndexAttribute)return;const O=this.renderer,N=this.el.nativeElement;null!==y?O.setAttribute(N,"tabindex",y):O.removeAttribute(N,"tabindex")}ngOnChanges(y){this.onChanges.next(this)}set routerLink(y){null!=y?(this.commands=Array.isArray(y)?y:[y],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const y={skipLocationChange:Jr(this.skipLocationChange),replaceUrl:Jr(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,y),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Jr(this.preserveFragment)})}}return M.\u0275fac=function(y){return new(y||M)(D.Y36(dr),D.Y36(te),D.$8M("tabindex"),D.Y36(D.Qsj),D.Y36(D.SBq))},M.\u0275dir=D.lG2({type:M,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(y,O){1&y&&D.NdJ("click",function(){return O.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[D.TTD]}),M})(),Dr=(()=>{class M{constructor(y,O,N){this.router=y,this.route=O,this.locationStrategy=N,this.commands=null,this.href=null,this.onChanges=new X.x,this.subscription=y.events.subscribe(q=>{q instanceof Cr&&this.updateTargetUrlAndHref()})}set routerLink(y){this.commands=null!=y?Array.isArray(y)?y:[y]:null}ngOnChanges(y){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(y,O,N,q,le){if(0!==y||O||N||q||le||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const Ae={skipLocationChange:Jr(this.skipLocationChange),replaceUrl:Jr(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,Ae),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Jr(this.preserveFragment)})}}return M.\u0275fac=function(y){return new(y||M)(D.Y36(dr),D.Y36(te),D.Y36(nr.S$))},M.\u0275dir=D.lG2({type:M,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(y,O){1&y&&D.NdJ("click",function(q){return O.onClick(q.button,q.ctrlKey,q.shiftKey,q.altKey,q.metaKey)}),2&y&&D.uIk("target",O.target)("href",O.href,D.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[D.TTD]}),M})();function Jr(M){return""===M||!!M}let Xa=(()=>{class M{constructor(y,O,N,q,le,Ae){this.router=y,this.element=O,this.renderer=N,this.cdr=q,this.link=le,this.linkWithHref=Ae,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new D.vpe,this.routerEventsSubscription=y.events.subscribe(Ze=>{Ze instanceof Cr&&this.update()})}ngAfterContentInit(){(0,_e.of)(this.links.changes,this.linksWithHrefs.changes,(0,_e.of)(null)).pipe((0,Es.J)()).subscribe(y=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var y;null===(y=this.linkInputChangesSubscription)||void 0===y||y.unsubscribe();const O=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(N=>!!N).map(N=>N.onChanges);this.linkInputChangesSubscription=(0,ae.D)(O).pipe((0,Es.J)()).subscribe(N=>{this.isActive!==this.isLinkActive(this.router)(N)&&this.update()})}set routerLinkActive(y){const O=Array.isArray(y)?y:y.split(" ");this.classes=O.filter(N=>!!N)}ngOnChanges(y){this.update()}ngOnDestroy(){var y;this.routerEventsSubscription.unsubscribe(),null===(y=this.linkInputChangesSubscription)||void 0===y||y.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const y=this.hasActiveLinks();this.isActive!==y&&(this.isActive=y,this.cdr.markForCheck(),this.classes.forEach(O=>{y?this.renderer.addClass(this.element.nativeElement,O):this.renderer.removeClass(this.element.nativeElement,O)}),this.isActiveChange.emit(y))})}isLinkActive(y){const O=function wc(M){return!!M.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return N=>!!N.urlTree&&y.isActive(N.urlTree,O)}hasActiveLinks(){const y=this.isLinkActive(this.router);return this.link&&y(this.link)||this.linkWithHref&&y(this.linkWithHref)||this.links.some(y)||this.linksWithHrefs.some(y)}}return M.\u0275fac=function(y){return new(y||M)(D.Y36(dr),D.Y36(D.SBq),D.Y36(D.Qsj),D.Y36(D.sBO),D.Y36(bo,8),D.Y36(Dr,8))},M.\u0275dir=D.lG2({type:M,selectors:[["","routerLinkActive",""]],contentQueries:function(y,O,N){if(1&y&&(D.Suo(N,bo,5),D.Suo(N,Dr,5)),2&y){let q;D.iGM(q=D.CRH())&&(O.links=q),D.iGM(q=D.CRH())&&(O.linksWithHrefs=q)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[D.TTD]}),M})();class Ro{}class Mc{preload(x,y){return(0,_e.of)(null)}}let sh=(()=>{class M{constructor(y,O,N,q){this.router=y,this.injector=N,this.preloadingStrategy=q,this.loader=new Kr(N,O,Ze=>y.triggerEvent(new At(Ze)),Ze=>y.triggerEvent(new Ee(Ze)))}setUpPreloading(){this.subscription=this.router.events.pipe((0,Ge.h)(y=>y instanceof Cr),(0,Sr.b)(()=>this.preload())).subscribe(()=>{})}preload(){const y=this.injector.get(D.h0i);return this.processRoutes(y,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(y,O){const N=[];for(const q of O)if(q.loadChildren&&!q.canLoad&&q._loadedConfig){const le=q._loadedConfig;N.push(this.processRoutes(le.module,le.routes))}else q.loadChildren&&!q.canLoad?N.push(this.preloadConfig(y,q)):q.children&&N.push(this.processRoutes(y,q.children));return(0,ae.D)(N).pipe((0,Es.J)(),(0,ln.U)(q=>{}))}preloadConfig(y,O){return this.preloadingStrategy.preload(O,()=>(O._loadedConfig?(0,_e.of)(O._loadedConfig):this.loader.load(y.injector,O)).pipe((0,si.z)(q=>(O._loadedConfig=q,this.processRoutes(q.module,q.routes)))))}}return M.\u0275fac=function(y){return new(y||M)(D.LFG(dr),D.LFG(D.Sil),D.LFG(D.zs3),D.LFG(Ro))},M.\u0275prov=D.Yz7({token:M,factory:M.\u0275fac}),M})(),Uu=(()=>{class M{constructor(y,O,N={}){this.router=y,this.viewportScroller=O,this.options=N,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},N.scrollPositionRestoration=N.scrollPositionRestoration||"disabled",N.anchorScrolling=N.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(y=>{y instanceof jr?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=y.navigationTrigger,this.restoredId=y.restoredState?y.restoredState.navigationId:0):y instanceof Cr&&(this.lastId=y.id,this.scheduleScrollEvent(y,this.router.parseUrl(y.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(y=>{y instanceof zt&&(y.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(y.position):y.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(y.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(y,O){this.router.triggerEvent(new zt(y,"popstate"===this.lastSource?this.store[this.restoredId]:null,O))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return M.\u0275fac=function(y){D.$Z()},M.\u0275prov=D.Yz7({token:M,factory:M.\u0275fac}),M})();const $s=new D.OlP("ROUTER_CONFIGURATION"),Fo=new D.OlP("ROUTER_FORROOT_GUARD"),ao=[nr.Ye,{provide:Nr,useClass:Ir},{provide:dr,useFactory:function tl(M,x,y,O,N,q,le={},Ae,Ze){const Wt=new dr(null,M,x,y,O,N,Dn(q));return Ae&&(Wt.urlHandlingStrategy=Ae),Ze&&(Wt.routeReuseStrategy=Ze),function $n(M,x){M.errorHandler&&(x.errorHandler=M.errorHandler),M.malformedUriErrorHandler&&(x.malformedUriErrorHandler=M.malformedUriErrorHandler),M.onSameUrlNavigation&&(x.onSameUrlNavigation=M.onSameUrlNavigation),M.paramsInheritanceStrategy&&(x.paramsInheritanceStrategy=M.paramsInheritanceStrategy),M.relativeLinkResolution&&(x.relativeLinkResolution=M.relativeLinkResolution),M.urlUpdateStrategy&&(x.urlUpdateStrategy=M.urlUpdateStrategy),M.canceledNavigationResolution&&(x.canceledNavigationResolution=M.canceledNavigationResolution)}(le,Wt),le.enableTracing&&Wt.events.subscribe(Zn=>{var gn,Di;null===(gn=console.group)||void 0===gn||gn.call(console,`Router Event: ${Zn.constructor.name}`),console.log(Zn.toString()),console.log(Zn),null===(Di=console.groupEnd)||void 0===Di||Di.call(console)}),Wt},deps:[Nr,gt,nr.Ye,D.zs3,D.Sil,or,$s,[class se{},new D.FiY],[class sC{},new D.FiY]]},gt,{provide:te,useFactory:function Hl(M){return M.routerState.root},deps:[dr]},sh,Mc,class No{preload(x,y){return y().pipe(_t(()=>(0,_e.of)(null)))}},{provide:$s,useValue:{enableTracing:!1}}];function el(){return new D.PXZ("Router",dr)}let Ul=(()=>{class M{constructor(y,O){}static forRoot(y,O){return{ngModule:M,providers:[ao,Bo(y),{provide:Fo,useFactory:Sc,deps:[[dr,new D.FiY,new D.tp0]]},{provide:$s,useValue:O||{}},{provide:nr.S$,useFactory:ua,deps:[nr.lw,[new D.tBr(nr.mr),new D.FiY],$s]},{provide:Uu,useFactory:ko,deps:[dr,nr.EM,$s]},{provide:Ro,useExisting:O&&O.preloadingStrategy?O.preloadingStrategy:Mc},{provide:D.PXZ,multi:!0,useFactory:el},[_s,{provide:D.ip1,multi:!0,useFactory:ah,deps:[_s]},{provide:Vo,useFactory:tg,deps:[_s]},{provide:D.tb,multi:!0,useExisting:Vo}]]}}static forChild(y){return{ngModule:M,providers:[Bo(y)]}}}return M.\u0275fac=function(y){return new(y||M)(D.LFG(Fo,8),D.LFG(dr,8))},M.\u0275mod=D.oAB({type:M}),M.\u0275inj=D.cJS({}),M})();function ko(M,x,y){return y.scrollOffset&&x.setOffset(y.scrollOffset),new Uu(M,x,y)}function ua(M,x,y={}){return y.useHash?new nr.Do(M,x):new nr.b0(M,x)}function Sc(M){return"guarded"}function Bo(M){return[{provide:D.deG,multi:!0,useValue:M},{provide:or,multi:!0,useValue:M}]}let _s=(()=>{class M{constructor(y){this.injector=y,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new X.x}appInitializer(){return this.injector.get(nr.V_,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let O=null;const N=new Promise(Ae=>O=Ae),q=this.injector.get(dr),le=this.injector.get($s);return"disabled"===le.initialNavigation?(q.setUpLocationChangeListener(),O(!0)):"enabled"===le.initialNavigation||"enabledBlocking"===le.initialNavigation?(q.hooks.afterPreactivation=()=>this.initNavigation?(0,_e.of)(null):(this.initNavigation=!0,O(!0),this.resultOfPreactivationDone),q.initialNavigation()):O(!0),N})}bootstrapListener(y){const O=this.injector.get($s),N=this.injector.get(sh),q=this.injector.get(Uu),le=this.injector.get(dr),Ae=this.injector.get(D.z2F);y===Ae.components[0]&&(("enabledNonBlocking"===O.initialNavigation||void 0===O.initialNavigation)&&le.initialNavigation(),N.setUpPreloading(),q.init(),le.resetRootComponentType(Ae.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return M.\u0275fac=function(y){return new(y||M)(D.LFG(D.zs3))},M.\u0275prov=D.Yz7({token:M,factory:M.\u0275fac}),M})();function ah(M){return M.appInitializer.bind(M)}function tg(M){return M.bootstrapListener.bind(M)}const Vo=new D.OlP("Router Initializer")},1062:(dn,tt,z)=>{z.d(tt,{X$:()=>_t,Zw:()=>Se,aw:()=>Ge,sK:()=>Je});var D=z(7587),X=z(9646),c=z(5191),$e=z(4128),J=z(7272),ae=z(9770),ee=z(5698),xe=z(3151),me=z(4004),oe=z(4351),de=z(3900);class Se{}let st=(()=>{class rt extends Se{getTranslation(be){return(0,X.of)({})}}return rt.\u0275fac=function(){let Zt;return function(qe){return(Zt||(Zt=D.n5z(rt)))(qe||rt)}}(),rt.\u0275prov=D.Yz7({token:rt,factory:rt.\u0275fac}),rt})();class Ye{}let Tt=(()=>{class rt{handle(be){return be.key}}return rt.\u0275fac=function(be){return new(be||rt)},rt.\u0275prov=D.Yz7({token:rt,factory:rt.\u0275fac}),rt})();function xt(rt,Zt){if(rt===Zt)return!0;if(null===rt||null===Zt)return!1;if(rt!=rt&&Zt!=Zt)return!0;let Bt,tn,An,be=typeof rt;if(be==typeof Zt&&"object"==be){if(!Array.isArray(rt)){if(Array.isArray(Zt))return!1;for(tn in An=Object.create(null),rt){if(!xt(rt[tn],Zt[tn]))return!1;An[tn]=!0}for(tn in Zt)if(!(tn in An)&&void 0!==Zt[tn])return!1;return!0}if(!Array.isArray(Zt))return!1;if((Bt=rt.length)==Zt.length){for(tn=0;tn<Bt;tn++)if(!xt(rt[tn],Zt[tn]))return!1;return!0}}return!1}function Fe(rt){return null!=rt}function Ut(rt){return rt&&"object"==typeof rt&&!Array.isArray(rt)}function _n(rt,Zt){let be=Object.assign({},rt);return Ut(rt)&&Ut(Zt)&&Object.keys(Zt).forEach(qe=>{Ut(Zt[qe])?qe in rt?be[qe]=_n(rt[qe],Zt[qe]):Object.assign(be,{[qe]:Zt[qe]}):Object.assign(be,{[qe]:Zt[qe]})}),be}class Ht{}let Ft=(()=>{class rt extends Ht{constructor(){super(...arguments),this.templateMatcher=/{{\s?([^{}\s]*)\s?}}/g}interpolate(be,qe){let Bt;return Bt="string"==typeof be?this.interpolateString(be,qe):"function"==typeof be?this.interpolateFunction(be,qe):be,Bt}getValue(be,qe){let Bt="string"==typeof qe?qe.split("."):[qe];qe="";do{qe+=Bt.shift(),!Fe(be)||!Fe(be[qe])||"object"!=typeof be[qe]&&Bt.length?Bt.length?qe+=".":be=void 0:(be=be[qe],qe="")}while(Bt.length);return be}interpolateFunction(be,qe){return be(qe)}interpolateString(be,qe){return qe?be.replace(this.templateMatcher,(Bt,tn)=>{let An=this.getValue(qe,tn);return Fe(An)?An:Bt}):be}}return rt.\u0275fac=function(){let Zt;return function(qe){return(Zt||(Zt=D.n5z(rt)))(qe||rt)}}(),rt.\u0275prov=D.Yz7({token:rt,factory:rt.\u0275fac}),rt})();class he{}let Ct=(()=>{class rt extends he{compile(be,qe){return be}compileTranslations(be,qe){return be}}return rt.\u0275fac=function(){let Zt;return function(qe){return(Zt||(Zt=D.n5z(rt)))(qe||rt)}}(),rt.\u0275prov=D.Yz7({token:rt,factory:rt.\u0275fac}),rt})();class _e{constructor(){this.currentLang=this.defaultLang,this.translations={},this.langs=[],this.onTranslationChange=new D.vpe,this.onLangChange=new D.vpe,this.onDefaultLangChange=new D.vpe}}const Oe=new D.OlP("USE_STORE"),at=new D.OlP("USE_DEFAULT_LANG"),Ne=new D.OlP("DEFAULT_LANGUAGE"),Re=new D.OlP("USE_EXTEND");let Je=(()=>{class rt{constructor(be,qe,Bt,tn,An,ui=!0,ri=!1,ln=!1,Zi){this.store=be,this.currentLoader=qe,this.compiler=Bt,this.parser=tn,this.missingTranslationHandler=An,this.useDefaultLang=ui,this.isolate=ri,this.extend=ln,this.pending=!1,this._onTranslationChange=new D.vpe,this._onLangChange=new D.vpe,this._onDefaultLangChange=new D.vpe,this._langs=[],this._translations={},this._translationRequests={},Zi&&this.setDefaultLang(Zi)}get onTranslationChange(){return this.isolate?this._onTranslationChange:this.store.onTranslationChange}get onLangChange(){return this.isolate?this._onLangChange:this.store.onLangChange}get onDefaultLangChange(){return this.isolate?this._onDefaultLangChange:this.store.onDefaultLangChange}get defaultLang(){return this.isolate?this._defaultLang:this.store.defaultLang}set defaultLang(be){this.isolate?this._defaultLang=be:this.store.defaultLang=be}get currentLang(){return this.isolate?this._currentLang:this.store.currentLang}set currentLang(be){this.isolate?this._currentLang=be:this.store.currentLang=be}get langs(){return this.isolate?this._langs:this.store.langs}set langs(be){this.isolate?this._langs=be:this.store.langs=be}get translations(){return this.isolate?this._translations:this.store.translations}set translations(be){this.isolate?this._translations=be:this.store.translations=be}setDefaultLang(be){if(be===this.defaultLang)return;let qe=this.retrieveTranslations(be);void 0!==qe?(null==this.defaultLang&&(this.defaultLang=be),qe.pipe((0,ee.q)(1)).subscribe(Bt=>{this.changeDefaultLang(be)})):this.changeDefaultLang(be)}getDefaultLang(){return this.defaultLang}use(be){if(be===this.currentLang)return(0,X.of)(this.translations[be]);let qe=this.retrieveTranslations(be);return void 0!==qe?(this.currentLang||(this.currentLang=be),qe.pipe((0,ee.q)(1)).subscribe(Bt=>{this.changeLang(be)}),qe):(this.changeLang(be),(0,X.of)(this.translations[be]))}retrieveTranslations(be){let qe;return(void 0===this.translations[be]||this.extend)&&(this._translationRequests[be]=this._translationRequests[be]||this.getTranslation(be),qe=this._translationRequests[be]),qe}getTranslation(be){this.pending=!0;const qe=this.currentLoader.getTranslation(be).pipe((0,xe.d)(1),(0,ee.q)(1));return this.loadingTranslations=qe.pipe((0,me.U)(Bt=>this.compiler.compileTranslations(Bt,be)),(0,xe.d)(1),(0,ee.q)(1)),this.loadingTranslations.subscribe({next:Bt=>{this.translations[be]=this.extend&&this.translations[be]?Object.assign(Object.assign({},Bt),this.translations[be]):Bt,this.updateLangs(),this.pending=!1},error:Bt=>{this.pending=!1}}),qe}setTranslation(be,qe,Bt=!1){qe=this.compiler.compileTranslations(qe,be),this.translations[be]=(Bt||this.extend)&&this.translations[be]?_n(this.translations[be],qe):qe,this.updateLangs(),this.onTranslationChange.emit({lang:be,translations:this.translations[be]})}getLangs(){return this.langs}addLangs(be){be.forEach(qe=>{-1===this.langs.indexOf(qe)&&this.langs.push(qe)})}updateLangs(){this.addLangs(Object.keys(this.translations))}getParsedResult(be,qe,Bt){let tn;if(qe instanceof Array){let An={},ui=!1;for(let ri of qe)An[ri]=this.getParsedResult(be,ri,Bt),(0,c.b)(An[ri])&&(ui=!0);if(ui){const ri=qe.map(ln=>(0,c.b)(An[ln])?An[ln]:(0,X.of)(An[ln]));return(0,$e.D)(ri).pipe((0,me.U)(ln=>{let Zi={};return ln.forEach((Vi,Sr)=>{Zi[qe[Sr]]=Vi}),Zi}))}return An}if(be&&(tn=this.parser.interpolate(this.parser.getValue(be,qe),Bt)),void 0===tn&&null!=this.defaultLang&&this.defaultLang!==this.currentLang&&this.useDefaultLang&&(tn=this.parser.interpolate(this.parser.getValue(this.translations[this.defaultLang],qe),Bt)),void 0===tn){let An={key:qe,translateService:this};void 0!==Bt&&(An.interpolateParams=Bt),tn=this.missingTranslationHandler.handle(An)}return void 0!==tn?tn:qe}get(be,qe){if(!Fe(be)||!be.length)throw new Error('Parameter "key" required');if(this.pending)return this.loadingTranslations.pipe((0,oe.b)(Bt=>(Bt=this.getParsedResult(Bt,be,qe),(0,c.b)(Bt)?Bt:(0,X.of)(Bt))));{let Bt=this.getParsedResult(this.translations[this.currentLang],be,qe);return(0,c.b)(Bt)?Bt:(0,X.of)(Bt)}}getStreamOnTranslationChange(be,qe){if(!Fe(be)||!be.length)throw new Error('Parameter "key" required');return(0,J.z)((0,ae.P)(()=>this.get(be,qe)),this.onTranslationChange.pipe((0,de.w)(Bt=>{const tn=this.getParsedResult(Bt.translations,be,qe);return"function"==typeof tn.subscribe?tn:(0,X.of)(tn)})))}stream(be,qe){if(!Fe(be)||!be.length)throw new Error('Parameter "key" required');return(0,J.z)((0,ae.P)(()=>this.get(be,qe)),this.onLangChange.pipe((0,de.w)(Bt=>{const tn=this.getParsedResult(Bt.translations,be,qe);return(0,c.b)(tn)?tn:(0,X.of)(tn)})))}instant(be,qe){if(!Fe(be)||!be.length)throw new Error('Parameter "key" required');let Bt=this.getParsedResult(this.translations[this.currentLang],be,qe);if((0,c.b)(Bt)){if(be instanceof Array){let tn={};return be.forEach((An,ui)=>{tn[be[ui]]=be[ui]}),tn}return be}return Bt}set(be,qe,Bt=this.currentLang){this.translations[Bt][be]=this.compiler.compile(qe,Bt),this.updateLangs(),this.onTranslationChange.emit({lang:Bt,translations:this.translations[Bt]})}changeLang(be){this.currentLang=be,this.onLangChange.emit({lang:be,translations:this.translations[be]}),null==this.defaultLang&&this.changeDefaultLang(be)}changeDefaultLang(be){this.defaultLang=be,this.onDefaultLangChange.emit({lang:be,translations:this.translations[be]})}reloadLang(be){return this.resetLang(be),this.getTranslation(be)}resetLang(be){this._translationRequests[be]=void 0,this.translations[be]=void 0}getBrowserLang(){if("undefined"==typeof window||void 0===window.navigator)return;let be=window.navigator.languages?window.navigator.languages[0]:null;return be=be||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,void 0!==be?(-1!==be.indexOf("-")&&(be=be.split("-")[0]),-1!==be.indexOf("_")&&(be=be.split("_")[0]),be):void 0}getBrowserCultureLang(){if("undefined"==typeof window||void 0===window.navigator)return;let be=window.navigator.languages?window.navigator.languages[0]:null;return be=be||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,be}}return rt.\u0275fac=function(be){return new(be||rt)(D.LFG(_e),D.LFG(Se),D.LFG(he),D.LFG(Ht),D.LFG(Ye),D.LFG(at),D.LFG(Oe),D.LFG(Re),D.LFG(Ne))},rt.\u0275prov=D.Yz7({token:rt,factory:rt.\u0275fac}),rt})(),_t=(()=>{class rt{constructor(be,qe){this.translate=be,this._ref=qe,this.value="",this.lastKey=null,this.lastParams=[]}updateValue(be,qe,Bt){let tn=An=>{this.value=void 0!==An?An:be,this.lastKey=be,this._ref.markForCheck()};if(Bt){let An=this.translate.getParsedResult(Bt,be,qe);(0,c.b)(An.subscribe)?An.subscribe(tn):tn(An)}this.translate.get(be,qe).subscribe(tn)}transform(be,...qe){if(!be||!be.length)return be;if(xt(be,this.lastKey)&&xt(qe,this.lastParams))return this.value;let Bt;if(Fe(qe[0])&&qe.length)if("string"==typeof qe[0]&&qe[0].length){let tn=qe[0].replace(/(\')?([a-zA-Z0-9_]+)(\')?(\s)?:/g,'"$2":').replace(/:(\s)?(\')(.*?)(\')/g,':"$3"');try{Bt=JSON.parse(tn)}catch(An){throw new SyntaxError(`Wrong parameter in TranslatePipe. Expected a valid Object, received: ${qe[0]}`)}}else"object"==typeof qe[0]&&!Array.isArray(qe[0])&&(Bt=qe[0]);return this.lastKey=be,this.lastParams=qe,this.updateValue(be,Bt),this._dispose(),this.onTranslationChange||(this.onTranslationChange=this.translate.onTranslationChange.subscribe(tn=>{this.lastKey&&tn.lang===this.translate.currentLang&&(this.lastKey=null,this.updateValue(be,Bt,tn.translations))})),this.onLangChange||(this.onLangChange=this.translate.onLangChange.subscribe(tn=>{this.lastKey&&(this.lastKey=null,this.updateValue(be,Bt,tn.translations))})),this.onDefaultLangChange||(this.onDefaultLangChange=this.translate.onDefaultLangChange.subscribe(()=>{this.lastKey&&(this.lastKey=null,this.updateValue(be,Bt))})),this.value}_dispose(){void 0!==this.onTranslationChange&&(this.onTranslationChange.unsubscribe(),this.onTranslationChange=void 0),void 0!==this.onLangChange&&(this.onLangChange.unsubscribe(),this.onLangChange=void 0),void 0!==this.onDefaultLangChange&&(this.onDefaultLangChange.unsubscribe(),this.onDefaultLangChange=void 0)}ngOnDestroy(){this._dispose()}}return rt.\u0275fac=function(be){return new(be||rt)(D.Y36(Je,16),D.Y36(D.sBO,16))},rt.\u0275pipe=D.Yjl({name:"translate",type:rt,pure:!1}),rt.\u0275prov=D.Yz7({token:rt,factory:rt.\u0275fac}),rt})(),Ge=(()=>{class rt{static forRoot(be={}){return{ngModule:rt,providers:[be.loader||{provide:Se,useClass:st},be.compiler||{provide:he,useClass:Ct},be.parser||{provide:Ht,useClass:Ft},be.missingTranslationHandler||{provide:Ye,useClass:Tt},_e,{provide:Oe,useValue:be.isolate},{provide:at,useValue:be.useDefaultLang},{provide:Re,useValue:be.extend},{provide:Ne,useValue:be.defaultLanguage},Je]}}static forChild(be={}){return{ngModule:rt,providers:[be.loader||{provide:Se,useClass:st},be.compiler||{provide:he,useClass:Ct},be.parser||{provide:Ht,useClass:Ft},be.missingTranslationHandler||{provide:Ye,useClass:Tt},{provide:Oe,useValue:be.isolate},{provide:at,useValue:be.useDefaultLang},{provide:Re,useValue:be.extend},{provide:Ne,useValue:be.defaultLanguage},Je]}}}return rt.\u0275fac=function(be){return new(be||rt)},rt.\u0275mod=D.oAB({type:rt}),rt.\u0275inj=D.cJS({}),rt})()},9783:(dn,tt,z)=>{z.d(tt,{F0:()=>Ye,Y:()=>Ft,b4:()=>ee,iZ:()=>de,jx:()=>_n,m8:()=>Ht,ws:()=>xe});var D=z(7587),X=z(7579),c=z(5921),$e=z(9808);let ae=(()=>{class he{}return he.STARTS_WITH="startsWith",he.CONTAINS="contains",he.NOT_CONTAINS="notContains",he.ENDS_WITH="endsWith",he.EQUALS="equals",he.NOT_EQUALS="notEquals",he.IN="in",he.LESS_THAN="lt",he.LESS_THAN_OR_EQUAL_TO="lte",he.GREATER_THAN="gt",he.GREATER_THAN_OR_EQUAL_TO="gte",he.BETWEEN="between",he.IS="is",he.IS_NOT="isNot",he.BEFORE="before",he.AFTER="after",he.DATE_IS="dateIs",he.DATE_IS_NOT="dateIsNot",he.DATE_BEFORE="dateBefore",he.DATE_AFTER="dateAfter",he})(),ee=(()=>{class he{constructor(){this.ripple=!1,this.filterMatchModeOptions={text:[ae.STARTS_WITH,ae.CONTAINS,ae.NOT_CONTAINS,ae.ENDS_WITH,ae.EQUALS,ae.NOT_EQUALS],numeric:[ae.EQUALS,ae.NOT_EQUALS,ae.LESS_THAN,ae.LESS_THAN_OR_EQUAL_TO,ae.GREATER_THAN,ae.GREATER_THAN_OR_EQUAL_TO],date:[ae.DATE_IS,ae.DATE_IS_NOT,ae.DATE_BEFORE,ae.DATE_AFTER]},this.translation={startsWith:"Starts with",contains:"Contains",notContains:"Not contains",endsWith:"Ends with",equals:"Equals",notEquals:"Not equals",noFilter:"No Filter",lt:"Less than",lte:"Less than or equal to",gt:"Greater than",gte:"Greater than or equal to",is:"Is",isNot:"Is not",before:"Before",after:"After",dateIs:"Date is",dateIsNot:"Date is not",dateBefore:"Date is before",dateAfter:"Date is after",clear:"Clear",apply:"Apply",matchAll:"Match All",matchAny:"Match Any",addRule:"Add Rule",removeRule:"Remove Rule",accept:"Yes",reject:"No",choose:"Choose",upload:"Upload",cancel:"Cancel",dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dateFormat:"mm/dd/yy",firstDayOfWeek:0,today:"Today",weekHeader:"Wk",weak:"Weak",medium:"Medium",strong:"Strong",passwordPrompt:"Enter a password",emptyMessage:"No results found",emptyFilterMessage:"No results found"},this.zIndex={modal:1100,overlay:1e3,menu:1e3,tooltip:1100},this.translationSource=new X.x,this.translationObserver=this.translationSource.asObservable()}getTranslation(_e){return this.translation[_e]}setTranslation(_e){this.translation=Object.assign(Object.assign({},this.translation),_e),this.translationSource.next(this.translation)}}return he.\u0275fac=function(_e){return new(_e||he)},he.\u0275prov=D.Yz7({token:he,factory:he.\u0275fac,providedIn:"root"}),he})(),xe=(()=>{class he{}return he.STARTS_WITH="startsWith",he.CONTAINS="contains",he.NOT_CONTAINS="notContains",he.ENDS_WITH="endsWith",he.EQUALS="equals",he.NOT_EQUALS="notEquals",he.NO_FILTER="noFilter",he.LT="lt",he.LTE="lte",he.GT="gt",he.GTE="gte",he.IS="is",he.IS_NOT="isNot",he.BEFORE="before",he.AFTER="after",he.CLEAR="clear",he.APPLY="apply",he.MATCH_ALL="matchAll",he.MATCH_ANY="matchAny",he.ADD_RULE="addRule",he.REMOVE_RULE="removeRule",he.ACCEPT="accept",he.REJECT="reject",he.CHOOSE="choose",he.UPLOAD="upload",he.CANCEL="cancel",he.DAY_NAMES="dayNames",he.DAY_NAMES_SHORT="dayNamesShort",he.DAY_NAMES_MIN="dayNamesMin",he.MONTH_NAMES="monthNames",he.MONTH_NAMES_SHORT="monthNamesShort",he.FIRST_DAY_OF_WEEK="firstDayOfWeek",he.TODAY="today",he.WEEK_HEADER="weekHeader",he.WEAK="weak",he.MEDIUM="medium",he.STRONG="strong",he.PASSWORD_PROMPT="passwordPrompt",he.EMPTY_MESSAGE="emptyMessage",he.EMPTY_FILTER_MESSAGE="emptyFilterMessage",he})(),de=(()=>{class he{constructor(){this.filters={startsWith:(_e,Oe,at)=>{if(null==Oe||""===Oe.trim())return!0;if(null==_e)return!1;let Ne=c.gb.removeAccents(Oe.toString()).toLocaleLowerCase(at);return c.gb.removeAccents(_e.toString()).toLocaleLowerCase(at).slice(0,Ne.length)===Ne},contains:(_e,Oe,at)=>{if(null==Oe||"string"==typeof Oe&&""===Oe.trim())return!0;if(null==_e)return!1;let Ne=c.gb.removeAccents(Oe.toString()).toLocaleLowerCase(at);return-1!==c.gb.removeAccents(_e.toString()).toLocaleLowerCase(at).indexOf(Ne)},notContains:(_e,Oe,at)=>{if(null==Oe||"string"==typeof Oe&&""===Oe.trim())return!0;if(null==_e)return!1;let Ne=c.gb.removeAccents(Oe.toString()).toLocaleLowerCase(at);return-1===c.gb.removeAccents(_e.toString()).toLocaleLowerCase(at).indexOf(Ne)},endsWith:(_e,Oe,at)=>{if(null==Oe||""===Oe.trim())return!0;if(null==_e)return!1;let Ne=c.gb.removeAccents(Oe.toString()).toLocaleLowerCase(at),Re=c.gb.removeAccents(_e.toString()).toLocaleLowerCase(at);return-1!==Re.indexOf(Ne,Re.length-Ne.length)},equals:(_e,Oe,at)=>null==Oe||"string"==typeof Oe&&""===Oe.trim()||null!=_e&&(_e.getTime&&Oe.getTime?_e.getTime()===Oe.getTime():c.gb.removeAccents(_e.toString()).toLocaleLowerCase(at)==c.gb.removeAccents(Oe.toString()).toLocaleLowerCase(at)),notEquals:(_e,Oe,at)=>!(null==Oe||"string"==typeof Oe&&""===Oe.trim()||null!=_e&&(_e.getTime&&Oe.getTime?_e.getTime()===Oe.getTime():c.gb.removeAccents(_e.toString()).toLocaleLowerCase(at)==c.gb.removeAccents(Oe.toString()).toLocaleLowerCase(at))),in:(_e,Oe)=>{if(null==Oe||0===Oe.length)return!0;for(let at=0;at<Oe.length;at++)if(c.gb.equals(_e,Oe[at]))return!0;return!1},between:(_e,Oe)=>null==Oe||null==Oe[0]||null==Oe[1]||null!=_e&&(_e.getTime?Oe[0].getTime()<=_e.getTime()&&_e.getTime()<=Oe[1].getTime():Oe[0]<=_e&&_e<=Oe[1]),lt:(_e,Oe,at)=>null==Oe||null!=_e&&(_e.getTime&&Oe.getTime?_e.getTime()<Oe.getTime():_e<Oe),lte:(_e,Oe,at)=>null==Oe||null!=_e&&(_e.getTime&&Oe.getTime?_e.getTime()<=Oe.getTime():_e<=Oe),gt:(_e,Oe,at)=>null==Oe||null!=_e&&(_e.getTime&&Oe.getTime?_e.getTime()>Oe.getTime():_e>Oe),gte:(_e,Oe,at)=>null==Oe||null!=_e&&(_e.getTime&&Oe.getTime?_e.getTime()>=Oe.getTime():_e>=Oe),is:(_e,Oe,at)=>this.filters.equals(_e,Oe,at),isNot:(_e,Oe,at)=>this.filters.notEquals(_e,Oe,at),before:(_e,Oe,at)=>this.filters.lt(_e,Oe,at),after:(_e,Oe,at)=>this.filters.gt(_e,Oe,at),dateIs:(_e,Oe)=>null==Oe||null!=_e&&_e.toDateString()===Oe.toDateString(),dateIsNot:(_e,Oe)=>null==Oe||null!=_e&&_e.toDateString()!==Oe.toDateString(),dateBefore:(_e,Oe)=>null==Oe||null!=_e&&_e.getTime()<Oe.getTime(),dateAfter:(_e,Oe)=>null==Oe||null!=_e&&_e.getTime()>Oe.getTime()}}filter(_e,Oe,at,Ne,Re){let Je=[];if(_e)for(let et of _e)for(let _t of Oe){let Ge=c.gb.resolveFieldData(et,_t);if(this.filters[Ne](Ge,at,Re)){Je.push(et);break}}return Je}register(_e,Oe){this.filters[_e]=Oe}}return he.\u0275fac=function(_e){return new(_e||he)},he.\u0275prov=D.Yz7({token:he,factory:he.\u0275fac,providedIn:"root"}),he})(),Ye=(()=>{class he{constructor(){this.clickSource=new X.x,this.clickObservable=this.clickSource.asObservable()}add(_e){_e&&this.clickSource.next(_e)}}return he.\u0275fac=function(_e){return new(_e||he)},he.\u0275prov=D.Yz7({token:he,factory:he.\u0275fac,providedIn:"root"}),he})(),_n=(()=>{class he{constructor(_e){this.template=_e}getType(){return this.name}}return he.\u0275fac=function(_e){return new(_e||he)(D.Y36(D.Rgc))},he.\u0275dir=D.lG2({type:he,selectors:[["","pTemplate",""]],inputs:{type:"type",name:["pTemplate","name"]}}),he})(),Ht=(()=>{class he{}return he.\u0275fac=function(_e){return new(_e||he)},he.\u0275mod=D.oAB({type:he}),he.\u0275inj=D.cJS({imports:[[$e.ez]]}),he})(),Ft=(()=>{class he{constructor(){this.dragStartSource=new X.x,this.dragStopSource=new X.x,this.dragStart$=this.dragStartSource.asObservable(),this.dragStop$=this.dragStopSource.asObservable()}startDrag(_e){this.dragStartSource.next(_e)}stopDrag(_e){this.dragStopSource.next(_e)}}return he.\u0275fac=function(_e){return new(_e||he)},he.\u0275prov=D.Yz7({token:he,factory:he.\u0275fac}),he})()},845:(dn,tt,z)=>{z.d(tt,{hJ:()=>Ye,zx:()=>st});var D=z(7587),X=z(9808),c=z(5787),$e=z(9783);function J(Tt,xt){1&Tt&&D.GkF(0)}const ae=function(Tt,xt,Fe,Ut){return{"p-button-icon":!0,"p-button-icon-left":Tt,"p-button-icon-right":xt,"p-button-icon-top":Fe,"p-button-icon-bottom":Ut}};function ee(Tt,xt){if(1&Tt&&D._UZ(0,"span",4),2&Tt){const Fe=D.oxw();D.Tol(Fe.loading?"p-button-loading-icon "+Fe.loadingIcon:Fe.icon),D.Q6J("ngClass",D.l5B(4,ae,"left"===Fe.iconPos&&Fe.label,"right"===Fe.iconPos&&Fe.label,"top"===Fe.iconPos&&Fe.label,"bottom"===Fe.iconPos&&Fe.label)),D.uIk("aria-hidden",!0)}}function xe(Tt,xt){if(1&Tt&&(D.TgZ(0,"span",5),D._uU(1),D.qZA()),2&Tt){const Fe=D.oxw();D.uIk("aria-hidden",Fe.icon&&!Fe.label),D.xp6(1),D.Oqu(Fe.label||"\xa0")}}function me(Tt,xt){if(1&Tt&&(D.TgZ(0,"span",4),D._uU(1),D.qZA()),2&Tt){const Fe=D.oxw();D.Tol(Fe.badgeClass),D.Q6J("ngClass",Fe.badgeStyleClass()),D.xp6(1),D.Oqu(Fe.badge)}}const oe=function(Tt,xt,Fe,Ut,_n){return{"p-button p-component":!0,"p-button-icon-only":Tt,"p-button-vertical":xt,"p-disabled":Fe,"p-button-loading":Ut,"p-button-loading-label-only":_n}},de=["*"];let st=(()=>{class Tt{constructor(){this.type="button",this.iconPos="left",this.loading=!1,this.loadingIcon="pi pi-spinner pi-spin",this.onClick=new D.vpe,this.onFocus=new D.vpe,this.onBlur=new D.vpe}ngAfterContentInit(){this.templates.forEach(Fe=>{Fe.getType(),this.contentTemplate=Fe.template})}badgeStyleClass(){return{"p-badge p-component":!0,"p-badge-no-gutter":this.badge&&1===String(this.badge).length}}}return Tt.\u0275fac=function(Fe){return new(Fe||Tt)},Tt.\u0275cmp=D.Xpm({type:Tt,selectors:[["p-button"]],contentQueries:function(Fe,Ut,_n){if(1&Fe&&D.Suo(_n,$e.jx,4),2&Fe){let Ht;D.iGM(Ht=D.CRH())&&(Ut.templates=Ht)}},hostAttrs:[1,"p-element"],inputs:{type:"type",iconPos:"iconPos",icon:"icon",badge:"badge",label:"label",disabled:"disabled",loading:"loading",loadingIcon:"loadingIcon",style:"style",styleClass:"styleClass",badgeClass:"badgeClass",ariaLabel:"ariaLabel"},outputs:{onClick:"onClick",onFocus:"onFocus",onBlur:"onBlur"},ngContentSelectors:de,decls:6,vars:17,consts:[["pRipple","",3,"ngStyle","disabled","ngClass","click","focus","blur"],[4,"ngTemplateOutlet"],[3,"ngClass","class",4,"ngIf"],["class","p-button-label",4,"ngIf"],[3,"ngClass"],[1,"p-button-label"]],template:function(Fe,Ut){1&Fe&&(D.F$t(),D.TgZ(0,"button",0),D.NdJ("click",function(Ht){return Ut.onClick.emit(Ht)})("focus",function(Ht){return Ut.onFocus.emit(Ht)})("blur",function(Ht){return Ut.onBlur.emit(Ht)}),D.Hsn(1),D.YNc(2,J,1,0,"ng-container",1),D.YNc(3,ee,1,9,"span",2),D.YNc(4,xe,2,2,"span",3),D.YNc(5,me,2,4,"span",2),D.qZA()),2&Fe&&(D.Tol(Ut.styleClass),D.Q6J("ngStyle",Ut.style)("disabled",Ut.disabled||Ut.loading)("ngClass",D.qbA(11,oe,Ut.icon&&!Ut.label,("top"===Ut.iconPos||"bottom"===Ut.iconPos)&&Ut.label,Ut.disabled||Ut.loading,Ut.loading,Ut.loading&&!Ut.icon&&Ut.label)),D.uIk("type",Ut.type)("aria-label",Ut.ariaLabel),D.xp6(2),D.Q6J("ngTemplateOutlet",Ut.contentTemplate),D.xp6(1),D.Q6J("ngIf",!Ut.contentTemplate&&(Ut.icon||Ut.loading)),D.xp6(1),D.Q6J("ngIf",!Ut.contentTemplate),D.xp6(1),D.Q6J("ngIf",!Ut.contentTemplate&&Ut.badge))},directives:[c.H,X.PC,X.mk,X.tP,X.O5],encapsulation:2,changeDetection:0}),Tt})(),Ye=(()=>{class Tt{}return Tt.\u0275fac=function(Fe){return new(Fe||Tt)},Tt.\u0275mod=D.oAB({type:Tt}),Tt.\u0275inj=D.cJS({imports:[[X.ez,c.T]]}),Tt})()},5730:(dn,tt,z)=>{z.d(tt,{V:()=>X,p:()=>D});let D=(()=>{class c{static addClass(J,ae){J.classList?J.classList.add(ae):J.className+=" "+ae}static addMultipleClasses(J,ae){if(J.classList){let ee=ae.trim().split(" ");for(let xe=0;xe<ee.length;xe++)J.classList.add(ee[xe])}else{let ee=ae.split(" ");for(let xe=0;xe<ee.length;xe++)J.className+=" "+ee[xe]}}static removeClass(J,ae){J.classList?J.classList.remove(ae):J.className=J.className.replace(new RegExp("(^|\\b)"+ae.split(" ").join("|")+"(\\b|$)","gi")," ")}static hasClass(J,ae){return J.classList?J.classList.contains(ae):new RegExp("(^| )"+ae+"( |$)","gi").test(J.className)}static siblings(J){return Array.prototype.filter.call(J.parentNode.children,function(ae){return ae!==J})}static find(J,ae){return Array.from(J.querySelectorAll(ae))}static findSingle(J,ae){return J?J.querySelector(ae):null}static index(J){let ae=J.parentNode.childNodes,ee=0;for(var xe=0;xe<ae.length;xe++){if(ae[xe]==J)return ee;1==ae[xe].nodeType&&ee++}return-1}static indexWithinGroup(J,ae){let ee=J.parentNode?J.parentNode.childNodes:[],xe=0;for(var me=0;me<ee.length;me++){if(ee[me]==J)return xe;ee[me].attributes&&ee[me].attributes[ae]&&1==ee[me].nodeType&&xe++}return-1}static relativePosition(J,ae){let ee=J.offsetParent?{width:J.offsetWidth,height:J.offsetHeight}:this.getHiddenElementDimensions(J);const xe=ae.offsetHeight,me=ae.getBoundingClientRect(),oe=this.getViewport();let de,Se;me.top+xe+ee.height>oe.height?(de=-1*ee.height,J.style.transformOrigin="bottom",me.top+de<0&&(de=-1*me.top)):(de=xe,J.style.transformOrigin="top"),Se=ee.width>oe.width?-1*me.left:me.left+ee.width>oe.width?-1*(me.left+ee.width-oe.width):0,J.style.top=de+"px",J.style.left=Se+"px"}static absolutePosition(J,ae){let xt,Fe,ee=J.offsetParent?{width:J.offsetWidth,height:J.offsetHeight}:this.getHiddenElementDimensions(J),xe=ee.height,me=ee.width,oe=ae.offsetHeight,de=ae.offsetWidth,Se=ae.getBoundingClientRect(),st=this.getWindowScrollTop(),Ye=this.getWindowScrollLeft(),Tt=this.getViewport();Se.top+oe+xe>Tt.height?(xt=Se.top+st-xe,J.style.transformOrigin="bottom",xt<0&&(xt=st)):(xt=oe+Se.top+st,J.style.transformOrigin="top"),Fe=Se.left+me>Tt.width?Math.max(0,Se.left+Ye+de-me):Se.left+Ye,J.style.top=xt+"px",J.style.left=Fe+"px"}static getParents(J,ae=[]){return null===J.parentNode?ae:this.getParents(J.parentNode,ae.concat([J.parentNode]))}static getScrollableParents(J){let ae=[];if(J){let ee=this.getParents(J);const xe=/(auto|scroll)/,me=oe=>{let de=window.getComputedStyle(oe,null);return xe.test(de.getPropertyValue("overflow"))||xe.test(de.getPropertyValue("overflowX"))||xe.test(de.getPropertyValue("overflowY"))};for(let oe of ee){let de=1===oe.nodeType&&oe.dataset.scrollselectors;if(de){let Se=de.split(",");for(let st of Se){let Ye=this.findSingle(oe,st);Ye&&me(Ye)&&ae.push(Ye)}}9!==oe.nodeType&&me(oe)&&ae.push(oe)}}return ae}static getHiddenElementOuterHeight(J){J.style.visibility="hidden",J.style.display="block";let ae=J.offsetHeight;return J.style.display="none",J.style.visibility="visible",ae}static getHiddenElementOuterWidth(J){J.style.visibility="hidden",J.style.display="block";let ae=J.offsetWidth;return J.style.display="none",J.style.visibility="visible",ae}static getHiddenElementDimensions(J){let ae={};return J.style.visibility="hidden",J.style.display="block",ae.width=J.offsetWidth,ae.height=J.offsetHeight,J.style.display="none",J.style.visibility="visible",ae}static scrollInView(J,ae){let ee=getComputedStyle(J).getPropertyValue("borderTopWidth"),xe=ee?parseFloat(ee):0,me=getComputedStyle(J).getPropertyValue("paddingTop"),oe=me?parseFloat(me):0,de=J.getBoundingClientRect(),st=ae.getBoundingClientRect().top+document.body.scrollTop-(de.top+document.body.scrollTop)-xe-oe,Ye=J.scrollTop,Tt=J.clientHeight,xt=this.getOuterHeight(ae);st<0?J.scrollTop=Ye+st:st+xt>Tt&&(J.scrollTop=Ye+st-Tt+xt)}static fadeIn(J,ae){J.style.opacity=0;let ee=+new Date,xe=0,me=function(){xe=+J.style.opacity.replace(",",".")+((new Date).getTime()-ee)/ae,J.style.opacity=xe,ee=+new Date,+xe<1&&(window.requestAnimationFrame&&requestAnimationFrame(me)||setTimeout(me,16))};me()}static fadeOut(J,ae){var ee=1,oe=50/ae;let de=setInterval(()=>{(ee-=oe)<=0&&(ee=0,clearInterval(de)),J.style.opacity=ee},50)}static getWindowScrollTop(){let J=document.documentElement;return(window.pageYOffset||J.scrollTop)-(J.clientTop||0)}static getWindowScrollLeft(){let J=document.documentElement;return(window.pageXOffset||J.scrollLeft)-(J.clientLeft||0)}static matches(J,ae){var ee=Element.prototype;return(ee.matches||ee.webkitMatchesSelector||ee.mozMatchesSelector||ee.msMatchesSelector||function(me){return-1!==[].indexOf.call(document.querySelectorAll(me),this)}).call(J,ae)}static getOuterWidth(J,ae){let ee=J.offsetWidth;if(ae){let xe=getComputedStyle(J);ee+=parseFloat(xe.marginLeft)+parseFloat(xe.marginRight)}return ee}static getHorizontalPadding(J){let ae=getComputedStyle(J);return parseFloat(ae.paddingLeft)+parseFloat(ae.paddingRight)}static getHorizontalMargin(J){let ae=getComputedStyle(J);return parseFloat(ae.marginLeft)+parseFloat(ae.marginRight)}static innerWidth(J){let ae=J.offsetWidth,ee=getComputedStyle(J);return ae+=parseFloat(ee.paddingLeft)+parseFloat(ee.paddingRight),ae}static width(J){let ae=J.offsetWidth,ee=getComputedStyle(J);return ae-=parseFloat(ee.paddingLeft)+parseFloat(ee.paddingRight),ae}static getInnerHeight(J){let ae=J.offsetHeight,ee=getComputedStyle(J);return ae+=parseFloat(ee.paddingTop)+parseFloat(ee.paddingBottom),ae}static getOuterHeight(J,ae){let ee=J.offsetHeight;if(ae){let xe=getComputedStyle(J);ee+=parseFloat(xe.marginTop)+parseFloat(xe.marginBottom)}return ee}static getHeight(J){let ae=J.offsetHeight,ee=getComputedStyle(J);return ae-=parseFloat(ee.paddingTop)+parseFloat(ee.paddingBottom)+parseFloat(ee.borderTopWidth)+parseFloat(ee.borderBottomWidth),ae}static getWidth(J){let ae=J.offsetWidth,ee=getComputedStyle(J);return ae-=parseFloat(ee.paddingLeft)+parseFloat(ee.paddingRight)+parseFloat(ee.borderLeftWidth)+parseFloat(ee.borderRightWidth),ae}static getViewport(){let J=window,ae=document,ee=ae.documentElement,xe=ae.getElementsByTagName("body")[0];return{width:J.innerWidth||ee.clientWidth||xe.clientWidth,height:J.innerHeight||ee.clientHeight||xe.clientHeight}}static getOffset(J){var ae=J.getBoundingClientRect();return{top:ae.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:ae.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}static replaceElementWith(J,ae){let ee=J.parentNode;if(!ee)throw"Can't replace element";return ee.replaceChild(ae,J)}static getUserAgent(){return navigator.userAgent}static isIE(){var J=window.navigator.userAgent;return J.indexOf("MSIE ")>0||(J.indexOf("Trident/")>0?(J.indexOf("rv:"),!0):J.indexOf("Edge/")>0)}static isIOS(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}static isAndroid(){return/(android)/i.test(navigator.userAgent)}static isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0}static appendChild(J,ae){if(this.isElement(ae))ae.appendChild(J);else{if(!ae.el||!ae.el.nativeElement)throw"Cannot append "+ae+" to "+J;ae.el.nativeElement.appendChild(J)}}static removeChild(J,ae){if(this.isElement(ae))ae.removeChild(J);else{if(!ae.el||!ae.el.nativeElement)throw"Cannot remove "+J+" from "+ae;ae.el.nativeElement.removeChild(J)}}static removeElement(J){"remove"in Element.prototype?J.remove():J.parentNode.removeChild(J)}static isElement(J){return"object"==typeof HTMLElement?J instanceof HTMLElement:J&&"object"==typeof J&&null!==J&&1===J.nodeType&&"string"==typeof J.nodeName}static calculateScrollbarWidth(J){if(J){let ae=getComputedStyle(J);return J.offsetWidth-J.clientWidth-parseFloat(ae.borderLeftWidth)-parseFloat(ae.borderRightWidth)}{if(null!==this.calculatedScrollbarWidth)return this.calculatedScrollbarWidth;let ae=document.createElement("div");ae.className="p-scrollbar-measure",document.body.appendChild(ae);let ee=ae.offsetWidth-ae.clientWidth;return document.body.removeChild(ae),this.calculatedScrollbarWidth=ee,ee}}static calculateScrollbarHeight(){if(null!==this.calculatedScrollbarHeight)return this.calculatedScrollbarHeight;let J=document.createElement("div");J.className="p-scrollbar-measure",document.body.appendChild(J);let ae=J.offsetHeight-J.clientHeight;return document.body.removeChild(J),this.calculatedScrollbarWidth=ae,ae}static invokeElementMethod(J,ae,ee){J[ae].apply(J,ee)}static clearSelection(){if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().rangeCount>0&&window.getSelection().getRangeAt(0).getClientRects().length>0&&window.getSelection().removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch(J){}}static getBrowser(){if(!this.browser){let J=this.resolveUserAgent();this.browser={},J.browser&&(this.browser[J.browser]=!0,this.browser.version=J.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)}return this.browser}static resolveUserAgent(){let J=navigator.userAgent.toLowerCase(),ae=/(chrome)[ \/]([\w.]+)/.exec(J)||/(webkit)[ \/]([\w.]+)/.exec(J)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(J)||/(msie) ([\w.]+)/.exec(J)||J.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(J)||[];return{browser:ae[1]||"",version:ae[2]||"0"}}static isInteger(J){return Number.isInteger?Number.isInteger(J):"number"==typeof J&&isFinite(J)&&Math.floor(J)===J}static isHidden(J){return null===J.offsetParent}static getFocusableElements(J){let ae=c.find(J,'button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]), select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]), [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]):not(.p-disabled)'),ee=[];for(let xe of ae)"none"!=getComputedStyle(xe).display&&"hidden"!=getComputedStyle(xe).visibility&&ee.push(xe);return ee}static generateZIndex(){return this.zindex=this.zindex||999,++this.zindex}}return c.zindex=1e3,c.calculatedScrollbarWidth=null,c.calculatedScrollbarHeight=null,c})();class X{constructor($e,J=(()=>{})){this.element=$e,this.listener=J}bindScrollListener(){this.scrollableParents=D.getScrollableParents(this.element);for(let $e=0;$e<this.scrollableParents.length;$e++)this.scrollableParents[$e].addEventListener("scroll",this.listener)}unbindScrollListener(){if(this.scrollableParents)for(let $e=0;$e<this.scrollableParents.length;$e++)this.scrollableParents[$e].removeEventListener("scroll",this.listener)}destroy(){this.unbindScrollListener(),this.element=null,this.listener=null,this.scrollableParents=null}}},5787:(dn,tt,z)=>{z.d(tt,{H:()=>J,T:()=>ae});var D=z(7587),X=z(9808),c=z(5730),$e=z(9783);let J=(()=>{class ee{constructor(me,oe,de){this.el=me,this.zone=oe,this.config=de}ngAfterViewInit(){this.config&&this.config.ripple&&this.zone.runOutsideAngular(()=>{this.create(),this.mouseDownListener=this.onMouseDown.bind(this),this.el.nativeElement.addEventListener("mousedown",this.mouseDownListener)})}onMouseDown(me){let oe=this.getInk();if(!oe||"none"===getComputedStyle(oe,null).display)return;if(c.p.removeClass(oe,"p-ink-active"),!c.p.getHeight(oe)&&!c.p.getWidth(oe)){let Ye=Math.max(c.p.getOuterWidth(this.el.nativeElement),c.p.getOuterHeight(this.el.nativeElement));oe.style.height=Ye+"px",oe.style.width=Ye+"px"}let de=c.p.getOffset(this.el.nativeElement),Se=me.pageX-de.left+document.body.scrollTop-c.p.getWidth(oe)/2,st=me.pageY-de.top+document.body.scrollLeft-c.p.getHeight(oe)/2;oe.style.top=st+"px",oe.style.left=Se+"px",c.p.addClass(oe,"p-ink-active")}getInk(){for(let me=0;me<this.el.nativeElement.children.length;me++)if(-1!==this.el.nativeElement.children[me].className.indexOf("p-ink"))return this.el.nativeElement.children[me];return null}resetInk(){let me=this.getInk();me&&c.p.removeClass(me,"p-ink-active")}onAnimationEnd(me){c.p.removeClass(me.currentTarget,"p-ink-active")}create(){let me=document.createElement("span");me.className="p-ink",this.el.nativeElement.appendChild(me),this.animationListener=this.onAnimationEnd.bind(this),me.addEventListener("animationend",this.animationListener)}remove(){let me=this.getInk();me&&(this.el.nativeElement.removeEventListener("mousedown",this.mouseDownListener),me.removeEventListener("animationend",this.animationListener),c.p.removeElement(me))}ngOnDestroy(){this.config&&this.config.ripple&&this.remove()}}return ee.\u0275fac=function(me){return new(me||ee)(D.Y36(D.SBq),D.Y36(D.R0b),D.Y36($e.b4,8))},ee.\u0275dir=D.lG2({type:ee,selectors:[["","pRipple",""]],hostAttrs:[1,"p-ripple","p-element"]}),ee})(),ae=(()=>{class ee{}return ee.\u0275fac=function(me){return new(me||ee)},ee.\u0275mod=D.oAB({type:ee}),ee.\u0275inj=D.cJS({imports:[[X.ez]]}),ee})()},4119:(dn,tt,z)=>{z.d(tt,{u:()=>ae,z:()=>ee});var D=z(7587),X=z(9808),c=z(5730),$e=z(5921),J=z(9783);let ae=(()=>{class xe{constructor(oe,de,Se){this.el=oe,this.zone=de,this.config=Se,this.escape=!0,this._tooltipOptions={tooltipPosition:"right",tooltipEvent:"hover",appendTo:"body",tooltipZIndex:"auto",escape:!0,positionTop:0,positionLeft:0}}get disabled(){return this._disabled}set disabled(oe){this._disabled=oe,this.deactivate()}ngAfterViewInit(){this.zone.runOutsideAngular(()=>{"hover"===this.getOption("tooltipEvent")?(this.mouseEnterListener=this.onMouseEnter.bind(this),this.mouseLeaveListener=this.onMouseLeave.bind(this),this.clickListener=this.onClick.bind(this),this.el.nativeElement.addEventListener("mouseenter",this.mouseEnterListener),this.el.nativeElement.addEventListener("mouseleave",this.mouseLeaveListener),this.el.nativeElement.addEventListener("click",this.clickListener)):"focus"===this.getOption("tooltipEvent")&&(this.focusListener=this.onFocus.bind(this),this.blurListener=this.onBlur.bind(this),this.el.nativeElement.addEventListener("focus",this.focusListener),this.el.nativeElement.addEventListener("blur",this.blurListener))})}ngOnChanges(oe){oe.tooltipPosition&&this.setOption({tooltipPosition:oe.tooltipPosition.currentValue}),oe.tooltipEvent&&this.setOption({tooltipEvent:oe.tooltipEvent.currentValue}),oe.appendTo&&this.setOption({appendTo:oe.appendTo.currentValue}),oe.positionStyle&&this.setOption({positionStyle:oe.positionStyle.currentValue}),oe.tooltipStyleClass&&this.setOption({tooltipStyleClass:oe.tooltipStyleClass.currentValue}),oe.tooltipZIndex&&this.setOption({tooltipZIndex:oe.tooltipZIndex.currentValue}),oe.escape&&this.setOption({escape:oe.escape.currentValue}),oe.showDelay&&this.setOption({showDelay:oe.showDelay.currentValue}),oe.hideDelay&&this.setOption({hideDelay:oe.hideDelay.currentValue}),oe.life&&this.setOption({life:oe.life.currentValue}),oe.positionTop&&this.setOption({positionTop:oe.positionTop.currentValue}),oe.positionLeft&&this.setOption({positionLeft:oe.positionLeft.currentValue}),oe.disabled&&this.setOption({disabled:oe.disabled.currentValue}),oe.text&&(this.setOption({tooltipLabel:oe.text.currentValue}),this.active&&(oe.text.currentValue?this.container&&this.container.offsetParent?(this.updateText(),this.align()):this.show():this.hide())),oe.tooltipOptions&&(this._tooltipOptions=Object.assign(Object.assign({},this._tooltipOptions),oe.tooltipOptions.currentValue),this.deactivate(),this.active&&(this.getOption("tooltipLabel")?this.container&&this.container.offsetParent?(this.updateText(),this.align()):this.show():this.hide()))}onMouseEnter(oe){!this.container&&!this.showTimeout&&this.activate()}onMouseLeave(oe){this.deactivate()}onFocus(oe){this.activate()}onBlur(oe){this.deactivate()}onClick(oe){this.deactivate()}activate(){if(this.active=!0,this.clearHideTimeout(),this.getOption("showDelay")?this.showTimeout=setTimeout(()=>{this.show()},this.getOption("showDelay")):this.show(),this.getOption("life")){let oe=this.getOption("showDelay")?this.getOption("life")+this.getOption("showDelay"):this.getOption("life");this.hideTimeout=setTimeout(()=>{this.hide()},oe)}}deactivate(){this.active=!1,this.clearShowTimeout(),this.getOption("hideDelay")?(this.clearHideTimeout(),this.hideTimeout=setTimeout(()=>{this.hide()},this.getOption("hideDelay"))):this.hide()}create(){this.container&&(this.clearHideTimeout(),this.remove()),this.container=document.createElement("div");let oe=document.createElement("div");oe.className="p-tooltip-arrow",this.container.appendChild(oe),this.tooltipText=document.createElement("div"),this.tooltipText.className="p-tooltip-text",this.updateText(),this.getOption("positionStyle")&&(this.container.style.position=this.getOption("positionStyle")),this.container.appendChild(this.tooltipText),"body"===this.getOption("appendTo")?document.body.appendChild(this.container):"target"===this.getOption("appendTo")?c.p.appendChild(this.container,this.el.nativeElement):c.p.appendChild(this.container,this.getOption("appendTo")),this.container.style.display="inline-block"}show(){!this.getOption("tooltipLabel")||this.getOption("disabled")||(this.create(),this.align(),c.p.fadeIn(this.container,250),"auto"===this.getOption("tooltipZIndex")?$e.P9.set("tooltip",this.container,this.config.zIndex.tooltip):this.container.style.zIndex=this.getOption("tooltipZIndex"),this.bindDocumentResizeListener(),this.bindScrollListener())}hide(){"auto"===this.getOption("tooltipZIndex")&&$e.P9.clear(this.container),this.remove()}updateText(){this.getOption("escape")?(this.tooltipText.innerHTML="",this.tooltipText.appendChild(document.createTextNode(this.getOption("tooltipLabel")))):this.tooltipText.innerHTML=this.getOption("tooltipLabel")}align(){switch(this.getOption("tooltipPosition")){case"top":this.alignTop(),this.isOutOfBounds()&&(this.alignBottom(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&this.alignLeft()));break;case"bottom":this.alignBottom(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&this.alignLeft()));break;case"left":this.alignLeft(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&this.alignBottom()));break;case"right":this.alignRight(),this.isOutOfBounds()&&(this.alignLeft(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&this.alignBottom()))}}getHostOffset(){if("body"===this.getOption("appendTo")||"target"===this.getOption("appendTo")){let oe=this.el.nativeElement.getBoundingClientRect();return{left:oe.left+c.p.getWindowScrollLeft(),top:oe.top+c.p.getWindowScrollTop()}}return{left:0,top:0}}alignRight(){this.preAlign("right");let oe=this.getHostOffset(),de=oe.left+c.p.getOuterWidth(this.el.nativeElement),Se=oe.top+(c.p.getOuterHeight(this.el.nativeElement)-c.p.getOuterHeight(this.container))/2;this.container.style.left=de+this.getOption("positionLeft")+"px",this.container.style.top=Se+this.getOption("positionTop")+"px"}alignLeft(){this.preAlign("left");let oe=this.getHostOffset(),de=oe.left-c.p.getOuterWidth(this.container),Se=oe.top+(c.p.getOuterHeight(this.el.nativeElement)-c.p.getOuterHeight(this.container))/2;this.container.style.left=de+this.getOption("positionLeft")+"px",this.container.style.top=Se+this.getOption("positionTop")+"px"}alignTop(){this.preAlign("top");let oe=this.getHostOffset(),de=oe.left+(c.p.getOuterWidth(this.el.nativeElement)-c.p.getOuterWidth(this.container))/2,Se=oe.top-c.p.getOuterHeight(this.container);this.container.style.left=de+this.getOption("positionLeft")+"px",this.container.style.top=Se+this.getOption("positionTop")+"px"}alignBottom(){this.preAlign("bottom");let oe=this.getHostOffset(),de=oe.left+(c.p.getOuterWidth(this.el.nativeElement)-c.p.getOuterWidth(this.container))/2,Se=oe.top+c.p.getOuterHeight(this.el.nativeElement);this.container.style.left=de+this.getOption("positionLeft")+"px",this.container.style.top=Se+this.getOption("positionTop")+"px"}setOption(oe){this._tooltipOptions=Object.assign(Object.assign({},this._tooltipOptions),oe)}getOption(oe){return this._tooltipOptions[oe]}preAlign(oe){this.container.style.left="-999px",this.container.style.top="-999px";let de="p-tooltip p-component p-tooltip-"+oe;this.container.className=this.getOption("tooltipStyleClass")?de+" "+this.getOption("tooltipStyleClass"):de}isOutOfBounds(){let oe=this.container.getBoundingClientRect(),de=oe.top,Se=oe.left,st=c.p.getOuterWidth(this.container),Ye=c.p.getOuterHeight(this.container),Tt=c.p.getViewport();return Se+st>Tt.width||Se<0||de<0||de+Ye>Tt.height}onWindowResize(oe){this.hide()}bindDocumentResizeListener(){this.zone.runOutsideAngular(()=>{this.resizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.resizeListener)})}unbindDocumentResizeListener(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new c.V(this.el.nativeElement,()=>{this.container&&this.hide()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}unbindEvents(){"hover"===this.getOption("tooltipEvent")?(this.el.nativeElement.removeEventListener("mouseenter",this.mouseEnterListener),this.el.nativeElement.removeEventListener("mouseleave",this.mouseLeaveListener),this.el.nativeElement.removeEventListener("click",this.clickListener)):"focus"===this.getOption("tooltipEvent")&&(this.el.nativeElement.removeEventListener("focus",this.focusListener),this.el.nativeElement.removeEventListener("blur",this.blurListener)),this.unbindDocumentResizeListener()}remove(){this.container&&this.container.parentElement&&("body"===this.getOption("appendTo")?document.body.removeChild(this.container):"target"===this.getOption("appendTo")?this.el.nativeElement.removeChild(this.container):c.p.removeChild(this.container,this.getOption("appendTo"))),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.clearTimeouts(),this.container=null,this.scrollHandler=null}clearShowTimeout(){this.showTimeout&&(clearTimeout(this.showTimeout),this.showTimeout=null)}clearHideTimeout(){this.hideTimeout&&(clearTimeout(this.hideTimeout),this.hideTimeout=null)}clearTimeouts(){this.clearShowTimeout(),this.clearHideTimeout()}ngOnDestroy(){this.unbindEvents(),this.container&&$e.P9.clear(this.container),this.remove(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null)}}return xe.\u0275fac=function(oe){return new(oe||xe)(D.Y36(D.SBq),D.Y36(D.R0b),D.Y36(J.b4))},xe.\u0275dir=D.lG2({type:xe,selectors:[["","pTooltip",""]],hostAttrs:[1,"p-element"],inputs:{tooltipPosition:"tooltipPosition",tooltipEvent:"tooltipEvent",appendTo:"appendTo",positionStyle:"positionStyle",tooltipStyleClass:"tooltipStyleClass",tooltipZIndex:"tooltipZIndex",escape:"escape",showDelay:"showDelay",hideDelay:"hideDelay",life:"life",positionTop:"positionTop",positionLeft:"positionLeft",text:["pTooltip","text"],disabled:["tooltipDisabled","disabled"],tooltipOptions:"tooltipOptions"},features:[D.TTD]}),xe})(),ee=(()=>{class xe{}return xe.\u0275fac=function(oe){return new(oe||xe)},xe.\u0275mod=D.oAB({type:xe}),xe.\u0275inj=D.cJS({imports:[[X.ez]]}),xe})()},5921:(dn,tt,z)=>{z.d(tt,{P9:()=>J,Th:()=>c,gb:()=>D});class D{static equals(ee,xe,me){return me?this.resolveFieldData(ee,me)===this.resolveFieldData(xe,me):this.equalsByValue(ee,xe)}static equalsByValue(ee,xe){if(ee===xe)return!0;if(ee&&xe&&"object"==typeof ee&&"object"==typeof xe){var de,Se,st,me=Array.isArray(ee),oe=Array.isArray(xe);if(me&&oe){if((Se=ee.length)!=xe.length)return!1;for(de=Se;0!=de--;)if(!this.equalsByValue(ee[de],xe[de]))return!1;return!0}if(me!=oe)return!1;var Ye=ee instanceof Date,Tt=xe instanceof Date;if(Ye!=Tt)return!1;if(Ye&&Tt)return ee.getTime()==xe.getTime();var xt=ee instanceof RegExp,Fe=xe instanceof RegExp;if(xt!=Fe)return!1;if(xt&&Fe)return ee.toString()==xe.toString();var Ut=Object.keys(ee);if((Se=Ut.length)!==Object.keys(xe).length)return!1;for(de=Se;0!=de--;)if(!Object.prototype.hasOwnProperty.call(xe,Ut[de]))return!1;for(de=Se;0!=de--;)if(!this.equalsByValue(ee[st=Ut[de]],xe[st]))return!1;return!0}return ee!=ee&&xe!=xe}static resolveFieldData(ee,xe){if(ee&&xe){if(this.isFunction(xe))return xe(ee);if(-1==xe.indexOf("."))return ee[xe];{let me=xe.split("."),oe=ee;for(let de=0,Se=me.length;de<Se;++de){if(null==oe)return null;oe=oe[me[de]]}return oe}}return null}static isFunction(ee){return!!(ee&&ee.constructor&&ee.call&&ee.apply)}static reorderArray(ee,xe,me){ee&&xe!==me&&(me>=ee.length&&(me%=ee.length,xe%=ee.length),ee.splice(me,0,ee.splice(xe,1)[0]))}static insertIntoOrderedArray(ee,xe,me,oe){if(me.length>0){let de=!1;for(let Se=0;Se<me.length;Se++)if(this.findIndexInList(me[Se],oe)>xe){me.splice(Se,0,ee),de=!0;break}de||me.push(ee)}else me.push(ee)}static findIndexInList(ee,xe){let me=-1;if(xe)for(let oe=0;oe<xe.length;oe++)if(xe[oe]==ee){me=oe;break}return me}static contains(ee,xe){if(null!=ee&&xe&&xe.length)for(let me of xe)if(this.equals(ee,me))return!0;return!1}static removeAccents(ee){return ee&&ee.search(/[\xC0-\xFF]/g)>-1&&(ee=ee.replace(/[\xC0-\xC5]/g,"A").replace(/[\xC6]/g,"AE").replace(/[\xC7]/g,"C").replace(/[\xC8-\xCB]/g,"E").replace(/[\xCC-\xCF]/g,"I").replace(/[\xD0]/g,"D").replace(/[\xD1]/g,"N").replace(/[\xD2-\xD6\xD8]/g,"O").replace(/[\xD9-\xDC]/g,"U").replace(/[\xDD]/g,"Y").replace(/[\xDE]/g,"P").replace(/[\xE0-\xE5]/g,"a").replace(/[\xE6]/g,"ae").replace(/[\xE7]/g,"c").replace(/[\xE8-\xEB]/g,"e").replace(/[\xEC-\xEF]/g,"i").replace(/[\xF1]/g,"n").replace(/[\xF2-\xF6\xF8]/g,"o").replace(/[\xF9-\xFC]/g,"u").replace(/[\xFE]/g,"p").replace(/[\xFD\xFF]/g,"y")),ee}static isEmpty(ee){return null==ee||""===ee||Array.isArray(ee)&&0===ee.length||!(ee instanceof Date)&&"object"==typeof ee&&0===Object.keys(ee).length}static isNotEmpty(ee){return!this.isEmpty(ee)}}var X=0;function c(){return"pr_id_"+ ++X}var J=function $e(){let ae=[];const oe=de=>de&&parseInt(de.style.zIndex,10)||0;return{get:oe,set:(de,Se,st)=>{Se&&(Se.style.zIndex=String(((de,Se)=>{let st=ae.length>0?ae[ae.length-1]:{key:de,value:Se},Ye=st.value+(st.key===de?0:Se)+1;return ae.push({key:de,value:Ye}),Ye})(de,st)))},clear:de=>{de&&((de=>{ae=ae.filter(Se=>Se.value!==de)})(oe(de)),de.style.zIndex="")},getCurrent:()=>ae.length>0?ae[ae.length-1].value:0}}()},5861:(dn,tt,z)=>{function D(c,$e,J,ae,ee,xe,me){try{var oe=c[xe](me),de=oe.value}catch(Se){return void J(Se)}oe.done?$e(de):Promise.resolve(de).then(ae,ee)}function X(c){return function(){var $e=this,J=arguments;return new Promise(function(ae,ee){var xe=c.apply($e,J);function me(de){D(xe,ae,ee,me,oe,"next",de)}function oe(de){D(xe,ae,ee,me,oe,"throw",de)}me(void 0)})}}z.d(tt,{Z:()=>X})}},dn=>{dn(dn.s=6246)}]);